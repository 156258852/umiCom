"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[113],{63606:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval(`
// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ icons_CheckOutlined; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(87462);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/CheckOutlined.js
// This icon file is generated automatically.
var CheckOutlined = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" } }] }, "name": "check", "theme": "outlined" };
/* harmony default export */ var asn_CheckOutlined = (CheckOutlined);

// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 2 modules
var AntdIcon = __webpack_require__(84089);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/CheckOutlined.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY




var CheckOutlined_CheckOutlined = function CheckOutlined(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_extends/* default */.Z)({}, props, {
    ref: ref,
    icon: asn_CheckOutlined
  }));
};

/**![check](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkxMiAxOTBoLTY5LjljLTkuOCAwLTE5LjEgNC41LTI1LjEgMTIuMkw0MDQuNyA3MjQuNSAyMDcgNDc0YTMyIDMyIDAgMDAtMjUuMS0xMi4ySDExMmMtNi43IDAtMTAuNCA3LjctNi4zIDEyLjlsMjczLjkgMzQ3YzEyLjggMTYuMiAzNy40IDE2LjIgNTAuMyAwbDQ4OC40LTYxOC45YzQuMS01LjEuNC0xMi44LTYuMy0xMi44eiIgLz48L3N2Zz4=) */
var RefIcon = /*#__PURE__*/react.forwardRef(CheckOutlined_CheckOutlined);
if (false) {}
/* harmony default export */ var icons_CheckOutlined = (RefIcon);//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM2MDYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBLHNCQUFzQixVQUFVLHlCQUF5QixrREFBa0QsaUJBQWlCLDBCQUEwQixtTUFBbU0sR0FBRztBQUM1VixzREFBZSxhQUFhLEVBQUM7Ozs7O0FDRjZCO0FBQzFEO0FBQ0E7O0FBRStCO0FBQzJDO0FBQzVCO0FBQzlDLElBQUksMkJBQWE7QUFDakIsc0JBQXNCLG1CQUFtQixDQUFDLHVCQUFRLEVBQUUsOEJBQVEsR0FBRztBQUMvRDtBQUNBLFVBQVUsaUJBQWdCO0FBQzFCLEdBQUc7QUFDSDs7QUFFQSwrQkFBK0I7QUFDL0IsMkJBQTJCLGdCQUFnQixDQUFDLDJCQUFhO0FBQ3pELElBQUksS0FBcUMsRUFBRSxFQUUxQztBQUNELHdEQUFlLE9BQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFudC1kZXNpZ24vaWNvbnMtc3ZnL2VzL2Fzbi9DaGVja091dGxpbmVkLmpzPzdjOTgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhbnQtZGVzaWduL2ljb25zL2VzL2ljb25zL0NoZWNrT3V0bGluZWQuanM/ODVjOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGljb24gZmlsZSBpcyBnZW5lcmF0ZWQgYXV0b21hdGljYWxseS5cbnZhciBDaGVja091dGxpbmVkID0geyBcImljb25cIjogeyBcInRhZ1wiOiBcInN2Z1wiLCBcImF0dHJzXCI6IHsgXCJ2aWV3Qm94XCI6IFwiNjQgNjQgODk2IDg5NlwiLCBcImZvY3VzYWJsZVwiOiBcImZhbHNlXCIgfSwgXCJjaGlsZHJlblwiOiBbeyBcInRhZ1wiOiBcInBhdGhcIiwgXCJhdHRyc1wiOiB7IFwiZFwiOiBcIk05MTIgMTkwaC02OS45Yy05LjggMC0xOS4xIDQuNS0yNS4xIDEyLjJMNDA0LjcgNzI0LjUgMjA3IDQ3NGEzMiAzMiAwIDAwLTI1LjEtMTIuMkgxMTJjLTYuNyAwLTEwLjQgNy43LTYuMyAxMi45bDI3My45IDM0N2MxMi44IDE2LjIgMzcuNCAxNi4yIDUwLjMgMGw0ODguNC02MTguOWM0LjEtNS4xLjQtMTIuOC02LjMtMTIuOHpcIiB9IH1dIH0sIFwibmFtZVwiOiBcImNoZWNrXCIsIFwidGhlbWVcIjogXCJvdXRsaW5lZFwiIH07XG5leHBvcnQgZGVmYXVsdCBDaGVja091dGxpbmVkO1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG4vLyBHRU5FUkFURSBCWSAuL3NjcmlwdHMvZ2VuZXJhdGUudHNcbi8vIERPTiBOT1QgRURJVCBJVCBNQU5VQUxMWVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hlY2tPdXRsaW5lZFN2ZyBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnMtc3ZnL2VzL2Fzbi9DaGVja091dGxpbmVkXCI7XG5pbXBvcnQgQW50ZEljb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQW50ZEljb25cIjtcbnZhciBDaGVja091dGxpbmVkID0gZnVuY3Rpb24gQ2hlY2tPdXRsaW5lZChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbnRkSWNvbiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiByZWYsXG4gICAgaWNvbjogQ2hlY2tPdXRsaW5lZFN2Z1xuICB9KSk7XG59O1xuXG4vKiohW2NoZWNrXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlOVEFpSUdobGFXZG9kRDBpTlRBaUlHWnBiR3c5SWlOallXTmhZMkVpSUhacFpYZENiM2c5SWpZMElEWTBJRGc1TmlBNE9UWWlJR1p2WTNWellXSnNaVDBpWm1Gc2MyVWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SStQSEJoZEdnZ1pEMGlUVGt4TWlBeE9UQm9MVFk1TGpsakxUa3VPQ0F3TFRFNUxqRWdOQzQxTFRJMUxqRWdNVEl1TWt3ME1EUXVOeUEzTWpRdU5TQXlNRGNnTkRjMFlUTXlJRE15SURBZ01EQXRNalV1TVMweE1pNHlTREV4TW1NdE5pNDNJREF0TVRBdU5DQTNMamN0Tmk0eklERXlMamxzTWpjekxqa2dNelEzWXpFeUxqZ2dNVFl1TWlBek55NDBJREUyTGpJZ05UQXVNeUF3YkRRNE9DNDBMVFl4T0M0NVl6UXVNUzAxTGpFdU5DMHhNaTQ0TFRZdU15MHhNaTQ0ZWlJZ0x6NDhMM04yWno0PSkgKi9cbnZhciBSZWZJY29uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoQ2hlY2tPdXRsaW5lZCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBSZWZJY29uLmRpc3BsYXlOYW1lID0gJ0NoZWNrT3V0bGluZWQnO1xufVxuZXhwb3J0IGRlZmF1bHQgUmVmSWNvbjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=webpack-internal:///63606
`)},99611:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval(`
// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ icons_EyeOutlined; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(87462);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/EyeOutlined.js
// This icon file is generated automatically.
var EyeOutlined = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" } }] }, "name": "eye", "theme": "outlined" };
/* harmony default export */ var asn_EyeOutlined = (EyeOutlined);

// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 2 modules
var AntdIcon = __webpack_require__(84089);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/EyeOutlined.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY




var EyeOutlined_EyeOutlined = function EyeOutlined(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_extends/* default */.Z)({}, props, {
    ref: ref,
    icon: asn_EyeOutlined
  }));
};

/**![eye](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTk0Mi4yIDQ4Ni4yQzg0Ny40IDI4Ni41IDcwNC4xIDE4NiA1MTIgMTg2Yy0xOTIuMiAwLTMzNS40IDEwMC41LTQzMC4yIDMwMC4zYTYwLjMgNjAuMyAwIDAwMCA1MS41QzE3Ni42IDczNy41IDMxOS45IDgzOCA1MTIgODM4YzE5Mi4yIDAgMzM1LjQtMTAwLjUgNDMwLjItMzAwLjMgNy43LTE2LjIgNy43LTM1IDAtNTEuNXpNNTEyIDc2NmMtMTYxLjMgMC0yNzkuNC04MS44LTM2Mi43LTI1NEMyMzIuNiAzMzkuOCAzNTAuNyAyNTggNTEyIDI1OGMxNjEuMyAwIDI3OS40IDgxLjggMzYyLjcgMjU0Qzc5MS41IDY4NC4yIDY3My40IDc2NiA1MTIgNzY2em0tNC00MzBjLTk3LjIgMC0xNzYgNzguOC0xNzYgMTc2czc4LjggMTc2IDE3NiAxNzYgMTc2LTc4LjggMTc2LTE3Ni03OC44LTE3Ni0xNzYtMTc2em0wIDI4OGMtNjEuOSAwLTExMi01MC4xLTExMi0xMTJzNTAuMS0xMTIgMTEyLTExMiAxMTIgNTAuMSAxMTIgMTEyLTUwLjEgMTEyLTExMiAxMTJ6IiAvPjwvc3ZnPg==) */
var RefIcon = /*#__PURE__*/react.forwardRef(EyeOutlined_EyeOutlined);
if (false) {}
/* harmony default export */ var icons_EyeOutlined = (RefIcon);//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk2MTEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBLG9CQUFvQixVQUFVLHlCQUF5QixrREFBa0QsaUJBQWlCLDBCQUEwQix3ZUFBd2UsR0FBRztBQUMvbkIsb0RBQWUsV0FBVyxFQUFDOzs7OztBQ0YrQjtBQUMxRDtBQUNBOztBQUUrQjtBQUN1QztBQUN4QjtBQUM5QyxJQUFJLHVCQUFXO0FBQ2Ysc0JBQXNCLG1CQUFtQixDQUFDLHVCQUFRLEVBQUUsOEJBQVEsR0FBRztBQUMvRDtBQUNBLFVBQVUsZUFBYztBQUN4QixHQUFHO0FBQ0g7O0FBRUEsNkJBQTZCO0FBQzdCLDJCQUEyQixnQkFBZ0IsQ0FBQyx1QkFBVztBQUN2RCxJQUFJLEtBQXFDLEVBQUUsRUFFMUM7QUFDRCxzREFBZSxPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhbnQtZGVzaWduL2ljb25zLXN2Zy9lcy9hc24vRXllT3V0bGluZWQuanM/NDE1NSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFudC1kZXNpZ24vaWNvbnMvZXMvaWNvbnMvRXllT3V0bGluZWQuanM/OWM2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGljb24gZmlsZSBpcyBnZW5lcmF0ZWQgYXV0b21hdGljYWxseS5cbnZhciBFeWVPdXRsaW5lZCA9IHsgXCJpY29uXCI6IHsgXCJ0YWdcIjogXCJzdmdcIiwgXCJhdHRyc1wiOiB7IFwidmlld0JveFwiOiBcIjY0IDY0IDg5NiA4OTZcIiwgXCJmb2N1c2FibGVcIjogXCJmYWxzZVwiIH0sIFwiY2hpbGRyZW5cIjogW3sgXCJ0YWdcIjogXCJwYXRoXCIsIFwiYXR0cnNcIjogeyBcImRcIjogXCJNOTQyLjIgNDg2LjJDODQ3LjQgMjg2LjUgNzA0LjEgMTg2IDUxMiAxODZjLTE5Mi4yIDAtMzM1LjQgMTAwLjUtNDMwLjIgMzAwLjNhNjAuMyA2MC4zIDAgMDAwIDUxLjVDMTc2LjYgNzM3LjUgMzE5LjkgODM4IDUxMiA4MzhjMTkyLjIgMCAzMzUuNC0xMDAuNSA0MzAuMi0zMDAuMyA3LjctMTYuMiA3LjctMzUgMC01MS41ek01MTIgNzY2Yy0xNjEuMyAwLTI3OS40LTgxLjgtMzYyLjctMjU0QzIzMi42IDMzOS44IDM1MC43IDI1OCA1MTIgMjU4YzE2MS4zIDAgMjc5LjQgODEuOCAzNjIuNyAyNTRDNzkxLjUgNjg0LjIgNjczLjQgNzY2IDUxMiA3NjZ6bS00LTQzMGMtOTcuMiAwLTE3NiA3OC44LTE3NiAxNzZzNzguOCAxNzYgMTc2IDE3NiAxNzYtNzguOCAxNzYtMTc2LTc4LjgtMTc2LTE3Ni0xNzZ6bTAgMjg4Yy02MS45IDAtMTEyLTUwLjEtMTEyLTExMnM1MC4xLTExMiAxMTItMTEyIDExMiA1MC4xIDExMiAxMTItNTAuMSAxMTItMTEyIDExMnpcIiB9IH1dIH0sIFwibmFtZVwiOiBcImV5ZVwiLCBcInRoZW1lXCI6IFwib3V0bGluZWRcIiB9O1xuZXhwb3J0IGRlZmF1bHQgRXllT3V0bGluZWQ7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbi8vIEdFTkVSQVRFIEJZIC4vc2NyaXB0cy9nZW5lcmF0ZS50c1xuLy8gRE9OIE5PVCBFRElUIElUIE1BTlVBTExZXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFeWVPdXRsaW5lZFN2ZyBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnMtc3ZnL2VzL2Fzbi9FeWVPdXRsaW5lZFwiO1xuaW1wb3J0IEFudGRJY29uIGZyb20gXCIuLi9jb21wb25lbnRzL0FudGRJY29uXCI7XG52YXIgRXllT3V0bGluZWQgPSBmdW5jdGlvbiBFeWVPdXRsaW5lZChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbnRkSWNvbiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiByZWYsXG4gICAgaWNvbjogRXllT3V0bGluZWRTdmdcbiAgfSkpO1xufTtcblxuLyoqIVtleWVdKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU5UQWlJR2hsYVdkb2REMGlOVEFpSUdacGJHdzlJaU5qWVdOaFkyRWlJSFpwWlhkQ2IzZzlJalkwSURZMElEZzVOaUE0T1RZaUlHWnZZM1Z6WVdKc1pUMGlabUZzYzJVaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BIQmhkR2dnWkQwaVRUazBNaTR5SURRNE5pNHlRemcwTnk0MElESTROaTQxSURjd05DNHhJREU0TmlBMU1USWdNVGcyWXkweE9USXVNaUF3TFRNek5TNDBJREV3TUM0MUxUUXpNQzR5SURNd01DNHpZVFl3TGpNZ05qQXVNeUF3SURBd01DQTFNUzQxUXpFM05pNDJJRGN6Tnk0MUlETXhPUzQ1SURnek9DQTFNVElnT0RNNFl6RTVNaTR5SURBZ016TTFMalF0TVRBd0xqVWdORE13TGpJdE16QXdMak1nTnk0M0xURTJMaklnTnk0M0xUTTFJREF0TlRFdU5YcE5OVEV5SURjMk5tTXRNVFl4TGpNZ01DMHlOemt1TkMwNE1TNDRMVE0yTWk0M0xUSTFORU15TXpJdU5pQXpNemt1T0NBek5UQXVOeUF5TlRnZ05URXlJREkxT0dNeE5qRXVNeUF3SURJM09TNDBJRGd4TGpnZ016WXlMamNnTWpVMFF6YzVNUzQxSURZNE5DNHlJRFkzTXk0MElEYzJOaUExTVRJZ056WTJlbTB0TkMwME16QmpMVGszTGpJZ01DMHhOellnTnpndU9DMHhOellnTVRjMmN6YzRMamdnTVRjMklERTNOaUF4TnpZZ01UYzJMVGM0TGpnZ01UYzJMVEUzTmkwM09DNDRMVEUzTmkweE56WXRNVGMyZW0wd0lESTRPR010TmpFdU9TQXdMVEV4TWkwMU1DNHhMVEV4TWkweE1USnpOVEF1TVMweE1USWdNVEV5TFRFeE1pQXhNVElnTlRBdU1TQXhNVElnTVRFeUxUVXdMakVnTVRFeUxURXhNaUF4TVRKNklpQXZQand2YzNablBnPT0pICovXG52YXIgUmVmSWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKEV5ZU91dGxpbmVkKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFJlZkljb24uZGlzcGxheU5hbWUgPSAnRXllT3V0bGluZWQnO1xufVxuZXhwb3J0IGRlZmF1bHQgUmVmSWNvbjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=webpack-internal:///99611
`)},2058:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval(`
// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ es_upload; }
});

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules
var toConsumableArray = __webpack_require__(74902);
// EXTERNAL MODULE: ./node_modules/react-dom/index.js
var react_dom = __webpack_require__(73935);
// EXTERNAL MODULE: ./node_modules/classnames/index.js
var classnames = __webpack_require__(93967);
var classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(87462);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js
var classCallCheck = __webpack_require__(15671);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js
var createClass = __webpack_require__(43144);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js
var assertThisInitialized = __webpack_require__(97326);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js
var inherits = __webpack_require__(60136);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 1 modules
var createSuper = __webpack_require__(18486);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js
var defineProperty = __webpack_require__(4942);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(1413);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules
var objectWithoutProperties = __webpack_require__(91);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
var esm_typeof = __webpack_require__(71002);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var regeneratorRuntime = __webpack_require__(74165);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(15861);
// EXTERNAL MODULE: ./node_modules/rc-util/es/pickAttrs.js
var pickAttrs = __webpack_require__(64217);
// EXTERNAL MODULE: ./node_modules/rc-util/es/warning.js
var warning = __webpack_require__(80334);
;// CONCATENATED MODULE: ./node_modules/rc-upload/es/attr-accept.js

/* harmony default export */ var attr_accept = (function (file, acceptedFiles) {
  if (file && acceptedFiles) {
    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');
    var fileName = file.name || '';
    var mimeType = file.type || '';
    var baseMimeType = mimeType.replace(/\\/.*$/, '');
    return acceptedFilesArray.some(function (type) {
      var validType = type.trim();
      // This is something like */*,*  allow all files
      if (/^\\*(\\/\\*)?$/.test(type)) {
        return true;
      }

      // like .jpg, .png
      if (validType.charAt(0) === '.') {
        var lowerFileName = fileName.toLowerCase();
        var lowerType = validType.toLowerCase();
        var affixList = [lowerType];
        if (lowerType === '.jpg' || lowerType === '.jpeg') {
          affixList = ['.jpg', '.jpeg'];
        }
        return affixList.some(function (affix) {
          return lowerFileName.endsWith(affix);
        });
      }

      // This is something like a image/* mime type
      if (/\\/\\*$/.test(validType)) {
        return baseMimeType === validType.replace(/\\/.*$/, '');
      }

      // Full match
      if (mimeType === validType) {
        return true;
      }

      // Invalidate type should skip
      if (/^\\w+$/.test(validType)) {
        (0,warning/* default */.ZP)(false, "Upload takes an invalidate 'accept' type '".concat(validType, "'.Skip for check."));
        return true;
      }
      return false;
    });
  }
  return true;
});
;// CONCATENATED MODULE: ./node_modules/rc-upload/es/request.js
function getError(option, xhr) {
  var msg = "cannot ".concat(option.method, " ").concat(option.action, " ").concat(xhr.status, "'");
  var err = new Error(msg);
  err.status = xhr.status;
  err.method = option.method;
  err.url = option.action;
  return err;
}
function getBody(xhr) {
  var text = xhr.responseText || xhr.response;
  if (!text) {
    return text;
  }
  try {
    return JSON.parse(text);
  } catch (e) {
    return text;
  }
}
function upload(option) {
  // eslint-disable-next-line no-undef
  var xhr = new XMLHttpRequest();
  if (option.onProgress && xhr.upload) {
    xhr.upload.onprogress = function progress(e) {
      if (e.total > 0) {
        e.percent = e.loaded / e.total * 100;
      }
      option.onProgress(e);
    };
  }

  // eslint-disable-next-line no-undef
  var formData = new FormData();
  if (option.data) {
    Object.keys(option.data).forEach(function (key) {
      var value = option.data[key];
      // support key-value array data
      if (Array.isArray(value)) {
        value.forEach(function (item) {
          // { list: [ 11, 22 ] }
          // formData.append('list[]', 11);
          formData.append("".concat(key, "[]"), item);
        });
        return;
      }
      formData.append(key, value);
    });
  }

  // eslint-disable-next-line no-undef
  if (option.file instanceof Blob) {
    formData.append(option.filename, option.file, option.file.name);
  } else {
    formData.append(option.filename, option.file);
  }
  xhr.onerror = function error(e) {
    option.onError(e);
  };
  xhr.onload = function onload() {
    // allow success when 2xx status
    // see https://github.com/react-component/upload/issues/34
    if (xhr.status < 200 || xhr.status >= 300) {
      return option.onError(getError(option, xhr), getBody(xhr));
    }
    return option.onSuccess(getBody(xhr), xhr);
  };
  xhr.open(option.method, option.action, true);

  // Has to be after \`.open()\`. See https://github.com/enyo/dropzone/issues/179
  if (option.withCredentials && 'withCredentials' in xhr) {
    xhr.withCredentials = true;
  }
  var headers = option.headers || {};

  // when set headers['X-Requested-With'] = null , can close default XHR header
  // see https://github.com/react-component/upload/issues/33
  if (headers['X-Requested-With'] !== null) {
    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
  }
  Object.keys(headers).forEach(function (h) {
    if (headers[h] !== null) {
      xhr.setRequestHeader(h, headers[h]);
    }
  });
  xhr.send(formData);
  return {
    abort: function abort() {
      xhr.abort();
    }
  };
}
;// CONCATENATED MODULE: ./node_modules/rc-upload/es/traverseFileTree.js



// https://github.com/ant-design/ant-design/issues/50080
var traverseFileTree = /*#__PURE__*/function () {
  var _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee4(files, isAccepted) {
    var flattenFileList, progressFileList, readDirectory, _readDirectory, readFile, _readFile, _traverseFileTree, wipIndex;
    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee4$(_context4) {
      while (1) switch (_context4.prev = _context4.next) {
        case 0:
          _readFile = function _readFile3() {
            _readFile = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3(item) {
              return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {
                while (1) switch (_context3.prev = _context3.next) {
                  case 0:
                    return _context3.abrupt("return", new Promise(function (reslove) {
                      item.file(function (file) {
                        if (isAccepted(file)) {
                          // https://github.com/ant-design/ant-design/issues/16426
                          if (item.fullPath && !file.webkitRelativePath) {
                            Object.defineProperties(file, {
                              webkitRelativePath: {
                                writable: true
                              }
                            });
                            // eslint-disable-next-line no-param-reassign
                            file.webkitRelativePath = item.fullPath.replace(/^\\//, '');
                            Object.defineProperties(file, {
                              webkitRelativePath: {
                                writable: false
                              }
                            });
                          }
                          reslove(file);
                        } else {
                          reslove(null);
                        }
                      });
                    }));
                  case 1:
                  case "end":
                    return _context3.stop();
                }
              }, _callee3);
            }));
            return _readFile.apply(this, arguments);
          };
          readFile = function _readFile2(_x4) {
            return _readFile.apply(this, arguments);
          };
          _readDirectory = function _readDirectory3() {
            _readDirectory = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2(directory) {
              var dirReader, entries, results, n, i;
              return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {
                while (1) switch (_context2.prev = _context2.next) {
                  case 0:
                    dirReader = directory.createReader();
                    entries = [];
                  case 2:
                    if (false) {}
                    _context2.next = 5;
                    return new Promise(function (resolve) {
                      dirReader.readEntries(resolve, function () {
                        return resolve([]);
                      });
                    });
                  case 5:
                    results = _context2.sent;
                    n = results.length;
                    if (n) {
                      _context2.next = 9;
                      break;
                    }
                    return _context2.abrupt("break", 12);
                  case 9:
                    for (i = 0; i < n; i++) {
                      entries.push(results[i]);
                    }
                    _context2.next = 2;
                    break;
                  case 12:
                    return _context2.abrupt("return", entries);
                  case 13:
                  case "end":
                    return _context2.stop();
                }
              }, _callee2);
            }));
            return _readDirectory.apply(this, arguments);
          };
          readDirectory = function _readDirectory2(_x3) {
            return _readDirectory.apply(this, arguments);
          };
          flattenFileList = [];
          progressFileList = [];
          files.forEach(function (file) {
            return progressFileList.push(file.webkitGetAsEntry());
          });

          // eslint-disable-next-line @typescript-eslint/naming-convention
          _traverseFileTree = /*#__PURE__*/function () {
            var _ref2 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(item, path) {
              var _file, entries;
              return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    if (item) {
                      _context.next = 2;
                      break;
                    }
                    return _context.abrupt("return");
                  case 2:
                    // eslint-disable-next-line no-param-reassign
                    item.path = path || '';
                    if (!item.isFile) {
                      _context.next = 10;
                      break;
                    }
                    _context.next = 6;
                    return readFile(item);
                  case 6:
                    _file = _context.sent;
                    if (_file) {
                      flattenFileList.push(_file);
                    }
                    _context.next = 15;
                    break;
                  case 10:
                    if (!item.isDirectory) {
                      _context.next = 15;
                      break;
                    }
                    _context.next = 13;
                    return readDirectory(item);
                  case 13:
                    entries = _context.sent;
                    progressFileList.push.apply(progressFileList, (0,toConsumableArray/* default */.Z)(entries));
                  case 15:
                  case "end":
                    return _context.stop();
                }
              }, _callee);
            }));
            return function _traverseFileTree(_x5, _x6) {
              return _ref2.apply(this, arguments);
            };
          }();
          wipIndex = 0;
        case 9:
          if (!(wipIndex < progressFileList.length)) {
            _context4.next = 15;
            break;
          }
          _context4.next = 12;
          return _traverseFileTree(progressFileList[wipIndex]);
        case 12:
          wipIndex++;
          _context4.next = 9;
          break;
        case 15:
          return _context4.abrupt("return", flattenFileList);
        case 16:
        case "end":
          return _context4.stop();
      }
    }, _callee4);
  }));
  return function traverseFileTree(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();
/* harmony default export */ var es_traverseFileTree = (traverseFileTree);
;// CONCATENATED MODULE: ./node_modules/rc-upload/es/uid.js
var now = +new Date();
var index = 0;
function uid() {
  // eslint-disable-next-line no-plusplus
  return "rc-upload-".concat(now, "-").concat(++index);
}
;// CONCATENATED MODULE: ./node_modules/rc-upload/es/AjaxUploader.js













var _excluded = ["component", "prefixCls", "className", "classNames", "disabled", "id", "name", "style", "styles", "multiple", "accept", "capture", "children", "directory", "openFileDialogOnClick", "onMouseEnter", "onMouseLeave", "hasControlInside"];
/* eslint react/no-is-mounted:0,react/sort-comp:0,react/prop-types:0 */







var AjaxUploader = /*#__PURE__*/function (_Component) {
  (0,inherits/* default */.Z)(AjaxUploader, _Component);
  var _super = (0,createSuper/* default */.Z)(AjaxUploader);
  function AjaxUploader() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, AjaxUploader);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "state", {
      uid: uid()
    });
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "reqs", {});
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "fileInput", void 0);
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "_isMounted", void 0);
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "onChange", function (e) {
      var _this$props = _this.props,
        accept = _this$props.accept,
        directory = _this$props.directory;
      var files = e.target.files;
      var acceptedFiles = (0,toConsumableArray/* default */.Z)(files).filter(function (file) {
        return !directory || attr_accept(file, accept);
      });
      _this.uploadFiles(acceptedFiles);
      _this.reset();
    });
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "onClick", function (event) {
      var el = _this.fileInput;
      if (!el) {
        return;
      }
      var target = event.target;
      var onClick = _this.props.onClick;
      if (target && target.tagName === 'BUTTON') {
        var parent = el.parentNode;
        parent.focus();
        target.blur();
      }
      el.click();
      if (onClick) {
        onClick(event);
      }
    });
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "onKeyDown", function (e) {
      if (e.key === 'Enter') {
        _this.onClick(e);
      }
    });
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "onFileDrop", /*#__PURE__*/function () {
      var _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(e) {
        var multiple, files, _files;
        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              multiple = _this.props.multiple;
              e.preventDefault();
              if (!(e.type === 'dragover')) {
                _context.next = 4;
                break;
              }
              return _context.abrupt("return");
            case 4:
              if (!_this.props.directory) {
                _context.next = 11;
                break;
              }
              _context.next = 7;
              return es_traverseFileTree(Array.prototype.slice.call(e.dataTransfer.items), function (_file) {
                return attr_accept(_file, _this.props.accept);
              });
            case 7:
              files = _context.sent;
              _this.uploadFiles(files);
              _context.next = 14;
              break;
            case 11:
              _files = (0,toConsumableArray/* default */.Z)(e.dataTransfer.files).filter(function (file) {
                return attr_accept(file, _this.props.accept);
              });
              if (multiple === false) {
                _files = _files.slice(0, 1);
              }
              _this.uploadFiles(_files);
            case 14:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }));
      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "uploadFiles", function (files) {
      var originFiles = (0,toConsumableArray/* default */.Z)(files);
      var postFiles = originFiles.map(function (file) {
        // eslint-disable-next-line no-param-reassign
        file.uid = uid();
        return _this.processFile(file, originFiles);
      });

      // Batch upload files
      Promise.all(postFiles).then(function (fileList) {
        var onBatchStart = _this.props.onBatchStart;
        onBatchStart === null || onBatchStart === void 0 || onBatchStart(fileList.map(function (_ref2) {
          var origin = _ref2.origin,
            parsedFile = _ref2.parsedFile;
          return {
            file: origin,
            parsedFile: parsedFile
          };
        }));
        fileList.filter(function (file) {
          return file.parsedFile !== null;
        }).forEach(function (file) {
          _this.post(file);
        });
      });
    });
    /**
     * Process file before upload. When all the file is ready, we start upload.
     */
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "processFile", /*#__PURE__*/function () {
      var _ref3 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2(file, fileList) {
        var beforeUpload, transformedFile, action, mergedAction, data, mergedData, parsedData, parsedFile, mergedParsedFile;
        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              beforeUpload = _this.props.beforeUpload;
              transformedFile = file;
              if (!beforeUpload) {
                _context2.next = 14;
                break;
              }
              _context2.prev = 3;
              _context2.next = 6;
              return beforeUpload(file, fileList);
            case 6:
              transformedFile = _context2.sent;
              _context2.next = 12;
              break;
            case 9:
              _context2.prev = 9;
              _context2.t0 = _context2["catch"](3);
              // Rejection will also trade as false
              transformedFile = false;
            case 12:
              if (!(transformedFile === false)) {
                _context2.next = 14;
                break;
              }
              return _context2.abrupt("return", {
                origin: file,
                parsedFile: null,
                action: null,
                data: null
              });
            case 14:
              // Get latest action
              action = _this.props.action;
              if (!(typeof action === 'function')) {
                _context2.next = 21;
                break;
              }
              _context2.next = 18;
              return action(file);
            case 18:
              mergedAction = _context2.sent;
              _context2.next = 22;
              break;
            case 21:
              mergedAction = action;
            case 22:
              // Get latest data
              data = _this.props.data;
              if (!(typeof data === 'function')) {
                _context2.next = 29;
                break;
              }
              _context2.next = 26;
              return data(file);
            case 26:
              mergedData = _context2.sent;
              _context2.next = 30;
              break;
            case 29:
              mergedData = data;
            case 30:
              parsedData =
              // string type is from legacy \`transformFile\`.
              // Not sure if this will work since no related test case works with it
              ((0,esm_typeof/* default */.Z)(transformedFile) === 'object' || typeof transformedFile === 'string') && transformedFile ? transformedFile : file;
              if (parsedData instanceof File) {
                parsedFile = parsedData;
              } else {
                parsedFile = new File([parsedData], file.name, {
                  type: file.type
                });
              }
              mergedParsedFile = parsedFile;
              mergedParsedFile.uid = file.uid;
              return _context2.abrupt("return", {
                origin: file,
                data: mergedData,
                parsedFile: mergedParsedFile,
                action: mergedAction
              });
            case 35:
            case "end":
              return _context2.stop();
          }
        }, _callee2, null, [[3, 9]]);
      }));
      return function (_x2, _x3) {
        return _ref3.apply(this, arguments);
      };
    }());
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "saveFileInput", function (node) {
      _this.fileInput = node;
    });
    return _this;
  }
  (0,createClass/* default */.Z)(AjaxUploader, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this._isMounted = true;
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._isMounted = false;
      this.abort();
    }
  }, {
    key: "post",
    value: function post(_ref4) {
      var _this2 = this;
      var data = _ref4.data,
        origin = _ref4.origin,
        action = _ref4.action,
        parsedFile = _ref4.parsedFile;
      if (!this._isMounted) {
        return;
      }
      var _this$props2 = this.props,
        onStart = _this$props2.onStart,
        customRequest = _this$props2.customRequest,
        name = _this$props2.name,
        headers = _this$props2.headers,
        withCredentials = _this$props2.withCredentials,
        method = _this$props2.method;
      var uid = origin.uid;
      var request = customRequest || upload;
      var requestOption = {
        action: action,
        filename: name,
        data: data,
        file: parsedFile,
        headers: headers,
        withCredentials: withCredentials,
        method: method || 'post',
        onProgress: function onProgress(e) {
          var onProgress = _this2.props.onProgress;
          onProgress === null || onProgress === void 0 || onProgress(e, parsedFile);
        },
        onSuccess: function onSuccess(ret, xhr) {
          var onSuccess = _this2.props.onSuccess;
          onSuccess === null || onSuccess === void 0 || onSuccess(ret, parsedFile, xhr);
          delete _this2.reqs[uid];
        },
        onError: function onError(err, ret) {
          var onError = _this2.props.onError;
          onError === null || onError === void 0 || onError(err, ret, parsedFile);
          delete _this2.reqs[uid];
        }
      };
      onStart(origin);
      this.reqs[uid] = request(requestOption);
    }
  }, {
    key: "reset",
    value: function reset() {
      this.setState({
        uid: uid()
      });
    }
  }, {
    key: "abort",
    value: function abort(file) {
      var reqs = this.reqs;
      if (file) {
        var uid = file.uid ? file.uid : file;
        if (reqs[uid] && reqs[uid].abort) {
          reqs[uid].abort();
        }
        delete reqs[uid];
      } else {
        Object.keys(reqs).forEach(function (uid) {
          if (reqs[uid] && reqs[uid].abort) {
            reqs[uid].abort();
          }
          delete reqs[uid];
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
        Tag = _this$props3.component,
        prefixCls = _this$props3.prefixCls,
        className = _this$props3.className,
        _this$props3$classNam = _this$props3.classNames,
        classNames = _this$props3$classNam === void 0 ? {} : _this$props3$classNam,
        disabled = _this$props3.disabled,
        id = _this$props3.id,
        name = _this$props3.name,
        style = _this$props3.style,
        _this$props3$styles = _this$props3.styles,
        styles = _this$props3$styles === void 0 ? {} : _this$props3$styles,
        multiple = _this$props3.multiple,
        accept = _this$props3.accept,
        capture = _this$props3.capture,
        children = _this$props3.children,
        directory = _this$props3.directory,
        openFileDialogOnClick = _this$props3.openFileDialogOnClick,
        onMouseEnter = _this$props3.onMouseEnter,
        onMouseLeave = _this$props3.onMouseLeave,
        hasControlInside = _this$props3.hasControlInside,
        otherProps = (0,objectWithoutProperties/* default */.Z)(_this$props3, _excluded);
      var cls = classnames_default()((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)({}, prefixCls, true), "".concat(prefixCls, "-disabled"), disabled), className, className));
      // because input don't have directory/webkitdirectory type declaration
      var dirProps = directory ? {
        directory: 'directory',
        webkitdirectory: 'webkitdirectory'
      } : {};
      var events = disabled ? {} : {
        onClick: openFileDialogOnClick ? this.onClick : function () {},
        onKeyDown: openFileDialogOnClick ? this.onKeyDown : function () {},
        onMouseEnter: onMouseEnter,
        onMouseLeave: onMouseLeave,
        onDrop: this.onFileDrop,
        onDragOver: this.onFileDrop,
        tabIndex: hasControlInside ? undefined : '0'
      };
      return /*#__PURE__*/react.createElement(Tag, (0,esm_extends/* default */.Z)({}, events, {
        className: cls,
        role: hasControlInside ? undefined : 'button',
        style: style
      }), /*#__PURE__*/react.createElement("input", (0,esm_extends/* default */.Z)({}, (0,pickAttrs/* default */.Z)(otherProps, {
        aria: true,
        data: true
      }), {
        id: id
        /**
         * https://github.com/ant-design/ant-design/issues/50643,
         * https://github.com/react-component/upload/pull/575#issuecomment-2320646552
         */,
        name: name,
        disabled: disabled,
        type: "file",
        ref: this.saveFileInput,
        onClick: function onClick(e) {
          return e.stopPropagation();
        } // https://github.com/ant-design/ant-design/issues/19948
        ,
        key: this.state.uid,
        style: (0,objectSpread2/* default */.Z)({
          display: 'none'
        }, styles.input),
        className: classNames.input,
        accept: accept
      }, dirProps, {
        multiple: multiple,
        onChange: this.onChange
      }, capture != null ? {
        capture: capture
      } : {})), children);
    }
  }]);
  return AjaxUploader;
}(react.Component);
/* harmony default export */ var es_AjaxUploader = (AjaxUploader);
;// CONCATENATED MODULE: ./node_modules/rc-upload/es/Upload.js







/* eslint react/prop-types:0 */


function empty() {}
var Upload = /*#__PURE__*/function (_Component) {
  (0,inherits/* default */.Z)(Upload, _Component);
  var _super = (0,createSuper/* default */.Z)(Upload);
  function Upload() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, Upload);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "uploader", void 0);
    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), "saveUploader", function (node) {
      _this.uploader = node;
    });
    return _this;
  }
  (0,createClass/* default */.Z)(Upload, [{
    key: "abort",
    value: function abort(file) {
      this.uploader.abort(file);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react.createElement(es_AjaxUploader, (0,esm_extends/* default */.Z)({}, this.props, {
        ref: this.saveUploader
      }));
    }
  }]);
  return Upload;
}(react.Component);
(0,defineProperty/* default */.Z)(Upload, "defaultProps", {
  component: 'span',
  prefixCls: 'rc-upload',
  data: {},
  headers: {},
  name: 'file',
  multipart: false,
  onStart: empty,
  onError: empty,
  onSuccess: empty,
  multiple: false,
  beforeUpload: null,
  customRequest: null,
  withCredentials: false,
  openFileDialogOnClick: true,
  hasControlInside: false
});
/* harmony default export */ var es_Upload = (Upload);
;// CONCATENATED MODULE: ./node_modules/rc-upload/es/index.js

/* harmony default export */ var es = (es_Upload);
// EXTERNAL MODULE: ./node_modules/rc-util/es/hooks/useMergedState.js
var useMergedState = __webpack_require__(21770);
// EXTERNAL MODULE: ./node_modules/antd/es/config-provider/context.js
var context = __webpack_require__(53124);
// EXTERNAL MODULE: ./node_modules/antd/es/config-provider/DisabledContext.js
var DisabledContext = __webpack_require__(98866);
// EXTERNAL MODULE: ./node_modules/antd/es/locale/useLocale.js
var useLocale = __webpack_require__(10110);
// EXTERNAL MODULE: ./node_modules/antd/es/locale/en_US.js + 1 modules
var en_US = __webpack_require__(24457);
// EXTERNAL MODULE: ./node_modules/antd/es/style/index.js
var style = __webpack_require__(14747);
// EXTERNAL MODULE: ./node_modules/antd/es/style/motion/collapse.js
var collapse = __webpack_require__(33507);
// EXTERNAL MODULE: ./node_modules/antd/es/theme/util/genStyleUtils.js
var genStyleUtils = __webpack_require__(83559);
// EXTERNAL MODULE: ./node_modules/@ant-design/cssinjs-utils/es/index.js + 12 modules
var cssinjs_utils_es = __webpack_require__(83262);
// EXTERNAL MODULE: ./node_modules/@ant-design/cssinjs/es/index.js + 37 modules
var cssinjs_es = __webpack_require__(11568);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/style/dragger.js

const genDraggerStyle = token => {
  const {
    componentCls,
    iconCls
  } = token;
  return {
    [\`\${componentCls}-wrapper\`]: {
      [\`\${componentCls}-drag\`]: {
        position: 'relative',
        width: '100%',
        height: '100%',
        textAlign: 'center',
        background: token.colorFillAlter,
        border: \`\${(0,cssinjs_es/* unit */.bf)(token.lineWidth)} dashed \${token.colorBorder}\`,
        borderRadius: token.borderRadiusLG,
        cursor: 'pointer',
        transition: \`border-color \${token.motionDurationSlow}\`,
        [componentCls]: {
          padding: token.padding
        },
        [\`\${componentCls}-btn\`]: {
          display: 'table',
          width: '100%',
          height: '100%',
          outline: 'none',
          borderRadius: token.borderRadiusLG,
          '&:focus-visible': {
            outline: \`\${(0,cssinjs_es/* unit */.bf)(token.lineWidthFocus)} solid \${token.colorPrimaryBorder}\`
          }
        },
        [\`\${componentCls}-drag-container\`]: {
          display: 'table-cell',
          verticalAlign: 'middle'
        },
        [\`
          &:not(\${componentCls}-disabled):hover,
          &-hover:not(\${componentCls}-disabled)
        \`]: {
          borderColor: token.colorPrimaryHover
        },
        [\`p\${componentCls}-drag-icon\`]: {
          marginBottom: token.margin,
          [iconCls]: {
            color: token.colorPrimary,
            fontSize: token.uploadThumbnailSize
          }
        },
        [\`p\${componentCls}-text\`]: {
          margin: \`0 0 \${(0,cssinjs_es/* unit */.bf)(token.marginXXS)}\`,
          color: token.colorTextHeading,
          fontSize: token.fontSizeLG
        },
        [\`p\${componentCls}-hint\`]: {
          color: token.colorTextDescription,
          fontSize: token.fontSize
        },
        // ===================== Disabled =====================
        [\`&\${componentCls}-disabled\`]: {
          [\`p\${componentCls}-drag-icon \${iconCls},
            p\${componentCls}-text,
            p\${componentCls}-hint
          \`]: {
            color: token.colorTextDisabled
          }
        }
      }
    }
  };
};
/* harmony default export */ var dragger = (genDraggerStyle);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/style/list.js


const genListStyle = token => {
  const {
    componentCls,
    iconCls,
    fontSize,
    lineHeight,
    calc
  } = token;
  const itemCls = \`\${componentCls}-list-item\`;
  const actionsCls = \`\${itemCls}-actions\`;
  const actionCls = \`\${itemCls}-action\`;
  return {
    [\`\${componentCls}-wrapper\`]: {
      [\`\${componentCls}-list\`]: Object.assign(Object.assign({}, (0,style/* clearFix */.dF)()), {
        lineHeight: token.lineHeight,
        [itemCls]: {
          position: 'relative',
          height: calc(token.lineHeight).mul(fontSize).equal(),
          marginTop: token.marginXS,
          fontSize,
          display: 'flex',
          alignItems: 'center',
          transition: \`background-color \${token.motionDurationSlow}\`,
          borderRadius: token.borderRadiusSM,
          '&:hover': {
            backgroundColor: token.controlItemBgHover
          },
          [\`\${itemCls}-name\`]: Object.assign(Object.assign({}, style/* textEllipsis */.vS), {
            padding: \`0 \${(0,cssinjs_es/* unit */.bf)(token.paddingXS)}\`,
            lineHeight,
            flex: 'auto',
            transition: \`all \${token.motionDurationSlow}\`
          }),
          [actionsCls]: {
            whiteSpace: 'nowrap',
            [actionCls]: {
              opacity: 0
            },
            [iconCls]: {
              color: token.actionsColor,
              transition: \`all \${token.motionDurationSlow}\`
            },
            [\`
              \${actionCls}:focus-visible,
              &.picture \${actionCls}
            \`]: {
              opacity: 1
            }
          },
          [\`\${componentCls}-icon \${iconCls}\`]: {
            color: token.colorTextDescription,
            fontSize
          },
          [\`\${itemCls}-progress\`]: {
            position: 'absolute',
            bottom: token.calc(token.uploadProgressOffset).mul(-1).equal(),
            width: '100%',
            paddingInlineStart: calc(fontSize).add(token.paddingXS).equal(),
            fontSize,
            lineHeight: 0,
            pointerEvents: 'none',
            '> div': {
              margin: 0
            }
          }
        },
        [\`\${itemCls}:hover \${actionCls}\`]: {
          opacity: 1
        },
        [\`\${itemCls}-error\`]: {
          color: token.colorError,
          [\`\${itemCls}-name, \${componentCls}-icon \${iconCls}\`]: {
            color: token.colorError
          },
          [actionsCls]: {
            [\`\${iconCls}, \${iconCls}:hover\`]: {
              color: token.colorError
            },
            [actionCls]: {
              opacity: 1
            }
          }
        },
        [\`\${componentCls}-list-item-container\`]: {
          transition: \`opacity \${token.motionDurationSlow}, height \${token.motionDurationSlow}\`,
          // For smooth removing animation
          '&::before': {
            display: 'table',
            width: 0,
            height: 0,
            content: '""'
          }
        }
      })
    }
  };
};
/* harmony default export */ var list = (genListStyle);
// EXTERNAL MODULE: ./node_modules/antd/es/style/motion/fade.js
var fade = __webpack_require__(16932);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/style/motion.js


// =========================== Motion ===========================
const genMotionStyle = token => {
  const {
    componentCls
  } = token;
  const uploadAnimateInlineIn = new cssinjs_es/* Keyframes */.E4('uploadAnimateInlineIn', {
    from: {
      width: 0,
      height: 0,
      padding: 0,
      opacity: 0,
      margin: token.calc(token.marginXS).div(-2).equal()
    }
  });
  const uploadAnimateInlineOut = new cssinjs_es/* Keyframes */.E4('uploadAnimateInlineOut', {
    to: {
      width: 0,
      height: 0,
      padding: 0,
      opacity: 0,
      margin: token.calc(token.marginXS).div(-2).equal()
    }
  });
  const inlineCls = \`\${componentCls}-animate-inline\`;
  return [{
    [\`\${componentCls}-wrapper\`]: {
      [\`\${inlineCls}-appear, \${inlineCls}-enter, \${inlineCls}-leave\`]: {
        animationDuration: token.motionDurationSlow,
        animationTimingFunction: token.motionEaseInOutCirc,
        animationFillMode: 'forwards'
      },
      [\`\${inlineCls}-appear, \${inlineCls}-enter\`]: {
        animationName: uploadAnimateInlineIn
      },
      [\`\${inlineCls}-leave\`]: {
        animationName: uploadAnimateInlineOut
      }
    }
  }, {
    [\`\${componentCls}-wrapper\`]: (0,fade/* initFadeMotion */.J$)(token)
  }, uploadAnimateInlineIn, uploadAnimateInlineOut];
};
/* harmony default export */ var motion = (genMotionStyle);
// EXTERNAL MODULE: ./node_modules/antd/node_modules/@ant-design/colors/es/index.js + 2 modules
var colors_es = __webpack_require__(65409);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/style/picture.js



const genPictureStyle = token => {
  const {
    componentCls,
    iconCls,
    uploadThumbnailSize,
    uploadProgressOffset,
    calc
  } = token;
  const listCls = \`\${componentCls}-list\`;
  const itemCls = \`\${listCls}-item\`;
  return {
    [\`\${componentCls}-wrapper\`]: {
      // \${listCls} \u589E\u52A0\u4F18\u5148\u7EA7
      [\`
        \${listCls}\${listCls}-picture,
        \${listCls}\${listCls}-picture-card,
        \${listCls}\${listCls}-picture-circle
      \`]: {
        [itemCls]: {
          position: 'relative',
          height: calc(uploadThumbnailSize).add(calc(token.lineWidth).mul(2)).add(calc(token.paddingXS).mul(2)).equal(),
          padding: token.paddingXS,
          border: \`\${(0,cssinjs_es/* unit */.bf)(token.lineWidth)} \${token.lineType} \${token.colorBorder}\`,
          borderRadius: token.borderRadiusLG,
          '&:hover': {
            background: 'transparent'
          },
          [\`\${itemCls}-thumbnail\`]: Object.assign(Object.assign({}, style/* textEllipsis */.vS), {
            width: uploadThumbnailSize,
            height: uploadThumbnailSize,
            lineHeight: (0,cssinjs_es/* unit */.bf)(calc(uploadThumbnailSize).add(token.paddingSM).equal()),
            textAlign: 'center',
            flex: 'none',
            [iconCls]: {
              fontSize: token.fontSizeHeading2,
              color: token.colorPrimary
            },
            img: {
              display: 'block',
              width: '100%',
              height: '100%',
              overflow: 'hidden'
            }
          }),
          [\`\${itemCls}-progress\`]: {
            bottom: uploadProgressOffset,
            width: \`calc(100% - \${(0,cssinjs_es/* unit */.bf)(calc(token.paddingSM).mul(2).equal())})\`,
            marginTop: 0,
            paddingInlineStart: calc(uploadThumbnailSize).add(token.paddingXS).equal()
          }
        },
        [\`\${itemCls}-error\`]: {
          borderColor: token.colorError,
          // Adjust the color of the error icon : https://github.com/ant-design/ant-design/pull/24160
          [\`\${itemCls}-thumbnail \${iconCls}\`]: {
            [\`svg path[fill='\${colors_es/* blue */.iN[0]}']\`]: {
              fill: token.colorErrorBg
            },
            [\`svg path[fill='\${colors_es/* blue */.iN.primary}']\`]: {
              fill: token.colorError
            }
          }
        },
        [\`\${itemCls}-uploading\`]: {
          borderStyle: 'dashed',
          [\`\${itemCls}-name\`]: {
            marginBottom: uploadProgressOffset
          }
        }
      },
      [\`\${listCls}\${listCls}-picture-circle \${itemCls}\`]: {
        [\`&, &::before, \${itemCls}-thumbnail\`]: {
          borderRadius: '50%'
        }
      }
    }
  };
};
const genPictureCardStyle = token => {
  const {
    componentCls,
    iconCls,
    fontSizeLG,
    colorTextLightSolid,
    calc
  } = token;
  const listCls = \`\${componentCls}-list\`;
  const itemCls = \`\${listCls}-item\`;
  const uploadPictureCardSize = token.uploadPicCardSize;
  return {
    [\`
      \${componentCls}-wrapper\${componentCls}-picture-card-wrapper,
      \${componentCls}-wrapper\${componentCls}-picture-circle-wrapper
    \`]: Object.assign(Object.assign({}, (0,style/* clearFix */.dF)()), {
      display: 'block',
      [\`\${componentCls}\${componentCls}-select\`]: {
        width: uploadPictureCardSize,
        height: uploadPictureCardSize,
        textAlign: 'center',
        verticalAlign: 'top',
        backgroundColor: token.colorFillAlter,
        border: \`\${(0,cssinjs_es/* unit */.bf)(token.lineWidth)} dashed \${token.colorBorder}\`,
        borderRadius: token.borderRadiusLG,
        cursor: 'pointer',
        transition: \`border-color \${token.motionDurationSlow}\`,
        [\`> \${componentCls}\`]: {
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          height: '100%',
          textAlign: 'center'
        },
        [\`&:not(\${componentCls}-disabled):hover\`]: {
          borderColor: token.colorPrimary
        }
      },
      // list
      [\`\${listCls}\${listCls}-picture-card, \${listCls}\${listCls}-picture-circle\`]: {
        display: 'flex',
        flexWrap: 'wrap',
        '@supports not (gap: 1px)': {
          '& > *': {
            marginBlockEnd: token.marginXS,
            marginInlineEnd: token.marginXS
          }
        },
        '@supports (gap: 1px)': {
          gap: token.marginXS
        },
        [\`\${listCls}-item-container\`]: {
          display: 'inline-block',
          width: uploadPictureCardSize,
          height: uploadPictureCardSize,
          verticalAlign: 'top'
        },
        '&::after': {
          display: 'none'
        },
        '&::before': {
          display: 'none'
        },
        [itemCls]: {
          height: '100%',
          margin: 0,
          '&::before': {
            position: 'absolute',
            zIndex: 1,
            width: \`calc(100% - \${(0,cssinjs_es/* unit */.bf)(calc(token.paddingXS).mul(2).equal())})\`,
            height: \`calc(100% - \${(0,cssinjs_es/* unit */.bf)(calc(token.paddingXS).mul(2).equal())})\`,
            backgroundColor: token.colorBgMask,
            opacity: 0,
            transition: \`all \${token.motionDurationSlow}\`,
            content: '" "'
          }
        },
        [\`\${itemCls}:hover\`]: {
          [\`&::before, \${itemCls}-actions\`]: {
            opacity: 1
          }
        },
        [\`\${itemCls}-actions\`]: {
          position: 'absolute',
          insetInlineStart: 0,
          zIndex: 10,
          width: '100%',
          whiteSpace: 'nowrap',
          textAlign: 'center',
          opacity: 0,
          transition: \`all \${token.motionDurationSlow}\`,
          [\`
            \${iconCls}-eye,
            \${iconCls}-download,
            \${iconCls}-delete
          \`]: {
            zIndex: 10,
            width: fontSizeLG,
            margin: \`0 \${(0,cssinjs_es/* unit */.bf)(token.marginXXS)}\`,
            fontSize: fontSizeLG,
            cursor: 'pointer',
            transition: \`all \${token.motionDurationSlow}\`,
            color: colorTextLightSolid,
            '&:hover': {
              color: colorTextLightSolid
            },
            svg: {
              verticalAlign: 'baseline'
            }
          }
        },
        [\`\${itemCls}-thumbnail, \${itemCls}-thumbnail img\`]: {
          position: 'static',
          display: 'block',
          width: '100%',
          height: '100%',
          objectFit: 'contain'
        },
        [\`\${itemCls}-name\`]: {
          display: 'none',
          textAlign: 'center'
        },
        [\`\${itemCls}-file + \${itemCls}-name\`]: {
          position: 'absolute',
          bottom: token.margin,
          display: 'block',
          width: \`calc(100% - \${(0,cssinjs_es/* unit */.bf)(calc(token.paddingXS).mul(2).equal())})\`
        },
        [\`\${itemCls}-uploading\`]: {
          [\`&\${itemCls}\`]: {
            backgroundColor: token.colorFillAlter
          },
          [\`&::before, \${iconCls}-eye, \${iconCls}-download, \${iconCls}-delete\`]: {
            display: 'none'
          }
        },
        [\`\${itemCls}-progress\`]: {
          bottom: token.marginXL,
          width: \`calc(100% - \${(0,cssinjs_es/* unit */.bf)(calc(token.paddingXS).mul(2).equal())})\`,
          paddingInlineStart: 0
        }
      }
    }),
    [\`\${componentCls}-wrapper\${componentCls}-picture-circle-wrapper\`]: {
      [\`\${componentCls}\${componentCls}-select\`]: {
        borderRadius: '50%'
      }
    }
  };
};

;// CONCATENATED MODULE: ./node_modules/antd/es/upload/style/rtl.js
// =========================== Motion ===========================
const genRtlStyle = token => {
  const {
    componentCls
  } = token;
  return {
    [\`\${componentCls}-rtl\`]: {
      direction: 'rtl'
    }
  };
};
/* harmony default export */ var rtl = (genRtlStyle);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/style/index.js








const genBaseStyle = token => {
  const {
    componentCls,
    colorTextDisabled
  } = token;
  return {
    [\`\${componentCls}-wrapper\`]: Object.assign(Object.assign({}, (0,style/* resetComponent */.Wf)(token)), {
      [componentCls]: {
        outline: 0,
        "input[type='file']": {
          cursor: 'pointer'
        }
      },
      [\`\${componentCls}-select\`]: {
        display: 'inline-block'
      },
      [\`\${componentCls}-hidden\`]: {
        display: 'none'
      },
      [\`\${componentCls}-disabled\`]: {
        color: colorTextDisabled,
        cursor: 'not-allowed'
      }
    })
  };
};
const prepareComponentToken = token => ({
  actionsColor: token.colorTextDescription
});
// ============================== Export ==============================
/* harmony default export */ var upload_style = ((0,genStyleUtils/* genStyleHooks */.I$)('Upload', token => {
  const {
    fontSizeHeading3,
    fontHeight,
    lineWidth,
    controlHeightLG,
    calc
  } = token;
  const uploadToken = (0,cssinjs_utils_es/* mergeToken */.IX)(token, {
    uploadThumbnailSize: calc(fontSizeHeading3).mul(2).equal(),
    uploadProgressOffset: calc(calc(fontHeight).div(2)).add(lineWidth).equal(),
    uploadPicCardSize: calc(controlHeightLG).mul(2.55).equal()
  });
  return [genBaseStyle(uploadToken), dragger(uploadToken), genPictureStyle(uploadToken), genPictureCardStyle(uploadToken), list(uploadToken), motion(uploadToken), rtl(uploadToken), (0,collapse/* default */.Z)(uploadToken)];
}, prepareComponentToken));
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/FileTwoTone.js
// This icon file is generated automatically.
var FileTwoTone = { "icon": function render(primaryColor, secondaryColor) { return { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M534 352V136H232v752h560V394H576a42 42 0 01-42-42z", "fill": secondaryColor } }, { "tag": "path", "attrs": { "d": "M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z", "fill": primaryColor } }] }; }, "name": "file", "theme": "twotone" };
/* harmony default export */ var asn_FileTwoTone = (FileTwoTone);

// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 2 modules
var AntdIcon = __webpack_require__(84089);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/FileTwoTone.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY




var FileTwoTone_FileTwoTone = function FileTwoTone(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_extends/* default */.Z)({}, props, {
    ref: ref,
    icon: asn_FileTwoTone
  }));
};

/**![file](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUzNCAzNTJWMTM2SDIzMnY3NTJoNTYwVjM5NEg1NzZhNDIgNDIgMCAwMS00Mi00MnoiIGZpbGw9IiNlNmY0ZmYiIC8+PHBhdGggZD0iTTg1NC42IDI4OC42TDYzOS40IDczLjRjLTYtNi0xNC4xLTkuNC0yMi42LTkuNEgxOTJjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjgzMmMwIDE3LjcgMTQuMyAzMiAzMiAzMmg2NDBjMTcuNyAwIDMyLTE0LjMgMzItMzJWMzExLjNjMC04LjUtMy40LTE2LjctOS40LTIyLjd6TTYwMiAxMzcuOEw3OTAuMiAzMjZINjAyVjEzNy44ek03OTIgODg4SDIzMlYxMzZoMzAydjIxNmE0MiA0MiAwIDAwNDIgNDJoMjE2djQ5NHoiIGZpbGw9IiMxNjc3ZmYiIC8+PC9zdmc+) */
var RefIcon = /*#__PURE__*/react.forwardRef(FileTwoTone_FileTwoTone);
if (false) {}
/* harmony default export */ var icons_FileTwoTone = (RefIcon);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/LoadingOutlined.js + 1 modules
var LoadingOutlined = __webpack_require__(50888);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/PaperClipOutlined.js
// This icon file is generated automatically.
var PaperClipOutlined = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" } }] }, "name": "paper-clip", "theme": "outlined" };
/* harmony default export */ var asn_PaperClipOutlined = (PaperClipOutlined);

;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/PaperClipOutlined.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY




var PaperClipOutlined_PaperClipOutlined = function PaperClipOutlined(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_extends/* default */.Z)({}, props, {
    ref: ref,
    icon: asn_PaperClipOutlined
  }));
};

/**![paper-clip](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc3OS4zIDE5Ni42Yy05NC4yLTk0LjItMjQ3LjYtOTQuMi0zNDEuNyAwbC0yNjEgMjYwLjhjLTEuNyAxLjctMi42IDQtMi42IDYuNHMuOSA0LjcgMi42IDYuNGwzNi45IDM2LjlhOSA5IDAgMDAxMi43IDBsMjYxLTI2MC44YzMyLjQtMzIuNCA3NS41LTUwLjIgMTIxLjMtNTAuMnM4OC45IDE3LjggMTIxLjIgNTAuMmMzMi40IDMyLjQgNTAuMiA3NS41IDUwLjIgMTIxLjIgMCA0NS44LTE3LjggODguOC01MC4yIDEyMS4ybC0yNjYgMjY1LjktNDMuMSA0My4xYy00MC4zIDQwLjMtMTA1LjggNDAuMy0xNDYuMSAwLTE5LjUtMTkuNS0zMC4yLTQ1LjQtMzAuMi03M3MxMC43LTUzLjUgMzAuMi03M2wyNjMuOS0yNjMuOGM2LjctNi42IDE1LjUtMTAuMyAyNC45LTEwLjNoLjFjOS40IDAgMTguMSAzLjcgMjQuNyAxMC4zIDYuNyA2LjcgMTAuMyAxNS41IDEwLjMgMjQuOSAwIDkuMy0zLjcgMTguMS0xMC4zIDI0LjdMMzcyLjQgNjUzYy0xLjcgMS43LTIuNiA0LTIuNiA2LjRzLjkgNC43IDIuNiA2LjRsMzYuOSAzNi45YTkgOSAwIDAwMTIuNyAwbDIxNS42LTIxNS42YzE5LjktMTkuOSAzMC44LTQ2LjMgMzAuOC03NC40cy0xMS01NC42LTMwLjgtNzQuNGMtNDEuMS00MS4xLTEwNy45LTQxLTE0OSAwTDQ2MyAzNjQgMjI0LjggNjAyLjFBMTcyLjIyIDE3Mi4yMiAwIDAwMTc0IDcyNC44YzAgNDYuMyAxOC4xIDg5LjggNTAuOCAxMjIuNSAzMy45IDMzLjggNzguMyA1MC43IDEyMi43IDUwLjcgNDQuNCAwIDg4LjgtMTYuOSAxMjIuNi01MC43bDMwOS4yLTMwOUM4MjQuOCA0OTIuNyA4NTAgNDMyIDg1MCAzNjcuNWMuMS02NC42LTI1LjEtMTI1LjMtNzAuNy0xNzAuOXoiIC8+PC9zdmc+) */
var PaperClipOutlined_RefIcon = /*#__PURE__*/react.forwardRef(PaperClipOutlined_PaperClipOutlined);
if (false) {}
/* harmony default export */ var icons_PaperClipOutlined = (PaperClipOutlined_RefIcon);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/PictureTwoTone.js
// This icon file is generated automatically.
var PictureTwoTone = { "icon": function render(primaryColor, secondaryColor) { return { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z", "fill": primaryColor } }, { "tag": "path", "attrs": { "d": "M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z", "fill": secondaryColor } }, { "tag": "path", "attrs": { "d": "M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z", "fill": secondaryColor } }, { "tag": "path", "attrs": { "d": "M276 368a28 28 0 1056 0 28 28 0 10-56 0z", "fill": secondaryColor } }, { "tag": "path", "attrs": { "d": "M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z", "fill": primaryColor } }] }; }, "name": "picture", "theme": "twotone" };
/* harmony default export */ var asn_PictureTwoTone = (PictureTwoTone);

;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/PictureTwoTone.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY




var PictureTwoTone_PictureTwoTone = function PictureTwoTone(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_extends/* default */.Z)({}, props, {
    ref: ref,
    icon: asn_PictureTwoTone
  }));
};

/**![picture](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkyOCAxNjBIOTZjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjY0MGMwIDE3LjcgMTQuMyAzMiAzMiAzMmg4MzJjMTcuNyAwIDMyLTE0LjMgMzItMzJWMTkyYzAtMTcuNy0xNC4zLTMyLTMyLTMyem0tNDAgNjMySDEzNnYtMzkuOWwxMzguNS0xNjQuMyAxNTAuMSAxNzhMNjU4LjEgNDg5IDg4OCA3NjEuNlY3OTJ6bTAtMTI5LjhMNjY0LjIgMzk2LjhjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDQyNC42IDY2Ni40bC0xNDQtMTcwLjdjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDEzNiA2NTIuN1YyMzJoNzUydjQzMC4yeiIgZmlsbD0iIzE2NzdmZiIgLz48cGF0aCBkPSJNNDI0LjYgNzY1LjhsLTE1MC4xLTE3OEwxMzYgNzUyLjFWNzkyaDc1MnYtMzAuNEw2NTguMSA0ODl6IiBmaWxsPSIjZTZmNGZmIiAvPjxwYXRoIGQ9Ik0xMzYgNjUyLjdsMTMyLjQtMTU3YzMuMi0zLjggOS0zLjggMTIuMiAwbDE0NCAxNzAuN0w2NTIgMzk2LjhjMy4yLTMuOCA5LTMuOCAxMi4yIDBMODg4IDY2Mi4yVjIzMkgxMzZ2NDIwLjd6TTMwNCAyODBhODggODggMCAxMTAgMTc2IDg4IDg4IDAgMDEwLTE3NnoiIGZpbGw9IiNlNmY0ZmYiIC8+PHBhdGggZD0iTTI3NiAzNjhhMjggMjggMCAxMDU2IDAgMjggMjggMCAxMC01NiAweiIgZmlsbD0iI2U2ZjRmZiIgLz48cGF0aCBkPSJNMzA0IDQ1NmE4OCA4OCAwIDEwMC0xNzYgODggODggMCAwMDAgMTc2em0wLTExNmMxNS41IDAgMjggMTIuNSAyOCAyOHMtMTIuNSAyOC0yOCAyOC0yOC0xMi41LTI4LTI4IDEyLjUtMjggMjgtMjh6IiBmaWxsPSIjMTY3N2ZmIiAvPjwvc3ZnPg==) */
var PictureTwoTone_RefIcon = /*#__PURE__*/react.forwardRef(PictureTwoTone_PictureTwoTone);
if (false) {}
/* harmony default export */ var icons_PictureTwoTone = (PictureTwoTone_RefIcon);
// EXTERNAL MODULE: ./node_modules/rc-motion/es/index.js + 13 modules
var rc_motion_es = __webpack_require__(29372);
// EXTERNAL MODULE: ./node_modules/rc-util/es/omit.js
var omit = __webpack_require__(98423);
// EXTERNAL MODULE: ./node_modules/antd/es/_util/hooks/useForceUpdate.js
var useForceUpdate = __webpack_require__(57838);
// EXTERNAL MODULE: ./node_modules/antd/es/_util/motion.js
var _util_motion = __webpack_require__(33603);
// EXTERNAL MODULE: ./node_modules/antd/es/_util/reactNode.js
var reactNode = __webpack_require__(96159);
// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js + 9 modules
var es_button = __webpack_require__(28036);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/utils.js

function file2Obj(file) {
  return Object.assign(Object.assign({}, file), {
    lastModified: file.lastModified,
    lastModifiedDate: file.lastModifiedDate,
    name: file.name,
    size: file.size,
    type: file.type,
    uid: file.uid,
    percent: 0,
    originFileObj: file
  });
}
/** Upload fileList. Replace file if exist or just push into it. */
function updateFileList(file, fileList) {
  const nextFileList = (0,toConsumableArray/* default */.Z)(fileList);
  const fileIndex = nextFileList.findIndex(_ref => {
    let {
      uid
    } = _ref;
    return uid === file.uid;
  });
  if (fileIndex === -1) {
    nextFileList.push(file);
  } else {
    nextFileList[fileIndex] = file;
  }
  return nextFileList;
}
function getFileItem(file, fileList) {
  const matchKey = file.uid !== undefined ? 'uid' : 'name';
  return fileList.filter(item => item[matchKey] === file[matchKey])[0];
}
function removeFileItem(file, fileList) {
  const matchKey = file.uid !== undefined ? 'uid' : 'name';
  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);
  if (removed.length === fileList.length) {
    return null;
  }
  return removed;
}
// ==================== Default Image Preview ====================
const extname = function () {
  let url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  const temp = url.split('/');
  const filename = temp[temp.length - 1];
  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];
  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];
};
const isImageFileType = type => type.indexOf('image/') === 0;
const isImageUrl = file => {
  if (file.type && !file.thumbUrl) {
    return isImageFileType(file.type);
  }
  const url = file.thumbUrl || file.url || '';
  const extension = extname(url);
  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {
    return true;
  }
  if (/^data:/.test(url)) {
    // other file types of base64
    return false;
  }
  if (extension) {
    // other file types which have extension
    return false;
  }
  return true;
};
const MEASURE_SIZE = 200;
function previewImage(file) {
  return new Promise(resolve => {
    if (!file.type || !isImageFileType(file.type)) {
      resolve('');
      return;
    }
    const canvas = document.createElement('canvas');
    canvas.width = MEASURE_SIZE;
    canvas.height = MEASURE_SIZE;
    canvas.style.cssText = \`position: fixed; left: 0; top: 0; width: \${MEASURE_SIZE}px; height: \${MEASURE_SIZE}px; z-index: 9999; display: none;\`;
    document.body.appendChild(canvas);
    const ctx = canvas.getContext('2d');
    const img = new Image();
    img.onload = () => {
      const {
        width,
        height
      } = img;
      let drawWidth = MEASURE_SIZE;
      let drawHeight = MEASURE_SIZE;
      let offsetX = 0;
      let offsetY = 0;
      if (width > height) {
        drawHeight = height * (MEASURE_SIZE / width);
        offsetY = -(drawHeight - drawWidth) / 2;
      } else {
        drawWidth = width * (MEASURE_SIZE / height);
        offsetX = -(drawWidth - drawHeight) / 2;
      }
      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);
      const dataURL = canvas.toDataURL();
      document.body.removeChild(canvas);
      window.URL.revokeObjectURL(img.src);
      resolve(dataURL);
    };
    img.crossOrigin = 'anonymous';
    if (file.type.startsWith('image/svg+xml')) {
      const reader = new FileReader();
      reader.onload = () => {
        if (reader.result && typeof reader.result === 'string') {
          img.src = reader.result;
        }
      };
      reader.readAsDataURL(file);
    } else if (file.type.startsWith('image/gif')) {
      const reader = new FileReader();
      reader.onload = () => {
        if (reader.result) {
          resolve(reader.result);
        }
      };
      reader.readAsDataURL(file);
    } else {
      img.src = window.URL.createObjectURL(file);
    }
  });
}
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules
var DeleteOutlined = __webpack_require__(48689);
;// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/DownloadOutlined.js
// This icon file is generated automatically.
var DownloadOutlined = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" } }] }, "name": "download", "theme": "outlined" };
/* harmony default export */ var asn_DownloadOutlined = (DownloadOutlined);

;// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY




var DownloadOutlined_DownloadOutlined = function DownloadOutlined(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.Z, (0,esm_extends/* default */.Z)({}, props, {
    ref: ref,
    icon: asn_DownloadOutlined
  }));
};

/**![download](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUwNS43IDY2MWE4IDggMCAwMDEyLjYgMGwxMTItMTQxLjdjNC4xLTUuMi40LTEyLjktNi4zLTEyLjloLTc0LjFWMTY4YzAtNC40LTMuNi04LTgtOGgtNjBjLTQuNCAwLTggMy42LTggOHYzMzguM0g0MDBjLTYuNyAwLTEwLjQgNy43LTYuMyAxMi45bDExMiAxNDEuOHpNODc4IDYyNmgtNjBjLTQuNCAwLTggMy42LTggOHYxNTRIMjE0VjYzNGMwLTQuNC0zLjYtOC04LThoLTYwYy00LjQgMC04IDMuNi04IDh2MTk4YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDY4NGMxNy43IDAgMzItMTQuMyAzMi0zMlY2MzRjMC00LjQtMy42LTgtOC04eiIgLz48L3N2Zz4=) */
var DownloadOutlined_RefIcon = /*#__PURE__*/react.forwardRef(DownloadOutlined_DownloadOutlined);
if (false) {}
/* harmony default export */ var icons_DownloadOutlined = (DownloadOutlined_RefIcon);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/EyeOutlined.js + 1 modules
var EyeOutlined = __webpack_require__(99611);
// EXTERNAL MODULE: ./node_modules/antd/es/progress/index.js + 13 modules
var progress = __webpack_require__(38703);
// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 3 modules
var tooltip = __webpack_require__(83062);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/UploadList/ListItem.js
"use client";










const ListItem = /*#__PURE__*/react.forwardRef((_ref, ref) => {
  let {
    prefixCls,
    className,
    style,
    locale,
    listType,
    file,
    items,
    progress: progressProps,
    iconRender,
    actionIconRender,
    itemRender,
    isImgUrl,
    showPreviewIcon,
    showRemoveIcon,
    showDownloadIcon,
    previewIcon: customPreviewIcon,
    removeIcon: customRemoveIcon,
    downloadIcon: customDownloadIcon,
    extra: customExtra,
    onPreview,
    onDownload,
    onClose
  } = _ref;
  var _a, _b;
  // Status: which will ignore \`removed\` status
  const {
    status
  } = file;
  const [mergedStatus, setMergedStatus] = react.useState(status);
  react.useEffect(() => {
    if (status !== 'removed') {
      setMergedStatus(status);
    }
  }, [status]);
  // Delay to show the progress bar
  const [showProgress, setShowProgress] = react.useState(false);
  react.useEffect(() => {
    const timer = setTimeout(() => {
      setShowProgress(true);
    }, 300);
    return () => {
      clearTimeout(timer);
    };
  }, []);
  const iconNode = iconRender(file);
  let icon = /*#__PURE__*/react.createElement("div", {
    className: \`\${prefixCls}-icon\`
  }, iconNode);
  if (listType === 'picture' || listType === 'picture-card' || listType === 'picture-circle') {
    if (mergedStatus === 'uploading' || !file.thumbUrl && !file.url) {
      const uploadingClassName = classnames_default()(\`\${prefixCls}-list-item-thumbnail\`, {
        [\`\${prefixCls}-list-item-file\`]: mergedStatus !== 'uploading'
      });
      icon = /*#__PURE__*/react.createElement("div", {
        className: uploadingClassName
      }, iconNode);
    } else {
      const thumbnail = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? (/*#__PURE__*/react.createElement("img", {
        src: file.thumbUrl || file.url,
        alt: file.name,
        className: \`\${prefixCls}-list-item-image\`,
        crossOrigin: file.crossOrigin
      })) : iconNode;
      const aClassName = classnames_default()(\`\${prefixCls}-list-item-thumbnail\`, {
        [\`\${prefixCls}-list-item-file\`]: isImgUrl && !isImgUrl(file)
      });
      icon = /*#__PURE__*/react.createElement("a", {
        className: aClassName,
        onClick: e => onPreview(file, e),
        href: file.url || file.thumbUrl,
        target: "_blank",
        rel: "noopener noreferrer"
      }, thumbnail);
    }
  }
  const listItemClassName = classnames_default()(\`\${prefixCls}-list-item\`, \`\${prefixCls}-list-item-\${mergedStatus}\`);
  const linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;
  const removeIcon = (typeof showRemoveIcon === 'function' ? showRemoveIcon(file) : showRemoveIcon) ? actionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || (/*#__PURE__*/react.createElement(DeleteOutlined/* default */.Z, null)), () => onClose(file), prefixCls, locale.removeFile,
  // acceptUploadDisabled is true, only remove icon will follow Upload disabled prop
  // https://github.com/ant-design/ant-design/issues/46171
  true) : null;
  const downloadIcon = (typeof showDownloadIcon === 'function' ? showDownloadIcon(file) : showDownloadIcon) && mergedStatus === 'done' ? actionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/react.createElement(icons_DownloadOutlined, null), () => onDownload(file), prefixCls, locale.downloadFile) : null;
  const downloadOrDelete = listType !== 'picture-card' && listType !== 'picture-circle' && (/*#__PURE__*/react.createElement("span", {
    key: "download-delete",
    className: classnames_default()(\`\${prefixCls}-list-item-actions\`, {
      picture: listType === 'picture'
    })
  }, downloadIcon, removeIcon));
  const extraContent = typeof customExtra === 'function' ? customExtra(file) : customExtra;
  const extra = extraContent && (/*#__PURE__*/react.createElement("span", {
    className: \`\${prefixCls}-list-item-extra\`
  }, extraContent));
  const listItemNameClass = classnames_default()(\`\${prefixCls}-list-item-name\`);
  const fileName = file.url ? (/*#__PURE__*/react.createElement("a", Object.assign({
    key: "view",
    target: "_blank",
    rel: "noopener noreferrer",
    className: listItemNameClass,
    title: file.name
  }, linkProps, {
    href: file.url,
    onClick: e => onPreview(file, e)
  }), file.name, extra)) : (/*#__PURE__*/react.createElement("span", {
    key: "view",
    className: listItemNameClass,
    onClick: e => onPreview(file, e),
    title: file.name
  }, file.name, extra));
  const previewIcon = (typeof showPreviewIcon === 'function' ? showPreviewIcon(file) : showPreviewIcon) && (file.url || file.thumbUrl) ? (/*#__PURE__*/react.createElement("a", {
    href: file.url || file.thumbUrl,
    target: "_blank",
    rel: "noopener noreferrer",
    onClick: e => onPreview(file, e),
    title: locale.previewFile
  }, typeof customPreviewIcon === 'function' ? customPreviewIcon(file) : customPreviewIcon || /*#__PURE__*/react.createElement(EyeOutlined/* default */.Z, null))) : null;
  const pictureCardActions = (listType === 'picture-card' || listType === 'picture-circle') && mergedStatus !== 'uploading' && (/*#__PURE__*/react.createElement("span", {
    className: \`\${prefixCls}-list-item-actions\`
  }, previewIcon, mergedStatus === 'done' && downloadIcon, removeIcon));
  const {
    getPrefixCls
  } = react.useContext(context/* ConfigContext */.E_);
  const rootPrefixCls = getPrefixCls();
  const dom = /*#__PURE__*/react.createElement("div", {
    className: listItemClassName
  }, icon, fileName, downloadOrDelete, pictureCardActions, showProgress && (/*#__PURE__*/react.createElement(rc_motion_es/* default */.ZP, {
    motionName: \`\${rootPrefixCls}-fade\`,
    visible: mergedStatus === 'uploading',
    motionDeadline: 2000
  }, _ref2 => {
    let {
      className: motionClassName
    } = _ref2;
    // show loading icon if upload progress listener is disabled
    const loadingProgress = 'percent' in file ? (/*#__PURE__*/react.createElement(progress/* default */.Z, Object.assign({}, progressProps, {
      type: "line",
      percent: file.percent,
      "aria-label": file['aria-label'],
      "aria-labelledby": file['aria-labelledby']
    }))) : null;
    return /*#__PURE__*/react.createElement("div", {
      className: classnames_default()(\`\${prefixCls}-list-item-progress\`, motionClassName)
    }, loadingProgress);
  })));
  const message = file.response && typeof file.response === 'string' ? file.response : ((_a = file.error) === null || _a === void 0 ? void 0 : _a.statusText) || ((_b = file.error) === null || _b === void 0 ? void 0 : _b.message) || locale.uploadError;
  const item = mergedStatus === 'error' ? (/*#__PURE__*/react.createElement(tooltip/* default */.Z, {
    title: message,
    getPopupContainer: node => node.parentNode
  }, dom)) : dom;
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(\`\${prefixCls}-list-item-container\`, className),
    style: style,
    ref: ref
  }, itemRender ? itemRender(item, file, items, {
    download: onDownload.bind(null, file),
    preview: onPreview.bind(null, file),
    remove: onClose.bind(null, file)
  }) : item);
});
/* harmony default export */ var UploadList_ListItem = (ListItem);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/UploadList/index.js
"use client";

















const InternalUploadList = (props, ref) => {
  const {
    listType = 'text',
    previewFile = previewImage,
    onPreview,
    onDownload,
    onRemove,
    locale,
    iconRender,
    isImageUrl: isImgUrl = isImageUrl,
    prefixCls: customizePrefixCls,
    items = [],
    showPreviewIcon = true,
    showRemoveIcon = true,
    showDownloadIcon = false,
    removeIcon,
    previewIcon,
    downloadIcon,
    extra,
    progress = {
      size: [-1, 2],
      showInfo: false
    },
    appendAction,
    appendActionVisible = true,
    itemRender,
    disabled
  } = props;
  const forceUpdate = (0,useForceUpdate/* default */.Z)();
  const [motionAppear, setMotionAppear] = react.useState(false);
  const isPictureCardOrCirle = ['picture-card', 'picture-circle'].includes(listType);
  // ============================= Effect =============================
  react.useEffect(() => {
    if (!listType.startsWith('picture')) {
      return;
    }
    (items || []).forEach(file => {
      if (!(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {
        return;
      }
      file.thumbUrl = '';
      previewFile === null || previewFile === void 0 ? void 0 : previewFile(file.originFileObj).then(previewDataUrl => {
        // Need append '' to avoid dead loop
        file.thumbUrl = previewDataUrl || '';
        forceUpdate();
      });
    });
  }, [listType, items, previewFile]);
  react.useEffect(() => {
    setMotionAppear(true);
  }, []);
  // ============================= Events =============================
  const onInternalPreview = (file, e) => {
    if (!onPreview) {
      return;
    }
    e === null || e === void 0 ? void 0 : e.preventDefault();
    return onPreview(file);
  };
  const onInternalDownload = file => {
    if (typeof onDownload === 'function') {
      onDownload(file);
    } else if (file.url) {
      window.open(file.url);
    }
  };
  const onInternalClose = file => {
    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);
  };
  const internalIconRender = file => {
    if (iconRender) {
      return iconRender(file, listType);
    }
    const isLoading = file.status === 'uploading';
    if (listType.startsWith('picture')) {
      const loadingIcon = listType === 'picture' ? /*#__PURE__*/react.createElement(LoadingOutlined/* default */.Z, null) : locale.uploading;
      const fileIcon = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? /*#__PURE__*/react.createElement(icons_PictureTwoTone, null) : /*#__PURE__*/react.createElement(icons_FileTwoTone, null);
      return isLoading ? loadingIcon : fileIcon;
    }
    return isLoading ? /*#__PURE__*/react.createElement(LoadingOutlined/* default */.Z, null) : /*#__PURE__*/react.createElement(icons_PaperClipOutlined, null);
  };
  const actionIconRender = (customIcon, callback, prefixCls, title, acceptUploadDisabled) => {
    const btnProps = {
      type: 'text',
      size: 'small',
      title,
      onClick: e => {
        var _a, _b;
        callback();
        if (/*#__PURE__*/react.isValidElement(customIcon)) {
          (_b = (_a = customIcon.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);
        }
      },
      className: \`\${prefixCls}-list-item-action\`
    };
    if (acceptUploadDisabled) {
      btnProps.disabled = disabled;
    }
    return /*#__PURE__*/react.isValidElement(customIcon) ? (/*#__PURE__*/react.createElement(es_button/* default */.ZP, Object.assign({}, btnProps, {
      icon: (0,reactNode/* cloneElement */.Tm)(customIcon, Object.assign(Object.assign({}, customIcon.props), {
        onClick: () => {}
      }))
    }))) : (/*#__PURE__*/react.createElement(es_button/* default */.ZP, Object.assign({}, btnProps), /*#__PURE__*/react.createElement("span", null, customIcon)));
  };
  // ============================== Ref ===============================
  // Test needs
  react.useImperativeHandle(ref, () => ({
    handlePreview: onInternalPreview,
    handleDownload: onInternalDownload
  }));
  const {
    getPrefixCls
  } = react.useContext(context/* ConfigContext */.E_);
  // ============================= Render =============================
  const prefixCls = getPrefixCls('upload', customizePrefixCls);
  const rootPrefixCls = getPrefixCls();
  const listClassNames = classnames_default()(\`\${prefixCls}-list\`, \`\${prefixCls}-list-\${listType}\`);
  const listItemMotion = react.useMemo(() => (0,omit/* default */.Z)((0,_util_motion/* default */.Z)(rootPrefixCls), ['onAppearEnd', 'onEnterEnd', 'onLeaveEnd']), [rootPrefixCls]);
  const motionConfig = Object.assign(Object.assign({}, isPictureCardOrCirle ? {} : listItemMotion), {
    motionDeadline: 2000,
    motionName: \`\${prefixCls}-\${isPictureCardOrCirle ? 'animate-inline' : 'animate'}\`,
    keys: (0,toConsumableArray/* default */.Z)(items.map(file => ({
      key: file.uid,
      file
    }))),
    motionAppear
  });
  return /*#__PURE__*/react.createElement("div", {
    className: listClassNames
  }, /*#__PURE__*/react.createElement(rc_motion_es/* CSSMotionList */.V4, Object.assign({}, motionConfig, {
    component: false
  }), _ref => {
    let {
      key,
      file,
      className: motionClassName,
      style: motionStyle
    } = _ref;
    return /*#__PURE__*/react.createElement(UploadList_ListItem, {
      key: key,
      locale: locale,
      prefixCls: prefixCls,
      className: motionClassName,
      style: motionStyle,
      file: file,
      items: items,
      progress: progress,
      listType: listType,
      isImgUrl: isImgUrl,
      showPreviewIcon: showPreviewIcon,
      showRemoveIcon: showRemoveIcon,
      showDownloadIcon: showDownloadIcon,
      removeIcon: removeIcon,
      previewIcon: previewIcon,
      downloadIcon: downloadIcon,
      extra: extra,
      iconRender: internalIconRender,
      actionIconRender: actionIconRender,
      itemRender: itemRender,
      onPreview: onInternalPreview,
      onDownload: onInternalDownload,
      onClose: onInternalClose
    });
  }), appendAction && (/*#__PURE__*/react.createElement(rc_motion_es/* default */.ZP, Object.assign({}, motionConfig, {
    visible: appendActionVisible,
    forceRender: true
  }), _ref2 => {
    let {
      className: motionClassName,
      style: motionStyle
    } = _ref2;
    return (0,reactNode/* cloneElement */.Tm)(appendAction, oriProps => ({
      className: classnames_default()(oriProps.className, motionClassName),
      style: Object.assign(Object.assign(Object.assign({}, motionStyle), {
        // prevent the element has hover css pseudo-class that may cause animation to end prematurely.
        pointerEvents: motionClassName ? 'none' : undefined
      }), oriProps.style)
    }));
  })));
};
const UploadList = /*#__PURE__*/react.forwardRef(InternalUploadList);
if (false) {}
/* harmony default export */ var upload_UploadList = (UploadList);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/Upload.js
"use client";


var __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};













const LIST_IGNORE = \`__LIST_IGNORE_\${Date.now()}__\`;
const InternalUpload = (props, ref) => {
  const {
    fileList,
    defaultFileList,
    onRemove,
    showUploadList = true,
    listType = 'text',
    onPreview,
    onDownload,
    onChange,
    onDrop,
    previewFile,
    disabled: customDisabled,
    locale: propLocale,
    iconRender,
    isImageUrl,
    progress,
    prefixCls: customizePrefixCls,
    className,
    type = 'select',
    children,
    style,
    itemRender,
    maxCount,
    data = {},
    multiple = false,
    hasControlInside = true,
    action = '',
    accept = '',
    supportServerRender = true,
    rootClassName
  } = props;
  // ===================== Disabled =====================
  const disabled = react.useContext(DisabledContext/* default */.Z);
  const mergedDisabled = customDisabled !== null && customDisabled !== void 0 ? customDisabled : disabled;
  const [mergedFileList, setMergedFileList] = (0,useMergedState/* default */.Z)(defaultFileList || [], {
    value: fileList,
    postState: list => list !== null && list !== void 0 ? list : []
  });
  const [dragState, setDragState] = react.useState('drop');
  const upload = react.useRef(null);
  const wrapRef = react.useRef(null);
  if (false) {}
  // Control mode will auto fill file uid if not provided
  react.useMemo(() => {
    const timestamp = Date.now();
    (fileList || []).forEach((file, index) => {
      if (!file.uid && !Object.isFrozen(file)) {
        file.uid = \`__AUTO__\${timestamp}_\${index}__\`;
      }
    });
  }, [fileList]);
  const onInternalChange = (file, changedFileList, event) => {
    let cloneList = (0,toConsumableArray/* default */.Z)(changedFileList);
    let exceedMaxCount = false;
    // Cut to match count
    if (maxCount === 1) {
      cloneList = cloneList.slice(-1);
    } else if (maxCount) {
      exceedMaxCount = cloneList.length > maxCount;
      cloneList = cloneList.slice(0, maxCount);
    }
    // Prevent React18 auto batch since input[upload] trigger process at same time
    // which makes fileList closure problem
    (0,react_dom.flushSync)(() => {
      setMergedFileList(cloneList);
    });
    const changeInfo = {
      file: file,
      fileList: cloneList
    };
    if (event) {
      changeInfo.event = event;
    }
    if (!exceedMaxCount || file.status === 'removed' ||
    // We should ignore event if current file is exceed \`maxCount\`
    cloneList.some(f => f.uid === file.uid)) {
      (0,react_dom.flushSync)(() => {
        onChange === null || onChange === void 0 ? void 0 : onChange(changeInfo);
      });
    }
  };
  const mergedBeforeUpload = (file, fileListArgs) => __awaiter(void 0, void 0, void 0, function* () {
    const {
      beforeUpload,
      transformFile
    } = props;
    let parsedFile = file;
    if (beforeUpload) {
      const result = yield beforeUpload(file, fileListArgs);
      if (result === false) {
        return false;
      }
      // Hack for LIST_IGNORE, we add additional info to remove from the list
      delete file[LIST_IGNORE];
      if (result === LIST_IGNORE) {
        Object.defineProperty(file, LIST_IGNORE, {
          value: true,
          configurable: true
        });
        return false;
      }
      if (typeof result === 'object' && result) {
        parsedFile = result;
      }
    }
    if (transformFile) {
      parsedFile = yield transformFile(parsedFile);
    }
    return parsedFile;
  });
  const onBatchStart = batchFileInfoList => {
    // Skip file which marked as \`LIST_IGNORE\`, these file will not add to file list
    const filteredFileInfoList = batchFileInfoList.filter(info => !info.file[LIST_IGNORE]);
    // Nothing to do since no file need upload
    if (!filteredFileInfoList.length) {
      return;
    }
    const objectFileList = filteredFileInfoList.map(info => file2Obj(info.file));
    // Concat new files with prev files
    let newFileList = (0,toConsumableArray/* default */.Z)(mergedFileList);
    objectFileList.forEach(fileObj => {
      // Replace file if exist
      newFileList = updateFileList(fileObj, newFileList);
    });
    objectFileList.forEach((fileObj, index) => {
      // Repeat trigger \`onChange\` event for compatible
      let triggerFileObj = fileObj;
      if (!filteredFileInfoList[index].parsedFile) {
        // \`beforeUpload\` return false
        const {
          originFileObj
        } = fileObj;
        let clone;
        try {
          clone = new File([originFileObj], originFileObj.name, {
            type: originFileObj.type
          });
        } catch (_a) {
          clone = new Blob([originFileObj], {
            type: originFileObj.type
          });
          clone.name = originFileObj.name;
          clone.lastModifiedDate = new Date();
          clone.lastModified = new Date().getTime();
        }
        clone.uid = fileObj.uid;
        triggerFileObj = clone;
      } else {
        // Inject \`uploading\` status
        fileObj.status = 'uploading';
      }
      onInternalChange(triggerFileObj, newFileList);
    });
  };
  const onSuccess = (response, file, xhr) => {
    try {
      if (typeof response === 'string') {
        // biome-ignore lint/style/noParameterAssign: we need to modify response
        response = JSON.parse(response);
      }
    } catch (_a) {
      /* do nothing */
    }
    // removed
    if (!getFileItem(file, mergedFileList)) {
      return;
    }
    const targetItem = file2Obj(file);
    targetItem.status = 'done';
    targetItem.percent = 100;
    targetItem.response = response;
    targetItem.xhr = xhr;
    const nextFileList = updateFileList(targetItem, mergedFileList);
    onInternalChange(targetItem, nextFileList);
  };
  const onProgress = (e, file) => {
    // removed
    if (!getFileItem(file, mergedFileList)) {
      return;
    }
    const targetItem = file2Obj(file);
    targetItem.status = 'uploading';
    targetItem.percent = e.percent;
    const nextFileList = updateFileList(targetItem, mergedFileList);
    onInternalChange(targetItem, nextFileList, e);
  };
  const onError = (error, response, file) => {
    // removed
    if (!getFileItem(file, mergedFileList)) {
      return;
    }
    const targetItem = file2Obj(file);
    targetItem.error = error;
    targetItem.response = response;
    targetItem.status = 'error';
    const nextFileList = updateFileList(targetItem, mergedFileList);
    onInternalChange(targetItem, nextFileList);
  };
  const handleRemove = file => {
    let currentFile;
    Promise.resolve(typeof onRemove === 'function' ? onRemove(file) : onRemove).then(ret => {
      var _a;
      // Prevent removing file
      if (ret === false) {
        return;
      }
      const removedFileList = removeFileItem(file, mergedFileList);
      if (removedFileList) {
        currentFile = Object.assign(Object.assign({}, file), {
          status: 'removed'
        });
        mergedFileList === null || mergedFileList === void 0 ? void 0 : mergedFileList.forEach(item => {
          const matchKey = currentFile.uid !== undefined ? 'uid' : 'name';
          if (item[matchKey] === currentFile[matchKey] && !Object.isFrozen(item)) {
            item.status = 'removed';
          }
        });
        (_a = upload.current) === null || _a === void 0 ? void 0 : _a.abort(currentFile);
        onInternalChange(currentFile, removedFileList);
      }
    });
  };
  const onFileDrop = e => {
    setDragState(e.type);
    if (e.type === 'drop') {
      onDrop === null || onDrop === void 0 ? void 0 : onDrop(e);
    }
  };
  // Test needs
  react.useImperativeHandle(ref, () => ({
    onBatchStart,
    onSuccess,
    onProgress,
    onError,
    fileList: mergedFileList,
    upload: upload.current,
    nativeElement: wrapRef.current
  }));
  const {
    getPrefixCls,
    direction,
    upload: ctxUpload
  } = react.useContext(context/* ConfigContext */.E_);
  const prefixCls = getPrefixCls('upload', customizePrefixCls);
  const rcUploadProps = Object.assign(Object.assign({
    onBatchStart,
    onError,
    onProgress,
    onSuccess
  }, props), {
    data,
    multiple,
    action,
    accept,
    supportServerRender,
    prefixCls,
    disabled: mergedDisabled,
    beforeUpload: mergedBeforeUpload,
    onChange: undefined,
    hasControlInside
  });
  delete rcUploadProps.className;
  delete rcUploadProps.style;
  // Remove id to avoid open by label when trigger is hidden
  // !children: https://github.com/ant-design/ant-design/issues/14298
  // disabled: https://github.com/ant-design/ant-design/issues/16478
  //           https://github.com/ant-design/ant-design/issues/24197
  if (!children || mergedDisabled) {
    delete rcUploadProps.id;
  }
  const wrapperCls = \`\${prefixCls}-wrapper\`;
  const [wrapCSSVar, hashId, cssVarCls] = upload_style(prefixCls, wrapperCls);
  const [contextLocale] = (0,useLocale/* default */.Z)('Upload', en_US/* default */.Z.Upload);
  const {
    showRemoveIcon,
    showPreviewIcon,
    showDownloadIcon,
    removeIcon,
    previewIcon,
    downloadIcon,
    extra
  } = typeof showUploadList === 'boolean' ? {} : showUploadList;
  // use showRemoveIcon if it is specified explicitly
  const realShowRemoveIcon = typeof showRemoveIcon === 'undefined' ? !mergedDisabled : showRemoveIcon;
  const renderUploadList = (button, buttonVisible) => {
    if (!showUploadList) {
      return button;
    }
    return /*#__PURE__*/react.createElement(upload_UploadList, {
      prefixCls: prefixCls,
      listType: listType,
      items: mergedFileList,
      previewFile: previewFile,
      onPreview: onPreview,
      onDownload: onDownload,
      onRemove: handleRemove,
      showRemoveIcon: realShowRemoveIcon,
      showPreviewIcon: showPreviewIcon,
      showDownloadIcon: showDownloadIcon,
      removeIcon: removeIcon,
      previewIcon: previewIcon,
      downloadIcon: downloadIcon,
      iconRender: iconRender,
      extra: extra,
      locale: Object.assign(Object.assign({}, contextLocale), propLocale),
      isImageUrl: isImageUrl,
      progress: progress,
      appendAction: button,
      appendActionVisible: buttonVisible,
      itemRender: itemRender,
      disabled: mergedDisabled
    });
  };
  const mergedCls = classnames_default()(wrapperCls, className, rootClassName, hashId, cssVarCls, ctxUpload === null || ctxUpload === void 0 ? void 0 : ctxUpload.className, {
    [\`\${prefixCls}-rtl\`]: direction === 'rtl',
    [\`\${prefixCls}-picture-card-wrapper\`]: listType === 'picture-card',
    [\`\${prefixCls}-picture-circle-wrapper\`]: listType === 'picture-circle'
  });
  const mergedStyle = Object.assign(Object.assign({}, ctxUpload === null || ctxUpload === void 0 ? void 0 : ctxUpload.style), style);
  // ======================== Render ========================
  if (type === 'drag') {
    const dragCls = classnames_default()(hashId, prefixCls, \`\${prefixCls}-drag\`, {
      [\`\${prefixCls}-drag-uploading\`]: mergedFileList.some(file => file.status === 'uploading'),
      [\`\${prefixCls}-drag-hover\`]: dragState === 'dragover',
      [\`\${prefixCls}-disabled\`]: mergedDisabled,
      [\`\${prefixCls}-rtl\`]: direction === 'rtl'
    });
    return wrapCSSVar(/*#__PURE__*/react.createElement("span", {
      className: mergedCls,
      ref: wrapRef
    }, /*#__PURE__*/react.createElement("div", {
      className: dragCls,
      style: mergedStyle,
      onDrop: onFileDrop,
      onDragOver: onFileDrop,
      onDragLeave: onFileDrop
    }, /*#__PURE__*/react.createElement(es, Object.assign({}, rcUploadProps, {
      ref: upload,
      className: \`\${prefixCls}-btn\`
    }), /*#__PURE__*/react.createElement("div", {
      className: \`\${prefixCls}-drag-container\`
    }, children))), renderUploadList()));
  }
  const uploadBtnCls = classnames_default()(prefixCls, \`\${prefixCls}-select\`, {
    [\`\${prefixCls}-disabled\`]: mergedDisabled,
    [\`\${prefixCls}-hidden\`]: !children
  });
  const uploadButton = /*#__PURE__*/react.createElement("div", {
    className: uploadBtnCls
  }, /*#__PURE__*/react.createElement(es, Object.assign({}, rcUploadProps, {
    ref: upload
  })));
  if (listType === 'picture-card' || listType === 'picture-circle') {
    return wrapCSSVar(/*#__PURE__*/react.createElement("span", {
      className: mergedCls,
      ref: wrapRef
    }, renderUploadList(uploadButton, !!children)));
  }
  return wrapCSSVar(/*#__PURE__*/react.createElement("span", {
    className: mergedCls,
    ref: wrapRef
  }, uploadButton, renderUploadList()));
};
const Upload_Upload = /*#__PURE__*/react.forwardRef(InternalUpload);
if (false) {}
/* harmony default export */ var upload_Upload = (Upload_Upload);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/Dragger.js
"use client";

var __rest = undefined && undefined.__rest || function (s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};


const Dragger = /*#__PURE__*/react.forwardRef((_a, ref) => {
  var {
      style,
      height,
      hasControlInside = false
    } = _a,
    restProps = __rest(_a, ["style", "height", "hasControlInside"]);
  return /*#__PURE__*/react.createElement(upload_Upload, Object.assign({
    ref: ref,
    hasControlInside: hasControlInside
  }, restProps, {
    type: "drag",
    style: Object.assign(Object.assign({}, style), {
      height
    })
  }));
});
if (false) {}
/* harmony default export */ var upload_Dragger = (Dragger);
;// CONCATENATED MODULE: ./node_modules/antd/es/upload/index.js
"use client";



const es_upload_Upload = upload_Upload;
es_upload_Upload.Dragger = upload_Dragger;
es_upload_Upload.LIST_IGNORE = LIST_IGNORE;
/* harmony default export */ var es_upload = (es_upload_Upload);//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDRCxJQUFJLEtBQXFDLEVBQUUsRUFFMUM7QUFDRCxtREFBZSxPQUFPLEU7O0FDaEN0Qjs7QUFFZ0M7QUFDdUI7QUFDdkQsTUFBTSxnQkFBTSxHQUFHLGFBQWM7QUFDN0IsZ0JBQU0sV0FBVyxjQUFPO0FBQ3hCLGdCQUFNLGVBQWUsV0FBVztBQUNoQyw4Q0FBZSxnQkFBTSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy11cGxvYWQvZXMvYXR0ci1hY2NlcHQuanM/OGMwMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdXBsb2FkL2VzL3JlcXVlc3QuanM/ZDg5NCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdXBsb2FkL2VzL3RyYXZlcnNlRmlsZVRyZWUuanM/MzYzOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdXBsb2FkL2VzL3VpZC5qcz81NzdmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy11cGxvYWQvZXMvQWpheFVwbG9hZGVyLmpzP2M3ZTQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXVwbG9hZC9lcy9VcGxvYWQuanM/NGRhYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdXBsb2FkL2VzL2luZGV4LmpzP2NkMDkiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQvZXMvdXBsb2FkL3N0eWxlL2RyYWdnZXIuanM/NmY0NyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy91cGxvYWQvc3R5bGUvbGlzdC5qcz8zZWM2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL3VwbG9hZC9zdHlsZS9tb3Rpb24uanM/ODI2MiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy91cGxvYWQvc3R5bGUvcGljdHVyZS5qcz9jMDE3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL3VwbG9hZC9zdHlsZS9ydGwuanM/ZWU0MiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy91cGxvYWQvc3R5bGUvaW5kZXguanM/MjhjMSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFudC1kZXNpZ24vaWNvbnMtc3ZnL2VzL2Fzbi9GaWxlVHdvVG9uZS5qcz8zNzNlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYW50LWRlc2lnbi9pY29ucy9lcy9pY29ucy9GaWxlVHdvVG9uZS5qcz85NGMzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYW50LWRlc2lnbi9pY29ucy1zdmcvZXMvYXNuL1BhcGVyQ2xpcE91dGxpbmVkLmpzPzNiZjciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhbnQtZGVzaWduL2ljb25zL2VzL2ljb25zL1BhcGVyQ2xpcE91dGxpbmVkLmpzPzdhNTgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhbnQtZGVzaWduL2ljb25zLXN2Zy9lcy9hc24vUGljdHVyZVR3b1RvbmUuanM/N2YxMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFudC1kZXNpZ24vaWNvbnMvZXMvaWNvbnMvUGljdHVyZVR3b1RvbmUuanM/OGI4YyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy91cGxvYWQvdXRpbHMuanM/ZjFhMSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFudC1kZXNpZ24vaWNvbnMtc3ZnL2VzL2Fzbi9Eb3dubG9hZE91dGxpbmVkLmpzP2M4N2EiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhbnQtZGVzaWduL2ljb25zL2VzL2ljb25zL0Rvd25sb2FkT3V0bGluZWQuanM/OTc4MSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy91cGxvYWQvVXBsb2FkTGlzdC9MaXN0SXRlbS5qcz81MWIyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL3VwbG9hZC9VcGxvYWRMaXN0L2luZGV4LmpzPzcxZjYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQvZXMvdXBsb2FkL1VwbG9hZC5qcz9jM2I4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL3VwbG9hZC9EcmFnZ2VyLmpzPzAyNTciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQvZXMvdXBsb2FkL2luZGV4LmpzPzFkMzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdhcm5pbmcgZnJvbSBcInJjLXV0aWwvZXMvd2FybmluZ1wiO1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChmaWxlLCBhY2NlcHRlZEZpbGVzKSB7XG4gIGlmIChmaWxlICYmIGFjY2VwdGVkRmlsZXMpIHtcbiAgICB2YXIgYWNjZXB0ZWRGaWxlc0FycmF5ID0gQXJyYXkuaXNBcnJheShhY2NlcHRlZEZpbGVzKSA/IGFjY2VwdGVkRmlsZXMgOiBhY2NlcHRlZEZpbGVzLnNwbGl0KCcsJyk7XG4gICAgdmFyIGZpbGVOYW1lID0gZmlsZS5uYW1lIHx8ICcnO1xuICAgIHZhciBtaW1lVHlwZSA9IGZpbGUudHlwZSB8fCAnJztcbiAgICB2YXIgYmFzZU1pbWVUeXBlID0gbWltZVR5cGUucmVwbGFjZSgvXFwvLiokLywgJycpO1xuICAgIHJldHVybiBhY2NlcHRlZEZpbGVzQXJyYXkuc29tZShmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIHZhbGlkVHlwZSA9IHR5cGUudHJpbSgpO1xuICAgICAgLy8gVGhpcyBpcyBzb21ldGhpbmcgbGlrZSAqLyosKiAgYWxsb3cgYWxsIGZpbGVzXG4gICAgICBpZiAoL15cXCooXFwvXFwqKT8kLy50ZXN0KHR5cGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBsaWtlIC5qcGcsIC5wbmdcbiAgICAgIGlmICh2YWxpZFR5cGUuY2hhckF0KDApID09PSAnLicpIHtcbiAgICAgICAgdmFyIGxvd2VyRmlsZU5hbWUgPSBmaWxlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgbG93ZXJUeXBlID0gdmFsaWRUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhciBhZmZpeExpc3QgPSBbbG93ZXJUeXBlXTtcbiAgICAgICAgaWYgKGxvd2VyVHlwZSA9PT0gJy5qcGcnIHx8IGxvd2VyVHlwZSA9PT0gJy5qcGVnJykge1xuICAgICAgICAgIGFmZml4TGlzdCA9IFsnLmpwZycsICcuanBlZyddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZmZpeExpc3Quc29tZShmdW5jdGlvbiAoYWZmaXgpIHtcbiAgICAgICAgICByZXR1cm4gbG93ZXJGaWxlTmFtZS5lbmRzV2l0aChhZmZpeCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGlzIGlzIHNvbWV0aGluZyBsaWtlIGEgaW1hZ2UvKiBtaW1lIHR5cGVcbiAgICAgIGlmICgvXFwvXFwqJC8udGVzdCh2YWxpZFR5cGUpKSB7XG4gICAgICAgIHJldHVybiBiYXNlTWltZVR5cGUgPT09IHZhbGlkVHlwZS5yZXBsYWNlKC9cXC8uKiQvLCAnJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZ1bGwgbWF0Y2hcbiAgICAgIGlmIChtaW1lVHlwZSA9PT0gdmFsaWRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBJbnZhbGlkYXRlIHR5cGUgc2hvdWxkIHNraXBcbiAgICAgIGlmICgvXlxcdyskLy50ZXN0KHZhbGlkVHlwZSkpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgXCJVcGxvYWQgdGFrZXMgYW4gaW52YWxpZGF0ZSAnYWNjZXB0JyB0eXBlICdcIi5jb25jYXQodmFsaWRUeXBlLCBcIicuU2tpcCBmb3IgY2hlY2suXCIpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59KTsiLCJmdW5jdGlvbiBnZXRFcnJvcihvcHRpb24sIHhocikge1xuICB2YXIgbXNnID0gXCJjYW5ub3QgXCIuY29uY2F0KG9wdGlvbi5tZXRob2QsIFwiIFwiKS5jb25jYXQob3B0aW9uLmFjdGlvbiwgXCIgXCIpLmNvbmNhdCh4aHIuc3RhdHVzLCBcIidcIik7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IobXNnKTtcbiAgZXJyLnN0YXR1cyA9IHhoci5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBvcHRpb24ubWV0aG9kO1xuICBlcnIudXJsID0gb3B0aW9uLmFjdGlvbjtcbiAgcmV0dXJuIGVycjtcbn1cbmZ1bmN0aW9uIGdldEJvZHkoeGhyKSB7XG4gIHZhciB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dCB8fCB4aHIucmVzcG9uc2U7XG4gIGlmICghdGV4dCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBsb2FkKG9wdGlvbikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICBpZiAob3B0aW9uLm9uUHJvZ3Jlc3MgJiYgeGhyLnVwbG9hZCkge1xuICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uIHByb2dyZXNzKGUpIHtcbiAgICAgIGlmIChlLnRvdGFsID4gMCkge1xuICAgICAgICBlLnBlcmNlbnQgPSBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDA7XG4gICAgICB9XG4gICAgICBvcHRpb24ub25Qcm9ncmVzcyhlKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBpZiAob3B0aW9uLmRhdGEpIHtcbiAgICBPYmplY3Qua2V5cyhvcHRpb24uZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBvcHRpb24uZGF0YVtrZXldO1xuICAgICAgLy8gc3VwcG9ydCBrZXktdmFsdWUgYXJyYXkgZGF0YVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAvLyB7IGxpc3Q6IFsgMTEsIDIyIF0gfVxuICAgICAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgnbGlzdFtdJywgMTEpO1xuICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcIlwiLmNvbmNhdChrZXksIFwiW11cIiksIGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIGlmIChvcHRpb24uZmlsZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICBmb3JtRGF0YS5hcHBlbmQob3B0aW9uLmZpbGVuYW1lLCBvcHRpb24uZmlsZSwgb3B0aW9uLmZpbGUubmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgZm9ybURhdGEuYXBwZW5kKG9wdGlvbi5maWxlbmFtZSwgb3B0aW9uLmZpbGUpO1xuICB9XG4gIHhoci5vbmVycm9yID0gZnVuY3Rpb24gZXJyb3IoZSkge1xuICAgIG9wdGlvbi5vbkVycm9yKGUpO1xuICB9O1xuICB4aHIub25sb2FkID0gZnVuY3Rpb24gb25sb2FkKCkge1xuICAgIC8vIGFsbG93IHN1Y2Nlc3Mgd2hlbiAyeHggc3RhdHVzXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvdXBsb2FkL2lzc3Vlcy8zNFxuICAgIGlmICh4aHIuc3RhdHVzIDwgMjAwIHx8IHhoci5zdGF0dXMgPj0gMzAwKSB7XG4gICAgICByZXR1cm4gb3B0aW9uLm9uRXJyb3IoZ2V0RXJyb3Iob3B0aW9uLCB4aHIpLCBnZXRCb2R5KHhocikpO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uLm9uU3VjY2VzcyhnZXRCb2R5KHhociksIHhocik7XG4gIH07XG4gIHhoci5vcGVuKG9wdGlvbi5tZXRob2QsIG9wdGlvbi5hY3Rpb24sIHRydWUpO1xuXG4gIC8vIEhhcyB0byBiZSBhZnRlciBgLm9wZW4oKWAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZW55by9kcm9wem9uZS9pc3N1ZXMvMTc5XG4gIGlmIChvcHRpb24ud2l0aENyZWRlbnRpYWxzICYmICd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikge1xuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICB9XG4gIHZhciBoZWFkZXJzID0gb3B0aW9uLmhlYWRlcnMgfHwge307XG5cbiAgLy8gd2hlbiBzZXQgaGVhZGVyc1snWC1SZXF1ZXN0ZWQtV2l0aCddID0gbnVsbCAsIGNhbiBjbG9zZSBkZWZhdWx0IFhIUiBoZWFkZXJcbiAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvdXBsb2FkL2lzc3Vlcy8zM1xuICBpZiAoaGVhZGVyc1snWC1SZXF1ZXN0ZWQtV2l0aCddICE9PSBudWxsKSB7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgfVxuICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChoKSB7XG4gICAgaWYgKGhlYWRlcnNbaF0gIT09IG51bGwpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGgsIGhlYWRlcnNbaF0pO1xuICAgIH1cbiAgfSk7XG4gIHhoci5zZW5kKGZvcm1EYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICB4aHIuYWJvcnQoKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZVwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvclwiO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNTAwODBcbnZhciB0cmF2ZXJzZUZpbGVUcmVlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGZpbGVzLCBpc0FjY2VwdGVkKSB7XG4gICAgdmFyIGZsYXR0ZW5GaWxlTGlzdCwgcHJvZ3Jlc3NGaWxlTGlzdCwgcmVhZERpcmVjdG9yeSwgX3JlYWREaXJlY3RvcnksIHJlYWRGaWxlLCBfcmVhZEZpbGUsIF90cmF2ZXJzZUZpbGVUcmVlLCB3aXBJbmRleDtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX3JlYWRGaWxlID0gZnVuY3Rpb24gX3JlYWRGaWxlMygpIHtcbiAgICAgICAgICAgIF9yZWFkRmlsZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoaXRlbSkge1xuICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc2xvdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtLmZpbGUoZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FjY2VwdGVkKGZpbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzE2NDI2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmZ1bGxQYXRoICYmICFmaWxlLndlYmtpdFJlbGF0aXZlUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGZpbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYmtpdFJlbGF0aXZlUGF0aDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUud2Via2l0UmVsYXRpdmVQYXRoID0gaXRlbS5mdWxsUGF0aC5yZXBsYWNlKC9eXFwvLywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGZpbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYmtpdFJlbGF0aXZlUGF0aDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNsb3ZlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzbG92ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBfcmVhZEZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRGaWxlID0gZnVuY3Rpb24gX3JlYWRGaWxlMihfeDQpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhZEZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIF9yZWFkRGlyZWN0b3J5ID0gZnVuY3Rpb24gX3JlYWREaXJlY3RvcnkzKCkge1xuICAgICAgICAgICAgX3JlYWREaXJlY3RvcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGRpcmVjdG9yeSkge1xuICAgICAgICAgICAgICB2YXIgZGlyUmVhZGVyLCBlbnRyaWVzLCByZXN1bHRzLCBuLCBpO1xuICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgZGlyUmVhZGVyID0gZGlyZWN0b3J5LmNyZWF0ZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzID0gW107XG4gICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJSZWFkZXIucmVhZEVudHJpZXMocmVzb2x2ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgICAgICBuID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwiYnJlYWtcIiwgMTIpO1xuICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZW50cmllcy5wdXNoKHJlc3VsdHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBlbnRyaWVzKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFkRGlyZWN0b3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWFkRGlyZWN0b3J5ID0gZnVuY3Rpb24gX3JlYWREaXJlY3RvcnkyKF94Mykge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFkRGlyZWN0b3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmbGF0dGVuRmlsZUxpc3QgPSBbXTtcbiAgICAgICAgICBwcm9ncmVzc0ZpbGVMaXN0ID0gW107XG4gICAgICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb2dyZXNzRmlsZUxpc3QucHVzaChmaWxlLndlYmtpdEdldEFzRW50cnkoKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG4gICAgICAgICAgX3RyYXZlcnNlRmlsZVRyZWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKGl0ZW0sIHBhdGgpIHtcbiAgICAgICAgICAgICAgdmFyIF9maWxlLCBlbnRyaWVzO1xuICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG4gICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgICAgICAgICBpdGVtLnBhdGggPSBwYXRoIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0uaXNGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZEZpbGUoaXRlbSk7XG4gICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIF9maWxlID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9maWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZmxhdHRlbkZpbGVMaXN0LnB1c2goX2ZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0uaXNEaXJlY3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZERpcmVjdG9yeShpdGVtKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXMgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0ZpbGVMaXN0LnB1c2guYXBwbHkocHJvZ3Jlc3NGaWxlTGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KGVudHJpZXMpKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBfY2FsbGVlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBfdHJhdmVyc2VGaWxlVHJlZShfeDUsIF94Nikge1xuICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSgpO1xuICAgICAgICAgIHdpcEluZGV4ID0gMDtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmICghKHdpcEluZGV4IDwgcHJvZ3Jlc3NGaWxlTGlzdC5sZW5ndGgpKSB7XG4gICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7XG4gICAgICAgICAgcmV0dXJuIF90cmF2ZXJzZUZpbGVUcmVlKHByb2dyZXNzRmlsZUxpc3Rbd2lwSW5kZXhdKTtcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICB3aXBJbmRleCsrO1xuICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBmbGF0dGVuRmlsZUxpc3QpO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTQpO1xuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiB0cmF2ZXJzZUZpbGVUcmVlKF94LCBfeDIpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgdHJhdmVyc2VGaWxlVHJlZTsiLCJ2YXIgbm93ID0gK25ldyBEYXRlKCk7XG52YXIgaW5kZXggPSAwO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdWlkKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGx1c3BsdXNcbiAgcmV0dXJuIFwicmMtdXBsb2FkLVwiLmNvbmNhdChub3csIFwiLVwiKS5jb25jYXQoKytpbmRleCk7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfdHlwZW9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2ZcIjtcbmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWVcIjtcbmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvclwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNcIjtcbmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xudmFyIF9leGNsdWRlZCA9IFtcImNvbXBvbmVudFwiLCBcInByZWZpeENsc1wiLCBcImNsYXNzTmFtZVwiLCBcImNsYXNzTmFtZXNcIiwgXCJkaXNhYmxlZFwiLCBcImlkXCIsIFwibmFtZVwiLCBcInN0eWxlXCIsIFwic3R5bGVzXCIsIFwibXVsdGlwbGVcIiwgXCJhY2NlcHRcIiwgXCJjYXB0dXJlXCIsIFwiY2hpbGRyZW5cIiwgXCJkaXJlY3RvcnlcIiwgXCJvcGVuRmlsZURpYWxvZ09uQ2xpY2tcIiwgXCJvbk1vdXNlRW50ZXJcIiwgXCJvbk1vdXNlTGVhdmVcIiwgXCJoYXNDb250cm9sSW5zaWRlXCJdO1xuLyogZXNsaW50IHJlYWN0L25vLWlzLW1vdW50ZWQ6MCxyZWFjdC9zb3J0LWNvbXA6MCxyZWFjdC9wcm9wLXR5cGVzOjAgKi9cbmltcG9ydCBjbHN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHBpY2tBdHRycyBmcm9tIFwicmMtdXRpbC9lcy9waWNrQXR0cnNcIjtcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgYXR0ckFjY2VwdCBmcm9tIFwiLi9hdHRyLWFjY2VwdFwiO1xuaW1wb3J0IGRlZmF1bHRSZXF1ZXN0IGZyb20gXCIuL3JlcXVlc3RcIjtcbmltcG9ydCB0cmF2ZXJzZUZpbGVUcmVlIGZyb20gXCIuL3RyYXZlcnNlRmlsZVRyZWVcIjtcbmltcG9ydCBnZXRVaWQgZnJvbSBcIi4vdWlkXCI7XG52YXIgQWpheFVwbG9hZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhBamF4VXBsb2FkZXIsIF9Db21wb25lbnQpO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFqYXhVcGxvYWRlcik7XG4gIGZ1bmN0aW9uIEFqYXhVcGxvYWRlcigpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFqYXhVcGxvYWRlcik7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHtcbiAgICAgIHVpZDogZ2V0VWlkKClcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVxc1wiLCB7fSk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImZpbGVJbnB1dFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfaXNNb3VudGVkXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgYWNjZXB0ID0gX3RoaXMkcHJvcHMuYWNjZXB0LFxuICAgICAgICBkaXJlY3RvcnkgPSBfdGhpcyRwcm9wcy5kaXJlY3Rvcnk7XG4gICAgICB2YXIgZmlsZXMgPSBlLnRhcmdldC5maWxlcztcbiAgICAgIHZhciBhY2NlcHRlZEZpbGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KGZpbGVzKS5maWx0ZXIoZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgcmV0dXJuICFkaXJlY3RvcnkgfHwgYXR0ckFjY2VwdChmaWxlLCBhY2NlcHQpO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy51cGxvYWRGaWxlcyhhY2NlcHRlZEZpbGVzKTtcbiAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uQ2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZWwgPSBfdGhpcy5maWxlSW5wdXQ7XG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICB2YXIgb25DbGljayA9IF90aGlzLnByb3BzLm9uQ2xpY2s7XG4gICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC50YWdOYW1lID09PSAnQlVUVE9OJykge1xuICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50LmZvY3VzKCk7XG4gICAgICAgIHRhcmdldC5ibHVyKCk7XG4gICAgICB9XG4gICAgICBlbC5jbGljaygpO1xuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uS2V5RG93blwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgIF90aGlzLm9uQ2xpY2soZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uRmlsZURyb3BcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKGUpIHtcbiAgICAgICAgdmFyIG11bHRpcGxlLCBmaWxlcywgX2ZpbGVzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBtdWx0aXBsZSA9IF90aGlzLnByb3BzLm11bHRpcGxlO1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGlmICghKGUudHlwZSA9PT0gJ2RyYWdvdmVyJykpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBpZiAoIV90aGlzLnByb3BzLmRpcmVjdG9yeSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgcmV0dXJuIHRyYXZlcnNlRmlsZVRyZWUoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5kYXRhVHJhbnNmZXIuaXRlbXMpLCBmdW5jdGlvbiAoX2ZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ckFjY2VwdChfZmlsZSwgX3RoaXMucHJvcHMuYWNjZXB0KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGZpbGVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgX3RoaXMudXBsb2FkRmlsZXMoZmlsZXMpO1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgX2ZpbGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KGUuZGF0YVRyYW5zZmVyLmZpbGVzKS5maWx0ZXIoZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ckFjY2VwdChmaWxlLCBfdGhpcy5wcm9wcy5hY2NlcHQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKG11bHRpcGxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF9maWxlcyA9IF9maWxlcy5zbGljZSgwLCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdGhpcy51cGxvYWRGaWxlcyhfZmlsZXMpO1xuICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ1cGxvYWRGaWxlc1wiLCBmdW5jdGlvbiAoZmlsZXMpIHtcbiAgICAgIHZhciBvcmlnaW5GaWxlcyA9IF90b0NvbnN1bWFibGVBcnJheShmaWxlcyk7XG4gICAgICB2YXIgcG9zdEZpbGVzID0gb3JpZ2luRmlsZXMubWFwKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmaWxlLnVpZCA9IGdldFVpZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXMucHJvY2Vzc0ZpbGUoZmlsZSwgb3JpZ2luRmlsZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEJhdGNoIHVwbG9hZCBmaWxlc1xuICAgICAgUHJvbWlzZS5hbGwocG9zdEZpbGVzKS50aGVuKGZ1bmN0aW9uIChmaWxlTGlzdCkge1xuICAgICAgICB2YXIgb25CYXRjaFN0YXJ0ID0gX3RoaXMucHJvcHMub25CYXRjaFN0YXJ0O1xuICAgICAgICBvbkJhdGNoU3RhcnQgPT09IG51bGwgfHwgb25CYXRjaFN0YXJ0ID09PSB2b2lkIDAgfHwgb25CYXRjaFN0YXJ0KGZpbGVMaXN0Lm1hcChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICB2YXIgb3JpZ2luID0gX3JlZjIub3JpZ2luLFxuICAgICAgICAgICAgcGFyc2VkRmlsZSA9IF9yZWYyLnBhcnNlZEZpbGU7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGU6IG9yaWdpbixcbiAgICAgICAgICAgIHBhcnNlZEZpbGU6IHBhcnNlZEZpbGVcbiAgICAgICAgICB9O1xuICAgICAgICB9KSk7XG4gICAgICAgIGZpbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgIHJldHVybiBmaWxlLnBhcnNlZEZpbGUgIT09IG51bGw7XG4gICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICBfdGhpcy5wb3N0KGZpbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgZmlsZSBiZWZvcmUgdXBsb2FkLiBXaGVuIGFsbCB0aGUgZmlsZSBpcyByZWFkeSwgd2Ugc3RhcnQgdXBsb2FkLlxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJwcm9jZXNzRmlsZVwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMihmaWxlLCBmaWxlTGlzdCkge1xuICAgICAgICB2YXIgYmVmb3JlVXBsb2FkLCB0cmFuc2Zvcm1lZEZpbGUsIGFjdGlvbiwgbWVyZ2VkQWN0aW9uLCBkYXRhLCBtZXJnZWREYXRhLCBwYXJzZWREYXRhLCBwYXJzZWRGaWxlLCBtZXJnZWRQYXJzZWRGaWxlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgYmVmb3JlVXBsb2FkID0gX3RoaXMucHJvcHMuYmVmb3JlVXBsb2FkO1xuICAgICAgICAgICAgICB0cmFuc2Zvcm1lZEZpbGUgPSBmaWxlO1xuICAgICAgICAgICAgICBpZiAoIWJlZm9yZVVwbG9hZCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzO1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7XG4gICAgICAgICAgICAgIHJldHVybiBiZWZvcmVVcGxvYWQoZmlsZSwgZmlsZUxpc3QpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICB0cmFuc2Zvcm1lZEZpbGUgPSBfY29udGV4dDIuc2VudDtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMyk7XG4gICAgICAgICAgICAgIC8vIFJlamVjdGlvbiB3aWxsIGFsc28gdHJhZGUgYXMgZmFsc2VcbiAgICAgICAgICAgICAgdHJhbnNmb3JtZWRGaWxlID0gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBpZiAoISh0cmFuc2Zvcm1lZEZpbGUgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwge1xuICAgICAgICAgICAgICAgIG9yaWdpbjogZmlsZSxcbiAgICAgICAgICAgICAgICBwYXJzZWRGaWxlOiBudWxsLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBkYXRhOiBudWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgLy8gR2V0IGxhdGVzdCBhY3Rpb25cbiAgICAgICAgICAgICAgYWN0aW9uID0gX3RoaXMucHJvcHMuYWN0aW9uO1xuICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODtcbiAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbihmaWxlKTtcbiAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgIG1lcmdlZEFjdGlvbiA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgIG1lcmdlZEFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIC8vIEdldCBsYXRlc3QgZGF0YVxuICAgICAgICAgICAgICBkYXRhID0gX3RoaXMucHJvcHMuZGF0YTtcbiAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI2O1xuICAgICAgICAgICAgICByZXR1cm4gZGF0YShmaWxlKTtcbiAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgIG1lcmdlZERhdGEgPSBfY29udGV4dDIuc2VudDtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICBtZXJnZWREYXRhID0gZGF0YTtcbiAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgIHBhcnNlZERhdGEgPVxuICAgICAgICAgICAgICAvLyBzdHJpbmcgdHlwZSBpcyBmcm9tIGxlZ2FjeSBgdHJhbnNmb3JtRmlsZWAuXG4gICAgICAgICAgICAgIC8vIE5vdCBzdXJlIGlmIHRoaXMgd2lsbCB3b3JrIHNpbmNlIG5vIHJlbGF0ZWQgdGVzdCBjYXNlIHdvcmtzIHdpdGggaXRcbiAgICAgICAgICAgICAgKF90eXBlb2YodHJhbnNmb3JtZWRGaWxlKSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHRyYW5zZm9ybWVkRmlsZSA9PT0gJ3N0cmluZycpICYmIHRyYW5zZm9ybWVkRmlsZSA/IHRyYW5zZm9ybWVkRmlsZSA6IGZpbGU7XG4gICAgICAgICAgICAgIGlmIChwYXJzZWREYXRhIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZEZpbGUgPSBwYXJzZWREYXRhO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnNlZEZpbGUgPSBuZXcgRmlsZShbcGFyc2VkRGF0YV0sIGZpbGUubmFtZSwge1xuICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbWVyZ2VkUGFyc2VkRmlsZSA9IHBhcnNlZEZpbGU7XG4gICAgICAgICAgICAgIG1lcmdlZFBhcnNlZEZpbGUudWlkID0gZmlsZS51aWQ7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IGZpbGUsXG4gICAgICAgICAgICAgICAgZGF0YTogbWVyZ2VkRGF0YSxcbiAgICAgICAgICAgICAgICBwYXJzZWRGaWxlOiBtZXJnZWRQYXJzZWRGaWxlLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogbWVyZ2VkQWN0aW9uXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAzNTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCA5XV0pO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIsIF94Mykge1xuICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2F2ZUZpbGVJbnB1dFwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgX3RoaXMuZmlsZUlucHV0ID0gbm9kZTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEFqYXhVcGxvYWRlciwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5hYm9ydCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3N0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBvc3QoX3JlZjQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIGRhdGEgPSBfcmVmNC5kYXRhLFxuICAgICAgICBvcmlnaW4gPSBfcmVmNC5vcmlnaW4sXG4gICAgICAgIGFjdGlvbiA9IF9yZWY0LmFjdGlvbixcbiAgICAgICAgcGFyc2VkRmlsZSA9IF9yZWY0LnBhcnNlZEZpbGU7XG4gICAgICBpZiAoIXRoaXMuX2lzTW91bnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgb25TdGFydCA9IF90aGlzJHByb3BzMi5vblN0YXJ0LFxuICAgICAgICBjdXN0b21SZXF1ZXN0ID0gX3RoaXMkcHJvcHMyLmN1c3RvbVJlcXVlc3QsXG4gICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczIubmFtZSxcbiAgICAgICAgaGVhZGVycyA9IF90aGlzJHByb3BzMi5oZWFkZXJzLFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHMgPSBfdGhpcyRwcm9wczIud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICBtZXRob2QgPSBfdGhpcyRwcm9wczIubWV0aG9kO1xuICAgICAgdmFyIHVpZCA9IG9yaWdpbi51aWQ7XG4gICAgICB2YXIgcmVxdWVzdCA9IGN1c3RvbVJlcXVlc3QgfHwgZGVmYXVsdFJlcXVlc3Q7XG4gICAgICB2YXIgcmVxdWVzdE9wdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGZpbGVuYW1lOiBuYW1lLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBmaWxlOiBwYXJzZWRGaWxlLFxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHdpdGhDcmVkZW50aWFscyxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QgfHwgJ3Bvc3QnLFxuICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiBvblByb2dyZXNzKGUpIHtcbiAgICAgICAgICB2YXIgb25Qcm9ncmVzcyA9IF90aGlzMi5wcm9wcy5vblByb2dyZXNzO1xuICAgICAgICAgIG9uUHJvZ3Jlc3MgPT09IG51bGwgfHwgb25Qcm9ncmVzcyA9PT0gdm9pZCAwIHx8IG9uUHJvZ3Jlc3MoZSwgcGFyc2VkRmlsZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKHJldCwgeGhyKSB7XG4gICAgICAgICAgdmFyIG9uU3VjY2VzcyA9IF90aGlzMi5wcm9wcy5vblN1Y2Nlc3M7XG4gICAgICAgICAgb25TdWNjZXNzID09PSBudWxsIHx8IG9uU3VjY2VzcyA9PT0gdm9pZCAwIHx8IG9uU3VjY2VzcyhyZXQsIHBhcnNlZEZpbGUsIHhocik7XG4gICAgICAgICAgZGVsZXRlIF90aGlzMi5yZXFzW3VpZF07XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoZXJyLCByZXQpIHtcbiAgICAgICAgICB2YXIgb25FcnJvciA9IF90aGlzMi5wcm9wcy5vbkVycm9yO1xuICAgICAgICAgIG9uRXJyb3IgPT09IG51bGwgfHwgb25FcnJvciA9PT0gdm9pZCAwIHx8IG9uRXJyb3IoZXJyLCByZXQsIHBhcnNlZEZpbGUpO1xuICAgICAgICAgIGRlbGV0ZSBfdGhpczIucmVxc1t1aWRdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgb25TdGFydChvcmlnaW4pO1xuICAgICAgdGhpcy5yZXFzW3VpZF0gPSByZXF1ZXN0KHJlcXVlc3RPcHRpb24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB1aWQ6IGdldFVpZCgpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWJvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWJvcnQoZmlsZSkge1xuICAgICAgdmFyIHJlcXMgPSB0aGlzLnJlcXM7XG4gICAgICBpZiAoZmlsZSkge1xuICAgICAgICB2YXIgdWlkID0gZmlsZS51aWQgPyBmaWxlLnVpZCA6IGZpbGU7XG4gICAgICAgIGlmIChyZXFzW3VpZF0gJiYgcmVxc1t1aWRdLmFib3J0KSB7XG4gICAgICAgICAgcmVxc1t1aWRdLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHJlcXNbdWlkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHJlcXMpLmZvckVhY2goZnVuY3Rpb24gKHVpZCkge1xuICAgICAgICAgIGlmIChyZXFzW3VpZF0gJiYgcmVxc1t1aWRdLmFib3J0KSB7XG4gICAgICAgICAgICByZXFzW3VpZF0uYWJvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIHJlcXNbdWlkXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgVGFnID0gX3RoaXMkcHJvcHMzLmNvbXBvbmVudCxcbiAgICAgICAgcHJlZml4Q2xzID0gX3RoaXMkcHJvcHMzLnByZWZpeENscyxcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgX3RoaXMkcHJvcHMzJGNsYXNzTmFtID0gX3RoaXMkcHJvcHMzLmNsYXNzTmFtZXMsXG4gICAgICAgIGNsYXNzTmFtZXMgPSBfdGhpcyRwcm9wczMkY2xhc3NOYW0gPT09IHZvaWQgMCA/IHt9IDogX3RoaXMkcHJvcHMzJGNsYXNzTmFtLFxuICAgICAgICBkaXNhYmxlZCA9IF90aGlzJHByb3BzMy5kaXNhYmxlZCxcbiAgICAgICAgaWQgPSBfdGhpcyRwcm9wczMuaWQsXG4gICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczMubmFtZSxcbiAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczMuc3R5bGUsXG4gICAgICAgIF90aGlzJHByb3BzMyRzdHlsZXMgPSBfdGhpcyRwcm9wczMuc3R5bGVzLFxuICAgICAgICBzdHlsZXMgPSBfdGhpcyRwcm9wczMkc3R5bGVzID09PSB2b2lkIDAgPyB7fSA6IF90aGlzJHByb3BzMyRzdHlsZXMsXG4gICAgICAgIG11bHRpcGxlID0gX3RoaXMkcHJvcHMzLm11bHRpcGxlLFxuICAgICAgICBhY2NlcHQgPSBfdGhpcyRwcm9wczMuYWNjZXB0LFxuICAgICAgICBjYXB0dXJlID0gX3RoaXMkcHJvcHMzLmNhcHR1cmUsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMzLmNoaWxkcmVuLFxuICAgICAgICBkaXJlY3RvcnkgPSBfdGhpcyRwcm9wczMuZGlyZWN0b3J5LFxuICAgICAgICBvcGVuRmlsZURpYWxvZ09uQ2xpY2sgPSBfdGhpcyRwcm9wczMub3BlbkZpbGVEaWFsb2dPbkNsaWNrLFxuICAgICAgICBvbk1vdXNlRW50ZXIgPSBfdGhpcyRwcm9wczMub25Nb3VzZUVudGVyLFxuICAgICAgICBvbk1vdXNlTGVhdmUgPSBfdGhpcyRwcm9wczMub25Nb3VzZUxlYXZlLFxuICAgICAgICBoYXNDb250cm9sSW5zaWRlID0gX3RoaXMkcHJvcHMzLmhhc0NvbnRyb2xJbnNpZGUsXG4gICAgICAgIG90aGVyUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkcHJvcHMzLCBfZXhjbHVkZWQpO1xuICAgICAgdmFyIGNscyA9IGNsc3goX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscywgdHJ1ZSksIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItZGlzYWJsZWRcIiksIGRpc2FibGVkKSwgY2xhc3NOYW1lLCBjbGFzc05hbWUpKTtcbiAgICAgIC8vIGJlY2F1c2UgaW5wdXQgZG9uJ3QgaGF2ZSBkaXJlY3Rvcnkvd2Via2l0ZGlyZWN0b3J5IHR5cGUgZGVjbGFyYXRpb25cbiAgICAgIHZhciBkaXJQcm9wcyA9IGRpcmVjdG9yeSA/IHtcbiAgICAgICAgZGlyZWN0b3J5OiAnZGlyZWN0b3J5JyxcbiAgICAgICAgd2Via2l0ZGlyZWN0b3J5OiAnd2Via2l0ZGlyZWN0b3J5J1xuICAgICAgfSA6IHt9O1xuICAgICAgdmFyIGV2ZW50cyA9IGRpc2FibGVkID8ge30gOiB7XG4gICAgICAgIG9uQ2xpY2s6IG9wZW5GaWxlRGlhbG9nT25DbGljayA/IHRoaXMub25DbGljayA6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBvbktleURvd246IG9wZW5GaWxlRGlhbG9nT25DbGljayA/IHRoaXMub25LZXlEb3duIDogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSxcbiAgICAgICAgb25Ecm9wOiB0aGlzLm9uRmlsZURyb3AsXG4gICAgICAgIG9uRHJhZ092ZXI6IHRoaXMub25GaWxlRHJvcCxcbiAgICAgICAgdGFiSW5kZXg6IGhhc0NvbnRyb2xJbnNpZGUgPyB1bmRlZmluZWQgOiAnMCdcbiAgICAgIH07XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFnLCBfZXh0ZW5kcyh7fSwgZXZlbnRzLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xzLFxuICAgICAgICByb2xlOiBoYXNDb250cm9sSW5zaWRlID8gdW5kZWZpbmVkIDogJ2J1dHRvbicsXG4gICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe30sIHBpY2tBdHRycyhvdGhlclByb3BzLCB7XG4gICAgICAgIGFyaWE6IHRydWUsXG4gICAgICAgIGRhdGE6IHRydWVcbiAgICAgIH0pLCB7XG4gICAgICAgIGlkOiBpZFxuICAgICAgICAvKipcbiAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNTA2NDMsXG4gICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvdXBsb2FkL3B1bGwvNTc1I2lzc3VlY29tbWVudC0yMzIwNjQ2NTUyXG4gICAgICAgICAqLyxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgcmVmOiB0aGlzLnNhdmVGaWxlSW5wdXQsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzE5OTQ4XG4gICAgICAgICxcbiAgICAgICAga2V5OiB0aGlzLnN0YXRlLnVpZCxcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICB9LCBzdHlsZXMuaW5wdXQpLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMuaW5wdXQsXG4gICAgICAgIGFjY2VwdDogYWNjZXB0XG4gICAgICB9LCBkaXJQcm9wcywge1xuICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlXG4gICAgICB9LCBjYXB0dXJlICE9IG51bGwgPyB7XG4gICAgICAgIGNhcHR1cmU6IGNhcHR1cmVcbiAgICAgIH0gOiB7fSkpLCBjaGlsZHJlbik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBBamF4VXBsb2FkZXI7XG59KENvbXBvbmVudCk7XG5leHBvcnQgZGVmYXVsdCBBamF4VXBsb2FkZXI7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzXCI7XG5pbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlclwiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbi8qIGVzbGludCByZWFjdC9wcm9wLXR5cGVzOjAgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWpheFVwbG9hZCBmcm9tIFwiLi9BamF4VXBsb2FkZXJcIjtcbmZ1bmN0aW9uIGVtcHR5KCkge31cbnZhciBVcGxvYWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFVwbG9hZCwgX0NvbXBvbmVudCk7XG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVXBsb2FkKTtcbiAgZnVuY3Rpb24gVXBsb2FkKCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXBsb2FkKTtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwidXBsb2FkZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2F2ZVVwbG9hZGVyXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBfdGhpcy51cGxvYWRlciA9IG5vZGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhVcGxvYWQsIFt7XG4gICAga2V5OiBcImFib3J0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0KGZpbGUpIHtcbiAgICAgIHRoaXMudXBsb2FkZXIuYWJvcnQoZmlsZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWpheFVwbG9hZCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHtcbiAgICAgICAgcmVmOiB0aGlzLnNhdmVVcGxvYWRlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVXBsb2FkO1xufShDb21wb25lbnQpO1xuX2RlZmluZVByb3BlcnR5KFVwbG9hZCwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjb21wb25lbnQ6ICdzcGFuJyxcbiAgcHJlZml4Q2xzOiAncmMtdXBsb2FkJyxcbiAgZGF0YToge30sXG4gIGhlYWRlcnM6IHt9LFxuICBuYW1lOiAnZmlsZScsXG4gIG11bHRpcGFydDogZmFsc2UsXG4gIG9uU3RhcnQ6IGVtcHR5LFxuICBvbkVycm9yOiBlbXB0eSxcbiAgb25TdWNjZXNzOiBlbXB0eSxcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBiZWZvcmVVcGxvYWQ6IG51bGwsXG4gIGN1c3RvbVJlcXVlc3Q6IG51bGwsXG4gIHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gIG9wZW5GaWxlRGlhbG9nT25DbGljazogdHJ1ZSxcbiAgaGFzQ29udHJvbEluc2lkZTogZmFsc2Vcbn0pO1xuZXhwb3J0IGRlZmF1bHQgVXBsb2FkOyIsImltcG9ydCBVcGxvYWQgZnJvbSBcIi4vVXBsb2FkXCI7XG5leHBvcnQgZGVmYXVsdCBVcGxvYWQ7IiwiaW1wb3J0IHsgdW5pdCB9IGZyb20gJ0BhbnQtZGVzaWduL2Nzc2luanMnO1xuY29uc3QgZ2VuRHJhZ2dlclN0eWxlID0gdG9rZW4gPT4ge1xuICBjb25zdCB7XG4gICAgY29tcG9uZW50Q2xzLFxuICAgIGljb25DbHNcbiAgfSA9IHRva2VuO1xuICByZXR1cm4ge1xuICAgIFtgJHtjb21wb25lbnRDbHN9LXdyYXBwZXJgXToge1xuICAgICAgW2Ake2NvbXBvbmVudENsc30tZHJhZ2BdOiB7XG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgYmFja2dyb3VuZDogdG9rZW4uY29sb3JGaWxsQWx0ZXIsXG4gICAgICAgIGJvcmRlcjogYCR7dW5pdCh0b2tlbi5saW5lV2lkdGgpfSBkYXNoZWQgJHt0b2tlbi5jb2xvckJvcmRlcn1gLFxuICAgICAgICBib3JkZXJSYWRpdXM6IHRva2VuLmJvcmRlclJhZGl1c0xHLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgdHJhbnNpdGlvbjogYGJvcmRlci1jb2xvciAke3Rva2VuLm1vdGlvbkR1cmF0aW9uU2xvd31gLFxuICAgICAgICBbY29tcG9uZW50Q2xzXToge1xuICAgICAgICAgIHBhZGRpbmc6IHRva2VuLnBhZGRpbmdcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2NvbXBvbmVudENsc30tYnRuYF06IHtcbiAgICAgICAgICBkaXNwbGF5OiAndGFibGUnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogdG9rZW4uYm9yZGVyUmFkaXVzTEcsXG4gICAgICAgICAgJyY6Zm9jdXMtdmlzaWJsZSc6IHtcbiAgICAgICAgICAgIG91dGxpbmU6IGAke3VuaXQodG9rZW4ubGluZVdpZHRoRm9jdXMpfSBzb2xpZCAke3Rva2VuLmNvbG9yUHJpbWFyeUJvcmRlcn1gXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbYCR7Y29tcG9uZW50Q2xzfS1kcmFnLWNvbnRhaW5lcmBdOiB7XG4gICAgICAgICAgZGlzcGxheTogJ3RhYmxlLWNlbGwnLFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnXG4gICAgICAgIH0sXG4gICAgICAgIFtgXG4gICAgICAgICAgJjpub3QoJHtjb21wb25lbnRDbHN9LWRpc2FibGVkKTpob3ZlcixcbiAgICAgICAgICAmLWhvdmVyOm5vdCgke2NvbXBvbmVudENsc30tZGlzYWJsZWQpXG4gICAgICAgIGBdOiB7XG4gICAgICAgICAgYm9yZGVyQ29sb3I6IHRva2VuLmNvbG9yUHJpbWFyeUhvdmVyXG4gICAgICAgIH0sXG4gICAgICAgIFtgcCR7Y29tcG9uZW50Q2xzfS1kcmFnLWljb25gXToge1xuICAgICAgICAgIG1hcmdpbkJvdHRvbTogdG9rZW4ubWFyZ2luLFxuICAgICAgICAgIFtpY29uQ2xzXToge1xuICAgICAgICAgICAgY29sb3I6IHRva2VuLmNvbG9yUHJpbWFyeSxcbiAgICAgICAgICAgIGZvbnRTaXplOiB0b2tlbi51cGxvYWRUaHVtYm5haWxTaXplXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbYHAke2NvbXBvbmVudENsc30tdGV4dGBdOiB7XG4gICAgICAgICAgbWFyZ2luOiBgMCAwICR7dW5pdCh0b2tlbi5tYXJnaW5YWFMpfWAsXG4gICAgICAgICAgY29sb3I6IHRva2VuLmNvbG9yVGV4dEhlYWRpbmcsXG4gICAgICAgICAgZm9udFNpemU6IHRva2VuLmZvbnRTaXplTEdcbiAgICAgICAgfSxcbiAgICAgICAgW2BwJHtjb21wb25lbnRDbHN9LWhpbnRgXToge1xuICAgICAgICAgIGNvbG9yOiB0b2tlbi5jb2xvclRleHREZXNjcmlwdGlvbixcbiAgICAgICAgICBmb250U2l6ZTogdG9rZW4uZm9udFNpemVcbiAgICAgICAgfSxcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09IERpc2FibGVkID09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBbYCYke2NvbXBvbmVudENsc30tZGlzYWJsZWRgXToge1xuICAgICAgICAgIFtgcCR7Y29tcG9uZW50Q2xzfS1kcmFnLWljb24gJHtpY29uQ2xzfSxcbiAgICAgICAgICAgIHAke2NvbXBvbmVudENsc30tdGV4dCxcbiAgICAgICAgICAgIHAke2NvbXBvbmVudENsc30taGludFxuICAgICAgICAgIGBdOiB7XG4gICAgICAgICAgICBjb2xvcjogdG9rZW4uY29sb3JUZXh0RGlzYWJsZWRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZ2VuRHJhZ2dlclN0eWxlOyIsImltcG9ydCB7IHVuaXQgfSBmcm9tICdAYW50LWRlc2lnbi9jc3NpbmpzJztcbmltcG9ydCB7IGNsZWFyRml4LCB0ZXh0RWxsaXBzaXMgfSBmcm9tICcuLi8uLi9zdHlsZSc7XG5jb25zdCBnZW5MaXN0U3R5bGUgPSB0b2tlbiA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb21wb25lbnRDbHMsXG4gICAgaWNvbkNscyxcbiAgICBmb250U2l6ZSxcbiAgICBsaW5lSGVpZ2h0LFxuICAgIGNhbGNcbiAgfSA9IHRva2VuO1xuICBjb25zdCBpdGVtQ2xzID0gYCR7Y29tcG9uZW50Q2xzfS1saXN0LWl0ZW1gO1xuICBjb25zdCBhY3Rpb25zQ2xzID0gYCR7aXRlbUNsc30tYWN0aW9uc2A7XG4gIGNvbnN0IGFjdGlvbkNscyA9IGAke2l0ZW1DbHN9LWFjdGlvbmA7XG4gIHJldHVybiB7XG4gICAgW2Ake2NvbXBvbmVudENsc30td3JhcHBlcmBdOiB7XG4gICAgICBbYCR7Y29tcG9uZW50Q2xzfS1saXN0YF06IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY2xlYXJGaXgoKSksIHtcbiAgICAgICAgbGluZUhlaWdodDogdG9rZW4ubGluZUhlaWdodCxcbiAgICAgICAgW2l0ZW1DbHNdOiB7XG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKHRva2VuLmxpbmVIZWlnaHQpLm11bChmb250U2l6ZSkuZXF1YWwoKSxcbiAgICAgICAgICBtYXJnaW5Ub3A6IHRva2VuLm1hcmdpblhTLFxuICAgICAgICAgIGZvbnRTaXplLFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiBgYmFja2dyb3VuZC1jb2xvciAke3Rva2VuLm1vdGlvbkR1cmF0aW9uU2xvd31gLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogdG9rZW4uYm9yZGVyUmFkaXVzU00sXG4gICAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRva2VuLmNvbnRyb2xJdGVtQmdIb3ZlclxuICAgICAgICAgIH0sXG4gICAgICAgICAgW2Ake2l0ZW1DbHN9LW5hbWVgXTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0ZXh0RWxsaXBzaXMpLCB7XG4gICAgICAgICAgICBwYWRkaW5nOiBgMCAke3VuaXQodG9rZW4ucGFkZGluZ1hTKX1gLFxuICAgICAgICAgICAgbGluZUhlaWdodCxcbiAgICAgICAgICAgIGZsZXg6ICdhdXRvJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGBhbGwgJHt0b2tlbi5tb3Rpb25EdXJhdGlvblNsb3d9YFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIFthY3Rpb25zQ2xzXToge1xuICAgICAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICAgICAgICBbYWN0aW9uQ2xzXToge1xuICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW2ljb25DbHNdOiB7XG4gICAgICAgICAgICAgIGNvbG9yOiB0b2tlbi5hY3Rpb25zQ29sb3IsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246IGBhbGwgJHt0b2tlbi5tb3Rpb25EdXJhdGlvblNsb3d9YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtgXG4gICAgICAgICAgICAgICR7YWN0aW9uQ2xzfTpmb2N1cy12aXNpYmxlLFxuICAgICAgICAgICAgICAmLnBpY3R1cmUgJHthY3Rpb25DbHN9XG4gICAgICAgICAgICBgXToge1xuICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbYCR7Y29tcG9uZW50Q2xzfS1pY29uICR7aWNvbkNsc31gXToge1xuICAgICAgICAgICAgY29sb3I6IHRva2VuLmNvbG9yVGV4dERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgZm9udFNpemVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtgJHtpdGVtQ2xzfS1wcm9ncmVzc2BdOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGJvdHRvbTogdG9rZW4uY2FsYyh0b2tlbi51cGxvYWRQcm9ncmVzc09mZnNldCkubXVsKC0xKS5lcXVhbCgpLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIHBhZGRpbmdJbmxpbmVTdGFydDogY2FsYyhmb250U2l6ZSkuYWRkKHRva2VuLnBhZGRpbmdYUykuZXF1YWwoKSxcbiAgICAgICAgICAgIGZvbnRTaXplLFxuICAgICAgICAgICAgbGluZUhlaWdodDogMCxcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICAgICc+IGRpdic6IHtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbYCR7aXRlbUNsc306aG92ZXIgJHthY3Rpb25DbHN9YF06IHtcbiAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtpdGVtQ2xzfS1lcnJvcmBdOiB7XG4gICAgICAgICAgY29sb3I6IHRva2VuLmNvbG9yRXJyb3IsXG4gICAgICAgICAgW2Ake2l0ZW1DbHN9LW5hbWUsICR7Y29tcG9uZW50Q2xzfS1pY29uICR7aWNvbkNsc31gXToge1xuICAgICAgICAgICAgY29sb3I6IHRva2VuLmNvbG9yRXJyb3JcbiAgICAgICAgICB9LFxuICAgICAgICAgIFthY3Rpb25zQ2xzXToge1xuICAgICAgICAgICAgW2Ake2ljb25DbHN9LCAke2ljb25DbHN9OmhvdmVyYF06IHtcbiAgICAgICAgICAgICAgY29sb3I6IHRva2VuLmNvbG9yRXJyb3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbYWN0aW9uQ2xzXToge1xuICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbYCR7Y29tcG9uZW50Q2xzfS1saXN0LWl0ZW0tY29udGFpbmVyYF06IHtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBgb3BhY2l0eSAke3Rva2VuLm1vdGlvbkR1cmF0aW9uU2xvd30sIGhlaWdodCAke3Rva2VuLm1vdGlvbkR1cmF0aW9uU2xvd31gLFxuICAgICAgICAgIC8vIEZvciBzbW9vdGggcmVtb3ZpbmcgYW5pbWF0aW9uXG4gICAgICAgICAgJyY6OmJlZm9yZSc6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICd0YWJsZScsXG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdcIlwiJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZ2VuTGlzdFN0eWxlOyIsImltcG9ydCB7IEtleWZyYW1lcyB9IGZyb20gJ0BhbnQtZGVzaWduL2Nzc2luanMnO1xuaW1wb3J0IHsgaW5pdEZhZGVNb3Rpb24gfSBmcm9tICcuLi8uLi9zdHlsZS9tb3Rpb24nO1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09IE1vdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNvbnN0IGdlbk1vdGlvblN0eWxlID0gdG9rZW4gPT4ge1xuICBjb25zdCB7XG4gICAgY29tcG9uZW50Q2xzXG4gIH0gPSB0b2tlbjtcbiAgY29uc3QgdXBsb2FkQW5pbWF0ZUlubGluZUluID0gbmV3IEtleWZyYW1lcygndXBsb2FkQW5pbWF0ZUlubGluZUluJywge1xuICAgIGZyb206IHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBtYXJnaW46IHRva2VuLmNhbGModG9rZW4ubWFyZ2luWFMpLmRpdigtMikuZXF1YWwoKVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHVwbG9hZEFuaW1hdGVJbmxpbmVPdXQgPSBuZXcgS2V5ZnJhbWVzKCd1cGxvYWRBbmltYXRlSW5saW5lT3V0Jywge1xuICAgIHRvOiB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgbWFyZ2luOiB0b2tlbi5jYWxjKHRva2VuLm1hcmdpblhTKS5kaXYoLTIpLmVxdWFsKClcbiAgICB9XG4gIH0pO1xuICBjb25zdCBpbmxpbmVDbHMgPSBgJHtjb21wb25lbnRDbHN9LWFuaW1hdGUtaW5saW5lYDtcbiAgcmV0dXJuIFt7XG4gICAgW2Ake2NvbXBvbmVudENsc30td3JhcHBlcmBdOiB7XG4gICAgICBbYCR7aW5saW5lQ2xzfS1hcHBlYXIsICR7aW5saW5lQ2xzfS1lbnRlciwgJHtpbmxpbmVDbHN9LWxlYXZlYF06IHtcbiAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IHRva2VuLm1vdGlvbkR1cmF0aW9uU2xvdyxcbiAgICAgICAgYW5pbWF0aW9uVGltaW5nRnVuY3Rpb246IHRva2VuLm1vdGlvbkVhc2VJbk91dENpcmMsXG4gICAgICAgIGFuaW1hdGlvbkZpbGxNb2RlOiAnZm9yd2FyZHMnXG4gICAgICB9LFxuICAgICAgW2Ake2lubGluZUNsc30tYXBwZWFyLCAke2lubGluZUNsc30tZW50ZXJgXToge1xuICAgICAgICBhbmltYXRpb25OYW1lOiB1cGxvYWRBbmltYXRlSW5saW5lSW5cbiAgICAgIH0sXG4gICAgICBbYCR7aW5saW5lQ2xzfS1sZWF2ZWBdOiB7XG4gICAgICAgIGFuaW1hdGlvbk5hbWU6IHVwbG9hZEFuaW1hdGVJbmxpbmVPdXRcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBbYCR7Y29tcG9uZW50Q2xzfS13cmFwcGVyYF06IGluaXRGYWRlTW90aW9uKHRva2VuKVxuICB9LCB1cGxvYWRBbmltYXRlSW5saW5lSW4sIHVwbG9hZEFuaW1hdGVJbmxpbmVPdXRdO1xufTtcbmV4cG9ydCBkZWZhdWx0IGdlbk1vdGlvblN0eWxlOyIsImltcG9ydCB7IGJsdWUgfSBmcm9tICdAYW50LWRlc2lnbi9jb2xvcnMnO1xuaW1wb3J0IHsgdW5pdCB9IGZyb20gJ0BhbnQtZGVzaWduL2Nzc2luanMnO1xuaW1wb3J0IHsgY2xlYXJGaXgsIHRleHRFbGxpcHNpcyB9IGZyb20gJy4uLy4uL3N0eWxlJztcbmNvbnN0IGdlblBpY3R1cmVTdHlsZSA9IHRva2VuID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbXBvbmVudENscyxcbiAgICBpY29uQ2xzLFxuICAgIHVwbG9hZFRodW1ibmFpbFNpemUsXG4gICAgdXBsb2FkUHJvZ3Jlc3NPZmZzZXQsXG4gICAgY2FsY1xuICB9ID0gdG9rZW47XG4gIGNvbnN0IGxpc3RDbHMgPSBgJHtjb21wb25lbnRDbHN9LWxpc3RgO1xuICBjb25zdCBpdGVtQ2xzID0gYCR7bGlzdENsc30taXRlbWA7XG4gIHJldHVybiB7XG4gICAgW2Ake2NvbXBvbmVudENsc30td3JhcHBlcmBdOiB7XG4gICAgICAvLyAke2xpc3RDbHN9IOWinuWKoOS8mOWFiOe6p1xuICAgICAgW2BcbiAgICAgICAgJHtsaXN0Q2xzfSR7bGlzdENsc30tcGljdHVyZSxcbiAgICAgICAgJHtsaXN0Q2xzfSR7bGlzdENsc30tcGljdHVyZS1jYXJkLFxuICAgICAgICAke2xpc3RDbHN9JHtsaXN0Q2xzfS1waWN0dXJlLWNpcmNsZVxuICAgICAgYF06IHtcbiAgICAgICAgW2l0ZW1DbHNdOiB7XG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKHVwbG9hZFRodW1ibmFpbFNpemUpLmFkZChjYWxjKHRva2VuLmxpbmVXaWR0aCkubXVsKDIpKS5hZGQoY2FsYyh0b2tlbi5wYWRkaW5nWFMpLm11bCgyKSkuZXF1YWwoKSxcbiAgICAgICAgICBwYWRkaW5nOiB0b2tlbi5wYWRkaW5nWFMsXG4gICAgICAgICAgYm9yZGVyOiBgJHt1bml0KHRva2VuLmxpbmVXaWR0aCl9ICR7dG9rZW4ubGluZVR5cGV9ICR7dG9rZW4uY29sb3JCb3JkZXJ9YCxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IHRva2VuLmJvcmRlclJhZGl1c0xHLFxuICAgICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW2Ake2l0ZW1DbHN9LXRodW1ibmFpbGBdOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRleHRFbGxpcHNpcyksIHtcbiAgICAgICAgICAgIHdpZHRoOiB1cGxvYWRUaHVtYm5haWxTaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiB1cGxvYWRUaHVtYm5haWxTaXplLFxuICAgICAgICAgICAgbGluZUhlaWdodDogdW5pdChjYWxjKHVwbG9hZFRodW1ibmFpbFNpemUpLmFkZCh0b2tlbi5wYWRkaW5nU00pLmVxdWFsKCkpLFxuICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZsZXg6ICdub25lJyxcbiAgICAgICAgICAgIFtpY29uQ2xzXToge1xuICAgICAgICAgICAgICBmb250U2l6ZTogdG9rZW4uZm9udFNpemVIZWFkaW5nMixcbiAgICAgICAgICAgICAgY29sb3I6IHRva2VuLmNvbG9yUHJpbWFyeVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltZzoge1xuICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICAgICAgW2Ake2l0ZW1DbHN9LXByb2dyZXNzYF06IHtcbiAgICAgICAgICAgIGJvdHRvbTogdXBsb2FkUHJvZ3Jlc3NPZmZzZXQsXG4gICAgICAgICAgICB3aWR0aDogYGNhbGMoMTAwJSAtICR7dW5pdChjYWxjKHRva2VuLnBhZGRpbmdTTSkubXVsKDIpLmVxdWFsKCkpfSlgLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiAwLFxuICAgICAgICAgICAgcGFkZGluZ0lubGluZVN0YXJ0OiBjYWxjKHVwbG9hZFRodW1ibmFpbFNpemUpLmFkZCh0b2tlbi5wYWRkaW5nWFMpLmVxdWFsKClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtpdGVtQ2xzfS1lcnJvcmBdOiB7XG4gICAgICAgICAgYm9yZGVyQ29sb3I6IHRva2VuLmNvbG9yRXJyb3IsXG4gICAgICAgICAgLy8gQWRqdXN0IHRoZSBjb2xvciBvZiB0aGUgZXJyb3IgaWNvbiA6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vcHVsbC8yNDE2MFxuICAgICAgICAgIFtgJHtpdGVtQ2xzfS10aHVtYm5haWwgJHtpY29uQ2xzfWBdOiB7XG4gICAgICAgICAgICBbYHN2ZyBwYXRoW2ZpbGw9JyR7Ymx1ZVswXX0nXWBdOiB7XG4gICAgICAgICAgICAgIGZpbGw6IHRva2VuLmNvbG9yRXJyb3JCZ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtgc3ZnIHBhdGhbZmlsbD0nJHtibHVlLnByaW1hcnl9J11gXToge1xuICAgICAgICAgICAgICBmaWxsOiB0b2tlbi5jb2xvckVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbYCR7aXRlbUNsc30tdXBsb2FkaW5nYF06IHtcbiAgICAgICAgICBib3JkZXJTdHlsZTogJ2Rhc2hlZCcsXG4gICAgICAgICAgW2Ake2l0ZW1DbHN9LW5hbWVgXToge1xuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiB1cGxvYWRQcm9ncmVzc09mZnNldFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtgJHtsaXN0Q2xzfSR7bGlzdENsc30tcGljdHVyZS1jaXJjbGUgJHtpdGVtQ2xzfWBdOiB7XG4gICAgICAgIFtgJiwgJjo6YmVmb3JlLCAke2l0ZW1DbHN9LXRodW1ibmFpbGBdOiB7XG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IGdlblBpY3R1cmVDYXJkU3R5bGUgPSB0b2tlbiA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb21wb25lbnRDbHMsXG4gICAgaWNvbkNscyxcbiAgICBmb250U2l6ZUxHLFxuICAgIGNvbG9yVGV4dExpZ2h0U29saWQsXG4gICAgY2FsY1xuICB9ID0gdG9rZW47XG4gIGNvbnN0IGxpc3RDbHMgPSBgJHtjb21wb25lbnRDbHN9LWxpc3RgO1xuICBjb25zdCBpdGVtQ2xzID0gYCR7bGlzdENsc30taXRlbWA7XG4gIGNvbnN0IHVwbG9hZFBpY3R1cmVDYXJkU2l6ZSA9IHRva2VuLnVwbG9hZFBpY0NhcmRTaXplO1xuICByZXR1cm4ge1xuICAgIFtgXG4gICAgICAke2NvbXBvbmVudENsc30td3JhcHBlciR7Y29tcG9uZW50Q2xzfS1waWN0dXJlLWNhcmQtd3JhcHBlcixcbiAgICAgICR7Y29tcG9uZW50Q2xzfS13cmFwcGVyJHtjb21wb25lbnRDbHN9LXBpY3R1cmUtY2lyY2xlLXdyYXBwZXJcbiAgICBgXTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjbGVhckZpeCgpKSwge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIFtgJHtjb21wb25lbnRDbHN9JHtjb21wb25lbnRDbHN9LXNlbGVjdGBdOiB7XG4gICAgICAgIHdpZHRoOiB1cGxvYWRQaWN0dXJlQ2FyZFNpemUsXG4gICAgICAgIGhlaWdodDogdXBsb2FkUGljdHVyZUNhcmRTaXplLFxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b2tlbi5jb2xvckZpbGxBbHRlcixcbiAgICAgICAgYm9yZGVyOiBgJHt1bml0KHRva2VuLmxpbmVXaWR0aCl9IGRhc2hlZCAke3Rva2VuLmNvbG9yQm9yZGVyfWAsXG4gICAgICAgIGJvcmRlclJhZGl1czogdG9rZW4uYm9yZGVyUmFkaXVzTEcsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICB0cmFuc2l0aW9uOiBgYm9yZGVyLWNvbG9yICR7dG9rZW4ubW90aW9uRHVyYXRpb25TbG93fWAsXG4gICAgICAgIFtgPiAke2NvbXBvbmVudENsc31gXToge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgICAgICB9LFxuICAgICAgICBbYCY6bm90KCR7Y29tcG9uZW50Q2xzfS1kaXNhYmxlZCk6aG92ZXJgXToge1xuICAgICAgICAgIGJvcmRlckNvbG9yOiB0b2tlbi5jb2xvclByaW1hcnlcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIGxpc3RcbiAgICAgIFtgJHtsaXN0Q2xzfSR7bGlzdENsc30tcGljdHVyZS1jYXJkLCAke2xpc3RDbHN9JHtsaXN0Q2xzfS1waWN0dXJlLWNpcmNsZWBdOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleFdyYXA6ICd3cmFwJyxcbiAgICAgICAgJ0BzdXBwb3J0cyBub3QgKGdhcDogMXB4KSc6IHtcbiAgICAgICAgICAnJiA+IConOiB7XG4gICAgICAgICAgICBtYXJnaW5CbG9ja0VuZDogdG9rZW4ubWFyZ2luWFMsXG4gICAgICAgICAgICBtYXJnaW5JbmxpbmVFbmQ6IHRva2VuLm1hcmdpblhTXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnQHN1cHBvcnRzIChnYXA6IDFweCknOiB7XG4gICAgICAgICAgZ2FwOiB0b2tlbi5tYXJnaW5YU1xuICAgICAgICB9LFxuICAgICAgICBbYCR7bGlzdENsc30taXRlbS1jb250YWluZXJgXToge1xuICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgIHdpZHRoOiB1cGxvYWRQaWN0dXJlQ2FyZFNpemUsXG4gICAgICAgICAgaGVpZ2h0OiB1cGxvYWRQaWN0dXJlQ2FyZFNpemUsXG4gICAgICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCdcbiAgICAgICAgfSxcbiAgICAgICAgJyY6OmFmdGVyJzoge1xuICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICB9LFxuICAgICAgICAnJjo6YmVmb3JlJzoge1xuICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICB9LFxuICAgICAgICBbaXRlbUNsc106IHtcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgJyY6OmJlZm9yZSc6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgICAgd2lkdGg6IGBjYWxjKDEwMCUgLSAke3VuaXQoY2FsYyh0b2tlbi5wYWRkaW5nWFMpLm11bCgyKS5lcXVhbCgpKX0pYCxcbiAgICAgICAgICAgIGhlaWdodDogYGNhbGMoMTAwJSAtICR7dW5pdChjYWxjKHRva2VuLnBhZGRpbmdYUykubXVsKDIpLmVxdWFsKCkpfSlgLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b2tlbi5jb2xvckJnTWFzayxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBgYWxsICR7dG9rZW4ubW90aW9uRHVyYXRpb25TbG93fWAsXG4gICAgICAgICAgICBjb250ZW50OiAnXCIgXCInXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbYCR7aXRlbUNsc306aG92ZXJgXToge1xuICAgICAgICAgIFtgJjo6YmVmb3JlLCAke2l0ZW1DbHN9LWFjdGlvbnNgXToge1xuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2l0ZW1DbHN9LWFjdGlvbnNgXToge1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIGluc2V0SW5saW5lU3RhcnQ6IDAsXG4gICAgICAgICAgekluZGV4OiAxMCxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICB0cmFuc2l0aW9uOiBgYWxsICR7dG9rZW4ubW90aW9uRHVyYXRpb25TbG93fWAsXG4gICAgICAgICAgW2BcbiAgICAgICAgICAgICR7aWNvbkNsc30tZXllLFxuICAgICAgICAgICAgJHtpY29uQ2xzfS1kb3dubG9hZCxcbiAgICAgICAgICAgICR7aWNvbkNsc30tZGVsZXRlXG4gICAgICAgICAgYF06IHtcbiAgICAgICAgICAgIHpJbmRleDogMTAsXG4gICAgICAgICAgICB3aWR0aDogZm9udFNpemVMRyxcbiAgICAgICAgICAgIG1hcmdpbjogYDAgJHt1bml0KHRva2VuLm1hcmdpblhYUyl9YCxcbiAgICAgICAgICAgIGZvbnRTaXplOiBmb250U2l6ZUxHLFxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBgYWxsICR7dG9rZW4ubW90aW9uRHVyYXRpb25TbG93fWAsXG4gICAgICAgICAgICBjb2xvcjogY29sb3JUZXh0TGlnaHRTb2xpZCxcbiAgICAgICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgICBjb2xvcjogY29sb3JUZXh0TGlnaHRTb2xpZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN2Zzoge1xuICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnYmFzZWxpbmUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbYCR7aXRlbUNsc30tdGh1bWJuYWlsLCAke2l0ZW1DbHN9LXRodW1ibmFpbCBpbWdgXToge1xuICAgICAgICAgIHBvc2l0aW9uOiAnc3RhdGljJyxcbiAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnY29udGFpbidcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2l0ZW1DbHN9LW5hbWVgXToge1xuICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtpdGVtQ2xzfS1maWxlICsgJHtpdGVtQ2xzfS1uYW1lYF06IHtcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICBib3R0b206IHRva2VuLm1hcmdpbixcbiAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgIHdpZHRoOiBgY2FsYygxMDAlIC0gJHt1bml0KGNhbGModG9rZW4ucGFkZGluZ1hTKS5tdWwoMikuZXF1YWwoKSl9KWBcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2l0ZW1DbHN9LXVwbG9hZGluZ2BdOiB7XG4gICAgICAgICAgW2AmJHtpdGVtQ2xzfWBdOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRva2VuLmNvbG9yRmlsbEFsdGVyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBbYCY6OmJlZm9yZSwgJHtpY29uQ2xzfS1leWUsICR7aWNvbkNsc30tZG93bmxvYWQsICR7aWNvbkNsc30tZGVsZXRlYF06IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2l0ZW1DbHN9LXByb2dyZXNzYF06IHtcbiAgICAgICAgICBib3R0b206IHRva2VuLm1hcmdpblhMLFxuICAgICAgICAgIHdpZHRoOiBgY2FsYygxMDAlIC0gJHt1bml0KGNhbGModG9rZW4ucGFkZGluZ1hTKS5tdWwoMikuZXF1YWwoKSl9KWAsXG4gICAgICAgICAgcGFkZGluZ0lubGluZVN0YXJ0OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBbYCR7Y29tcG9uZW50Q2xzfS13cmFwcGVyJHtjb21wb25lbnRDbHN9LXBpY3R1cmUtY2lyY2xlLXdyYXBwZXJgXToge1xuICAgICAgW2Ake2NvbXBvbmVudENsc30ke2NvbXBvbmVudENsc30tc2VsZWN0YF06IHtcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJ1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgeyBnZW5QaWN0dXJlU3R5bGUsIGdlblBpY3R1cmVDYXJkU3R5bGUgfTsiLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gTW90aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY29uc3QgZ2VuUnRsU3R5bGUgPSB0b2tlbiA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb21wb25lbnRDbHNcbiAgfSA9IHRva2VuO1xuICByZXR1cm4ge1xuICAgIFtgJHtjb21wb25lbnRDbHN9LXJ0bGBdOiB7XG4gICAgICBkaXJlY3Rpb246ICdydGwnXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGdlblJ0bFN0eWxlOyIsImltcG9ydCB7IHJlc2V0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vc3R5bGUnO1xuaW1wb3J0IHsgZ2VuQ29sbGFwc2VNb3Rpb24gfSBmcm9tICcuLi8uLi9zdHlsZS9tb3Rpb24nO1xuaW1wb3J0IHsgZ2VuU3R5bGVIb29rcywgbWVyZ2VUb2tlbiB9IGZyb20gJy4uLy4uL3RoZW1lL2ludGVybmFsJztcbmltcG9ydCBnZW5EcmFnZ2VyU3R5bGUgZnJvbSAnLi9kcmFnZ2VyJztcbmltcG9ydCBnZW5MaXN0U3R5bGUgZnJvbSAnLi9saXN0JztcbmltcG9ydCBnZW5Nb3Rpb25TdHlsZSBmcm9tICcuL21vdGlvbic7XG5pbXBvcnQgeyBnZW5QaWN0dXJlQ2FyZFN0eWxlLCBnZW5QaWN0dXJlU3R5bGUgfSBmcm9tICcuL3BpY3R1cmUnO1xuaW1wb3J0IGdlblJ0bFN0eWxlIGZyb20gJy4vcnRsJztcbmNvbnN0IGdlbkJhc2VTdHlsZSA9IHRva2VuID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbXBvbmVudENscyxcbiAgICBjb2xvclRleHREaXNhYmxlZFxuICB9ID0gdG9rZW47XG4gIHJldHVybiB7XG4gICAgW2Ake2NvbXBvbmVudENsc30td3JhcHBlcmBdOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc2V0Q29tcG9uZW50KHRva2VuKSksIHtcbiAgICAgIFtjb21wb25lbnRDbHNdOiB7XG4gICAgICAgIG91dGxpbmU6IDAsXG4gICAgICAgIFwiaW5wdXRbdHlwZT0nZmlsZSddXCI6IHtcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2Ake2NvbXBvbmVudENsc30tc2VsZWN0YF06IHtcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbiAgICAgIH0sXG4gICAgICBbYCR7Y29tcG9uZW50Q2xzfS1oaWRkZW5gXToge1xuICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgIH0sXG4gICAgICBbYCR7Y29tcG9uZW50Q2xzfS1kaXNhYmxlZGBdOiB7XG4gICAgICAgIGNvbG9yOiBjb2xvclRleHREaXNhYmxlZCxcbiAgICAgICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnXG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn07XG5leHBvcnQgY29uc3QgcHJlcGFyZUNvbXBvbmVudFRva2VuID0gdG9rZW4gPT4gKHtcbiAgYWN0aW9uc0NvbG9yOiB0b2tlbi5jb2xvclRleHREZXNjcmlwdGlvblxufSk7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRXhwb3J0ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGRlZmF1bHQgZ2VuU3R5bGVIb29rcygnVXBsb2FkJywgdG9rZW4gPT4ge1xuICBjb25zdCB7XG4gICAgZm9udFNpemVIZWFkaW5nMyxcbiAgICBmb250SGVpZ2h0LFxuICAgIGxpbmVXaWR0aCxcbiAgICBjb250cm9sSGVpZ2h0TEcsXG4gICAgY2FsY1xuICB9ID0gdG9rZW47XG4gIGNvbnN0IHVwbG9hZFRva2VuID0gbWVyZ2VUb2tlbih0b2tlbiwge1xuICAgIHVwbG9hZFRodW1ibmFpbFNpemU6IGNhbGMoZm9udFNpemVIZWFkaW5nMykubXVsKDIpLmVxdWFsKCksXG4gICAgdXBsb2FkUHJvZ3Jlc3NPZmZzZXQ6IGNhbGMoY2FsYyhmb250SGVpZ2h0KS5kaXYoMikpLmFkZChsaW5lV2lkdGgpLmVxdWFsKCksXG4gICAgdXBsb2FkUGljQ2FyZFNpemU6IGNhbGMoY29udHJvbEhlaWdodExHKS5tdWwoMi41NSkuZXF1YWwoKVxuICB9KTtcbiAgcmV0dXJuIFtnZW5CYXNlU3R5bGUodXBsb2FkVG9rZW4pLCBnZW5EcmFnZ2VyU3R5bGUodXBsb2FkVG9rZW4pLCBnZW5QaWN0dXJlU3R5bGUodXBsb2FkVG9rZW4pLCBnZW5QaWN0dXJlQ2FyZFN0eWxlKHVwbG9hZFRva2VuKSwgZ2VuTGlzdFN0eWxlKHVwbG9hZFRva2VuKSwgZ2VuTW90aW9uU3R5bGUodXBsb2FkVG9rZW4pLCBnZW5SdGxTdHlsZSh1cGxvYWRUb2tlbiksIGdlbkNvbGxhcHNlTW90aW9uKHVwbG9hZFRva2VuKV07XG59LCBwcmVwYXJlQ29tcG9uZW50VG9rZW4pOyIsIi8vIFRoaXMgaWNvbiBmaWxlIGlzIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5LlxudmFyIEZpbGVUd29Ub25lID0geyBcImljb25cIjogZnVuY3Rpb24gcmVuZGVyKHByaW1hcnlDb2xvciwgc2Vjb25kYXJ5Q29sb3IpIHsgcmV0dXJuIHsgXCJ0YWdcIjogXCJzdmdcIiwgXCJhdHRyc1wiOiB7IFwidmlld0JveFwiOiBcIjY0IDY0IDg5NiA4OTZcIiwgXCJmb2N1c2FibGVcIjogXCJmYWxzZVwiIH0sIFwiY2hpbGRyZW5cIjogW3sgXCJ0YWdcIjogXCJwYXRoXCIsIFwiYXR0cnNcIjogeyBcImRcIjogXCJNNTM0IDM1MlYxMzZIMjMydjc1Mmg1NjBWMzk0SDU3NmE0MiA0MiAwIDAxLTQyLTQyelwiLCBcImZpbGxcIjogc2Vjb25kYXJ5Q29sb3IgfSB9LCB7IFwidGFnXCI6IFwicGF0aFwiLCBcImF0dHJzXCI6IHsgXCJkXCI6IFwiTTg1NC42IDI4OC42TDYzOS40IDczLjRjLTYtNi0xNC4xLTkuNC0yMi42LTkuNEgxOTJjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjgzMmMwIDE3LjcgMTQuMyAzMiAzMiAzMmg2NDBjMTcuNyAwIDMyLTE0LjMgMzItMzJWMzExLjNjMC04LjUtMy40LTE2LjctOS40LTIyLjd6TTYwMiAxMzcuOEw3OTAuMiAzMjZINjAyVjEzNy44ek03OTIgODg4SDIzMlYxMzZoMzAydjIxNmE0MiA0MiAwIDAwNDIgNDJoMjE2djQ5NHpcIiwgXCJmaWxsXCI6IHByaW1hcnlDb2xvciB9IH1dIH07IH0sIFwibmFtZVwiOiBcImZpbGVcIiwgXCJ0aGVtZVwiOiBcInR3b3RvbmVcIiB9O1xuZXhwb3J0IGRlZmF1bHQgRmlsZVR3b1RvbmU7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbi8vIEdFTkVSQVRFIEJZIC4vc2NyaXB0cy9nZW5lcmF0ZS50c1xuLy8gRE9OIE5PVCBFRElUIElUIE1BTlVBTExZXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGaWxlVHdvVG9uZVN2ZyBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnMtc3ZnL2VzL2Fzbi9GaWxlVHdvVG9uZVwiO1xuaW1wb3J0IEFudGRJY29uIGZyb20gXCIuLi9jb21wb25lbnRzL0FudGRJY29uXCI7XG52YXIgRmlsZVR3b1RvbmUgPSBmdW5jdGlvbiBGaWxlVHdvVG9uZShwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbnRkSWNvbiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiByZWYsXG4gICAgaWNvbjogRmlsZVR3b1RvbmVTdmdcbiAgfSkpO1xufTtcblxuLyoqIVtmaWxlXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlOVEFpSUdobGFXZG9kRDBpTlRBaUlHWnBiR3c5SWlOallXTmhZMkVpSUhacFpYZENiM2c5SWpZMElEWTBJRGc1TmlBNE9UWWlJR1p2WTNWellXSnNaVDBpWm1Gc2MyVWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SStQSEJoZEdnZ1pEMGlUVFV6TkNBek5USldNVE0yU0RJek1uWTNOVEpvTlRZd1ZqTTVORWcxTnpaaE5ESWdORElnTUNBd01TMDBNaTAwTW5vaUlHWnBiR3c5SWlObE5tWTBabVlpSUM4K1BIQmhkR2dnWkQwaVRUZzFOQzQySURJNE9DNDJURFl6T1M0MElEY3pMalJqTFRZdE5pMHhOQzR4TFRrdU5DMHlNaTQyTFRrdU5FZ3hPVEpqTFRFM0xqY2dNQzB6TWlBeE5DNHpMVE15SURNeWRqZ3pNbU13SURFM0xqY2dNVFF1TXlBek1pQXpNaUF6TW1nMk5EQmpNVGN1TnlBd0lETXlMVEUwTGpNZ016SXRNekpXTXpFeExqTmpNQzA0TGpVdE15NDBMVEUyTGpjdE9TNDBMVEl5TGpkNlRUWXdNaUF4TXpjdU9FdzNPVEF1TWlBek1qWklOakF5VmpFek55NDRlazAzT1RJZ09EZzRTREl6TWxZeE16Wm9NekF5ZGpJeE5tRTBNaUEwTWlBd0lEQXdORElnTkRKb01qRTJkalE1TkhvaUlHWnBiR3c5SWlNeE5qYzNabVlpSUM4K1BDOXpkbWMrKSAqL1xudmFyIFJlZkljb24gPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihGaWxlVHdvVG9uZSk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBSZWZJY29uLmRpc3BsYXlOYW1lID0gJ0ZpbGVUd29Ub25lJztcbn1cbmV4cG9ydCBkZWZhdWx0IFJlZkljb247IiwiLy8gVGhpcyBpY29uIGZpbGUgaXMgZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHkuXG52YXIgUGFwZXJDbGlwT3V0bGluZWQgPSB7IFwiaWNvblwiOiB7IFwidGFnXCI6IFwic3ZnXCIsIFwiYXR0cnNcIjogeyBcInZpZXdCb3hcIjogXCI2NCA2NCA4OTYgODk2XCIsIFwiZm9jdXNhYmxlXCI6IFwiZmFsc2VcIiB9LCBcImNoaWxkcmVuXCI6IFt7IFwidGFnXCI6IFwicGF0aFwiLCBcImF0dHJzXCI6IHsgXCJkXCI6IFwiTTc3OS4zIDE5Ni42Yy05NC4yLTk0LjItMjQ3LjYtOTQuMi0zNDEuNyAwbC0yNjEgMjYwLjhjLTEuNyAxLjctMi42IDQtMi42IDYuNHMuOSA0LjcgMi42IDYuNGwzNi45IDM2LjlhOSA5IDAgMDAxMi43IDBsMjYxLTI2MC44YzMyLjQtMzIuNCA3NS41LTUwLjIgMTIxLjMtNTAuMnM4OC45IDE3LjggMTIxLjIgNTAuMmMzMi40IDMyLjQgNTAuMiA3NS41IDUwLjIgMTIxLjIgMCA0NS44LTE3LjggODguOC01MC4yIDEyMS4ybC0yNjYgMjY1LjktNDMuMSA0My4xYy00MC4zIDQwLjMtMTA1LjggNDAuMy0xNDYuMSAwLTE5LjUtMTkuNS0zMC4yLTQ1LjQtMzAuMi03M3MxMC43LTUzLjUgMzAuMi03M2wyNjMuOS0yNjMuOGM2LjctNi42IDE1LjUtMTAuMyAyNC45LTEwLjNoLjFjOS40IDAgMTguMSAzLjcgMjQuNyAxMC4zIDYuNyA2LjcgMTAuMyAxNS41IDEwLjMgMjQuOSAwIDkuMy0zLjcgMTguMS0xMC4zIDI0LjdMMzcyLjQgNjUzYy0xLjcgMS43LTIuNiA0LTIuNiA2LjRzLjkgNC43IDIuNiA2LjRsMzYuOSAzNi45YTkgOSAwIDAwMTIuNyAwbDIxNS42LTIxNS42YzE5LjktMTkuOSAzMC44LTQ2LjMgMzAuOC03NC40cy0xMS01NC42LTMwLjgtNzQuNGMtNDEuMS00MS4xLTEwNy45LTQxLTE0OSAwTDQ2MyAzNjQgMjI0LjggNjAyLjFBMTcyLjIyIDE3Mi4yMiAwIDAwMTc0IDcyNC44YzAgNDYuMyAxOC4xIDg5LjggNTAuOCAxMjIuNSAzMy45IDMzLjggNzguMyA1MC43IDEyMi43IDUwLjcgNDQuNCAwIDg4LjgtMTYuOSAxMjIuNi01MC43bDMwOS4yLTMwOUM4MjQuOCA0OTIuNyA4NTAgNDMyIDg1MCAzNjcuNWMuMS02NC42LTI1LjEtMTI1LjMtNzAuNy0xNzAuOXpcIiB9IH1dIH0sIFwibmFtZVwiOiBcInBhcGVyLWNsaXBcIiwgXCJ0aGVtZVwiOiBcIm91dGxpbmVkXCIgfTtcbmV4cG9ydCBkZWZhdWx0IFBhcGVyQ2xpcE91dGxpbmVkO1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG4vLyBHRU5FUkFURSBCWSAuL3NjcmlwdHMvZ2VuZXJhdGUudHNcbi8vIERPTiBOT1QgRURJVCBJVCBNQU5VQUxMWVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFwZXJDbGlwT3V0bGluZWRTdmcgZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zLXN2Zy9lcy9hc24vUGFwZXJDbGlwT3V0bGluZWRcIjtcbmltcG9ydCBBbnRkSWNvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9BbnRkSWNvblwiO1xudmFyIFBhcGVyQ2xpcE91dGxpbmVkID0gZnVuY3Rpb24gUGFwZXJDbGlwT3V0bGluZWQocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQW50ZEljb24sIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIHJlZjogcmVmLFxuICAgIGljb246IFBhcGVyQ2xpcE91dGxpbmVkU3ZnXG4gIH0pKTtcbn07XG5cbi8qKiFbcGFwZXItY2xpcF0oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTlRBaUlHaGxhV2RvZEQwaU5UQWlJR1pwYkd3OUlpTmpZV05oWTJFaUlIWnBaWGRDYjNnOUlqWTBJRFkwSURnNU5pQTRPVFlpSUdadlkzVnpZV0pzWlQwaVptRnNjMlVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUkrUEhCaGRHZ2daRDBpVFRjM09TNHpJREU1Tmk0Mll5MDVOQzR5TFRrMExqSXRNalEzTGpZdE9UUXVNaTB6TkRFdU55QXdiQzB5TmpFZ01qWXdMamhqTFRFdU55QXhMamN0TWk0MklEUXRNaTQySURZdU5ITXVPU0EwTGpjZ01pNDJJRFl1Tkd3ek5pNDVJRE0yTGpsaE9TQTVJREFnTURBeE1pNDNJREJzTWpZeExUSTJNQzQ0WXpNeUxqUXRNekl1TkNBM05TNDFMVFV3TGpJZ01USXhMak10TlRBdU1uTTRPQzQ1SURFM0xqZ2dNVEl4TGpJZ05UQXVNbU16TWk0MElETXlMalFnTlRBdU1pQTNOUzQxSURVd0xqSWdNVEl4TGpJZ01DQTBOUzQ0TFRFM0xqZ2dPRGd1T0MwMU1DNHlJREV5TVM0eWJDMHlOallnTWpZMUxqa3RORE11TVNBME15NHhZeTAwTUM0eklEUXdMak10TVRBMUxqZ2dOREF1TXkweE5EWXVNU0F3TFRFNUxqVXRNVGt1TlMwek1DNHlMVFExTGpRdE16QXVNaTAzTTNNeE1DNDNMVFV6TGpVZ016QXVNaTAzTTJ3eU5qTXVPUzB5TmpNdU9HTTJMamN0Tmk0MklERTFMalV0TVRBdU15QXlOQzQ1TFRFd0xqTm9MakZqT1M0MElEQWdNVGd1TVNBekxqY2dNalF1TnlBeE1DNHpJRFl1TnlBMkxqY2dNVEF1TXlBeE5TNDFJREV3TGpNZ01qUXVPU0F3SURrdU15MHpMamNnTVRndU1TMHhNQzR6SURJMExqZE1NemN5TGpRZ05qVXpZeTB4TGpjZ01TNDNMVEl1TmlBMExUSXVOaUEyTGpSekxqa2dOQzQzSURJdU5pQTJMalJzTXpZdU9TQXpOaTQ1WVRrZ09TQXdJREF3TVRJdU55QXdiREl4TlM0MkxUSXhOUzQyWXpFNUxqa3RNVGt1T1NBek1DNDRMVFEyTGpNZ016QXVPQzAzTkM0MGN5MHhNUzAxTkM0MkxUTXdMamd0TnpRdU5HTXROREV1TVMwME1TNHhMVEV3Tnk0NUxUUXhMVEUwT1NBd1REUTJNeUF6TmpRZ01qSTBMamdnTmpBeUxqRkJNVGN5TGpJeUlERTNNaTR5TWlBd0lEQXdNVGMwSURjeU5DNDRZekFnTkRZdU15QXhPQzR4SURnNUxqZ2dOVEF1T0NBeE1qSXVOU0F6TXk0NUlETXpMamdnTnpndU15QTFNQzQzSURFeU1pNDNJRFV3TGpjZ05EUXVOQ0F3SURnNExqZ3RNVFl1T1NBeE1qSXVOaTAxTUM0M2JETXdPUzR5TFRNd09VTTRNalF1T0NBME9USXVOeUE0TlRBZ05ETXlJRGcxTUNBek5qY3VOV011TVMwMk5DNDJMVEkxTGpFdE1USTFMak10TnpBdU55MHhOekF1T1hvaUlDOCtQQzl6ZG1jKykgKi9cbnZhciBSZWZJY29uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoUGFwZXJDbGlwT3V0bGluZWQpO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgUmVmSWNvbi5kaXNwbGF5TmFtZSA9ICdQYXBlckNsaXBPdXRsaW5lZCc7XG59XG5leHBvcnQgZGVmYXVsdCBSZWZJY29uOyIsIi8vIFRoaXMgaWNvbiBmaWxlIGlzIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5LlxudmFyIFBpY3R1cmVUd29Ub25lID0geyBcImljb25cIjogZnVuY3Rpb24gcmVuZGVyKHByaW1hcnlDb2xvciwgc2Vjb25kYXJ5Q29sb3IpIHsgcmV0dXJuIHsgXCJ0YWdcIjogXCJzdmdcIiwgXCJhdHRyc1wiOiB7IFwidmlld0JveFwiOiBcIjY0IDY0IDg5NiA4OTZcIiwgXCJmb2N1c2FibGVcIjogXCJmYWxzZVwiIH0sIFwiY2hpbGRyZW5cIjogW3sgXCJ0YWdcIjogXCJwYXRoXCIsIFwiYXR0cnNcIjogeyBcImRcIjogXCJNOTI4IDE2MEg5NmMtMTcuNyAwLTMyIDE0LjMtMzIgMzJ2NjQwYzAgMTcuNyAxNC4zIDMyIDMyIDMyaDgzMmMxNy43IDAgMzItMTQuMyAzMi0zMlYxOTJjMC0xNy43LTE0LjMtMzItMzItMzJ6bS00MCA2MzJIMTM2di0zOS45bDEzOC41LTE2NC4zIDE1MC4xIDE3OEw2NTguMSA0ODkgODg4IDc2MS42Vjc5MnptMC0xMjkuOEw2NjQuMiAzOTYuOGMtMy4yLTMuOC05LTMuOC0xMi4yIDBMNDI0LjYgNjY2LjRsLTE0NC0xNzAuN2MtMy4yLTMuOC05LTMuOC0xMi4yIDBMMTM2IDY1Mi43VjIzMmg3NTJ2NDMwLjJ6XCIsIFwiZmlsbFwiOiBwcmltYXJ5Q29sb3IgfSB9LCB7IFwidGFnXCI6IFwicGF0aFwiLCBcImF0dHJzXCI6IHsgXCJkXCI6IFwiTTQyNC42IDc2NS44bC0xNTAuMS0xNzhMMTM2IDc1Mi4xVjc5Mmg3NTJ2LTMwLjRMNjU4LjEgNDg5elwiLCBcImZpbGxcIjogc2Vjb25kYXJ5Q29sb3IgfSB9LCB7IFwidGFnXCI6IFwicGF0aFwiLCBcImF0dHJzXCI6IHsgXCJkXCI6IFwiTTEzNiA2NTIuN2wxMzIuNC0xNTdjMy4yLTMuOCA5LTMuOCAxMi4yIDBsMTQ0IDE3MC43TDY1MiAzOTYuOGMzLjItMy44IDktMy44IDEyLjIgMEw4ODggNjYyLjJWMjMySDEzNnY0MjAuN3pNMzA0IDI4MGE4OCA4OCAwIDExMCAxNzYgODggODggMCAwMTAtMTc2elwiLCBcImZpbGxcIjogc2Vjb25kYXJ5Q29sb3IgfSB9LCB7IFwidGFnXCI6IFwicGF0aFwiLCBcImF0dHJzXCI6IHsgXCJkXCI6IFwiTTI3NiAzNjhhMjggMjggMCAxMDU2IDAgMjggMjggMCAxMC01NiAwelwiLCBcImZpbGxcIjogc2Vjb25kYXJ5Q29sb3IgfSB9LCB7IFwidGFnXCI6IFwicGF0aFwiLCBcImF0dHJzXCI6IHsgXCJkXCI6IFwiTTMwNCA0NTZhODggODggMCAxMDAtMTc2IDg4IDg4IDAgMDAwIDE3NnptMC0xMTZjMTUuNSAwIDI4IDEyLjUgMjggMjhzLTEyLjUgMjgtMjggMjgtMjgtMTIuNS0yOC0yOCAxMi41LTI4IDI4LTI4elwiLCBcImZpbGxcIjogcHJpbWFyeUNvbG9yIH0gfV0gfTsgfSwgXCJuYW1lXCI6IFwicGljdHVyZVwiLCBcInRoZW1lXCI6IFwidHdvdG9uZVwiIH07XG5leHBvcnQgZGVmYXVsdCBQaWN0dXJlVHdvVG9uZTtcbiIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuLy8gR0VORVJBVEUgQlkgLi9zY3JpcHRzL2dlbmVyYXRlLnRzXG4vLyBET04gTk9UIEVESVQgSVQgTUFOVUFMTFlcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBpY3R1cmVUd29Ub25lU3ZnIGZyb20gXCJAYW50LWRlc2lnbi9pY29ucy1zdmcvZXMvYXNuL1BpY3R1cmVUd29Ub25lXCI7XG5pbXBvcnQgQW50ZEljb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvQW50ZEljb25cIjtcbnZhciBQaWN0dXJlVHdvVG9uZSA9IGZ1bmN0aW9uIFBpY3R1cmVUd29Ub25lKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFudGRJY29uLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICByZWY6IHJlZixcbiAgICBpY29uOiBQaWN0dXJlVHdvVG9uZVN2Z1xuICB9KSk7XG59O1xuXG4vKiohW3BpY3R1cmVdKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU5UQWlJR2hsYVdkb2REMGlOVEFpSUdacGJHdzlJaU5qWVdOaFkyRWlJSFpwWlhkQ2IzZzlJalkwSURZMElEZzVOaUE0T1RZaUlHWnZZM1Z6WVdKc1pUMGlabUZzYzJVaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BIQmhkR2dnWkQwaVRUa3lPQ0F4TmpCSU9UWmpMVEUzTGpjZ01DMHpNaUF4TkM0ekxUTXlJRE15ZGpZME1HTXdJREUzTGpjZ01UUXVNeUF6TWlBek1pQXpNbWc0TXpKak1UY3VOeUF3SURNeUxURTBMak1nTXpJdE16SldNVGt5WXpBdE1UY3VOeTB4TkM0ekxUTXlMVE15TFRNeWVtMHROREFnTmpNeVNERXpObll0TXprdU9Xd3hNemd1TlMweE5qUXVNeUF4TlRBdU1TQXhOemhNTmpVNExqRWdORGc1SURnNE9DQTNOakV1TmxZM09USjZiVEF0TVRJNUxqaE1OalkwTGpJZ016azJMamhqTFRNdU1pMHpMamd0T1MwekxqZ3RNVEl1TWlBd1REUXlOQzQySURZMk5pNDBiQzB4TkRRdE1UY3dMamRqTFRNdU1pMHpMamd0T1MwekxqZ3RNVEl1TWlBd1RERXpOaUEyTlRJdU4xWXlNekpvTnpVeWRqUXpNQzR5ZWlJZ1ptbHNiRDBpSXpFMk56ZG1aaUlnTHo0OGNHRjBhQ0JrUFNKTk5ESTBMallnTnpZMUxqaHNMVEUxTUM0eExURTNPRXd4TXpZZ056VXlMakZXTnpreWFEYzFNbll0TXpBdU5FdzJOVGd1TVNBME9EbDZJaUJtYVd4c1BTSWpaVFptTkdabUlpQXZQanh3WVhSb0lHUTlJazB4TXpZZ05qVXlMamRzTVRNeUxqUXRNVFUzWXpNdU1pMHpMamdnT1MwekxqZ2dNVEl1TWlBd2JERTBOQ0F4TnpBdU4wdzJOVElnTXprMkxqaGpNeTR5TFRNdU9DQTVMVE11T0NBeE1pNHlJREJNT0RnNElEWTJNaTR5VmpJek1rZ3hNeloyTkRJd0xqZDZUVE13TkNBeU9EQmhPRGdnT0RnZ01DQXhNVEFnTVRjMklEZzRJRGc0SURBZ01ERXdMVEUzTm5vaUlHWnBiR3c5SWlObE5tWTBabVlpSUM4K1BIQmhkR2dnWkQwaVRUSTNOaUF6TmpoaE1qZ2dNamdnTUNBeE1EVTJJREFnTWpnZ01qZ2dNQ0F4TUMwMU5pQXdlaUlnWm1sc2JEMGlJMlUyWmpSbVppSWdMejQ4Y0dGMGFDQmtQU0pOTXpBMElEUTFObUU0T0NBNE9DQXdJREV3TUMweE56WWdPRGdnT0RnZ01DQXdNREFnTVRjMmVtMHdMVEV4Tm1NeE5TNDFJREFnTWpnZ01USXVOU0F5T0NBeU9ITXRNVEl1TlNBeU9DMHlPQ0F5T0MweU9DMHhNaTQxTFRJNExUSTRJREV5TGpVdE1qZ2dNamd0TWpoNklpQm1hV3hzUFNJak1UWTNOMlptSWlBdlBqd3ZjM1puUGc9PSkgKi9cbnZhciBSZWZJY29uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoUGljdHVyZVR3b1RvbmUpO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgUmVmSWNvbi5kaXNwbGF5TmFtZSA9ICdQaWN0dXJlVHdvVG9uZSc7XG59XG5leHBvcnQgZGVmYXVsdCBSZWZJY29uOyIsImltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5leHBvcnQgZnVuY3Rpb24gZmlsZTJPYmooZmlsZSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBmaWxlKSwge1xuICAgIGxhc3RNb2RpZmllZDogZmlsZS5sYXN0TW9kaWZpZWQsXG4gICAgbGFzdE1vZGlmaWVkRGF0ZTogZmlsZS5sYXN0TW9kaWZpZWREYXRlLFxuICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICBzaXplOiBmaWxlLnNpemUsXG4gICAgdHlwZTogZmlsZS50eXBlLFxuICAgIHVpZDogZmlsZS51aWQsXG4gICAgcGVyY2VudDogMCxcbiAgICBvcmlnaW5GaWxlT2JqOiBmaWxlXG4gIH0pO1xufVxuLyoqIFVwbG9hZCBmaWxlTGlzdC4gUmVwbGFjZSBmaWxlIGlmIGV4aXN0IG9yIGp1c3QgcHVzaCBpbnRvIGl0LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUZpbGVMaXN0KGZpbGUsIGZpbGVMaXN0KSB7XG4gIGNvbnN0IG5leHRGaWxlTGlzdCA9IF90b0NvbnN1bWFibGVBcnJheShmaWxlTGlzdCk7XG4gIGNvbnN0IGZpbGVJbmRleCA9IG5leHRGaWxlTGlzdC5maW5kSW5kZXgoX3JlZiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIHVpZFxuICAgIH0gPSBfcmVmO1xuICAgIHJldHVybiB1aWQgPT09IGZpbGUudWlkO1xuICB9KTtcbiAgaWYgKGZpbGVJbmRleCA9PT0gLTEpIHtcbiAgICBuZXh0RmlsZUxpc3QucHVzaChmaWxlKTtcbiAgfSBlbHNlIHtcbiAgICBuZXh0RmlsZUxpc3RbZmlsZUluZGV4XSA9IGZpbGU7XG4gIH1cbiAgcmV0dXJuIG5leHRGaWxlTGlzdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlSXRlbShmaWxlLCBmaWxlTGlzdCkge1xuICBjb25zdCBtYXRjaEtleSA9IGZpbGUudWlkICE9PSB1bmRlZmluZWQgPyAndWlkJyA6ICduYW1lJztcbiAgcmV0dXJuIGZpbGVMaXN0LmZpbHRlcihpdGVtID0+IGl0ZW1bbWF0Y2hLZXldID09PSBmaWxlW21hdGNoS2V5XSlbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRmlsZUl0ZW0oZmlsZSwgZmlsZUxpc3QpIHtcbiAgY29uc3QgbWF0Y2hLZXkgPSBmaWxlLnVpZCAhPT0gdW5kZWZpbmVkID8gJ3VpZCcgOiAnbmFtZSc7XG4gIGNvbnN0IHJlbW92ZWQgPSBmaWxlTGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtW21hdGNoS2V5XSAhPT0gZmlsZVttYXRjaEtleV0pO1xuICBpZiAocmVtb3ZlZC5sZW5ndGggPT09IGZpbGVMaXN0Lmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiByZW1vdmVkO1xufVxuLy8gPT09PT09PT09PT09PT09PT09PT0gRGVmYXVsdCBJbWFnZSBQcmV2aWV3ID09PT09PT09PT09PT09PT09PT09XG5jb25zdCBleHRuYW1lID0gZnVuY3Rpb24gKCkge1xuICBsZXQgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgY29uc3QgdGVtcCA9IHVybC5zcGxpdCgnLycpO1xuICBjb25zdCBmaWxlbmFtZSA9IHRlbXBbdGVtcC5sZW5ndGggLSAxXTtcbiAgY29uc3QgZmlsZW5hbWVXaXRob3V0U3VmZml4ID0gZmlsZW5hbWUuc3BsaXQoLyN8XFw/LylbMF07XG4gIHJldHVybiAoL1xcLlteLi9cXFxcXSokLy5leGVjKGZpbGVuYW1lV2l0aG91dFN1ZmZpeCkgfHwgWycnXSlbMF07XG59O1xuY29uc3QgaXNJbWFnZUZpbGVUeXBlID0gdHlwZSA9PiB0eXBlLmluZGV4T2YoJ2ltYWdlLycpID09PSAwO1xuZXhwb3J0IGNvbnN0IGlzSW1hZ2VVcmwgPSBmaWxlID0+IHtcbiAgaWYgKGZpbGUudHlwZSAmJiAhZmlsZS50aHVtYlVybCkge1xuICAgIHJldHVybiBpc0ltYWdlRmlsZVR5cGUoZmlsZS50eXBlKTtcbiAgfVxuICBjb25zdCB1cmwgPSBmaWxlLnRodW1iVXJsIHx8IGZpbGUudXJsIHx8ICcnO1xuICBjb25zdCBleHRlbnNpb24gPSBleHRuYW1lKHVybCk7XG4gIGlmICgvXmRhdGE6aW1hZ2VcXC8vLnRlc3QodXJsKSB8fCAvKHdlYnB8c3ZnfHBuZ3xnaWZ8anBnfGpwZWd8amZpZnxibXB8ZHBnfGljb3xoZWljfGhlaWYpJC9pLnRlc3QoZXh0ZW5zaW9uKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICgvXmRhdGE6Ly50ZXN0KHVybCkpIHtcbiAgICAvLyBvdGhlciBmaWxlIHR5cGVzIG9mIGJhc2U2NFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgLy8gb3RoZXIgZmlsZSB0eXBlcyB3aGljaCBoYXZlIGV4dGVuc2lvblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBNRUFTVVJFX1NJWkUgPSAyMDA7XG5leHBvcnQgZnVuY3Rpb24gcHJldmlld0ltYWdlKGZpbGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGlmICghZmlsZS50eXBlIHx8ICFpc0ltYWdlRmlsZVR5cGUoZmlsZS50eXBlKSkge1xuICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IE1FQVNVUkVfU0laRTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gTUVBU1VSRV9TSVpFO1xuICAgIGNhbnZhcy5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMDsgdG9wOiAwOyB3aWR0aDogJHtNRUFTVVJFX1NJWkV9cHg7IGhlaWdodDogJHtNRUFTVVJFX1NJWkV9cHg7IHotaW5kZXg6IDk5OTk7IGRpc3BsYXk6IG5vbmU7YDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgfSA9IGltZztcbiAgICAgIGxldCBkcmF3V2lkdGggPSBNRUFTVVJFX1NJWkU7XG4gICAgICBsZXQgZHJhd0hlaWdodCA9IE1FQVNVUkVfU0laRTtcbiAgICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICAgIGxldCBvZmZzZXRZID0gMDtcbiAgICAgIGlmICh3aWR0aCA+IGhlaWdodCkge1xuICAgICAgICBkcmF3SGVpZ2h0ID0gaGVpZ2h0ICogKE1FQVNVUkVfU0laRSAvIHdpZHRoKTtcbiAgICAgICAgb2Zmc2V0WSA9IC0oZHJhd0hlaWdodCAtIGRyYXdXaWR0aCkgLyAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd1dpZHRoID0gd2lkdGggKiAoTUVBU1VSRV9TSVpFIC8gaGVpZ2h0KTtcbiAgICAgICAgb2Zmc2V0WCA9IC0oZHJhd1dpZHRoIC0gZHJhd0hlaWdodCkgLyAyO1xuICAgICAgfVxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIG9mZnNldFgsIG9mZnNldFksIGRyYXdXaWR0aCwgZHJhd0hlaWdodCk7XG4gICAgICBjb25zdCBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjYW52YXMpO1xuICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoaW1nLnNyYyk7XG4gICAgICByZXNvbHZlKGRhdGFVUkwpO1xuICAgIH07XG4gICAgaW1nLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgaWYgKGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS9zdmcreG1sJykpIHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBpZiAocmVhZGVyLnJlc3VsdCAmJiB0eXBlb2YgcmVhZGVyLnJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpbWcuc3JjID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIH0gZWxzZSBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlL2dpZicpKSB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlYWRlci5yZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltZy5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICB9XG4gIH0pO1xufSIsIi8vIFRoaXMgaWNvbiBmaWxlIGlzIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5LlxudmFyIERvd25sb2FkT3V0bGluZWQgPSB7IFwiaWNvblwiOiB7IFwidGFnXCI6IFwic3ZnXCIsIFwiYXR0cnNcIjogeyBcInZpZXdCb3hcIjogXCI2NCA2NCA4OTYgODk2XCIsIFwiZm9jdXNhYmxlXCI6IFwiZmFsc2VcIiB9LCBcImNoaWxkcmVuXCI6IFt7IFwidGFnXCI6IFwicGF0aFwiLCBcImF0dHJzXCI6IHsgXCJkXCI6IFwiTTUwNS43IDY2MWE4IDggMCAwMDEyLjYgMGwxMTItMTQxLjdjNC4xLTUuMi40LTEyLjktNi4zLTEyLjloLTc0LjFWMTY4YzAtNC40LTMuNi04LTgtOGgtNjBjLTQuNCAwLTggMy42LTggOHYzMzguM0g0MDBjLTYuNyAwLTEwLjQgNy43LTYuMyAxMi45bDExMiAxNDEuOHpNODc4IDYyNmgtNjBjLTQuNCAwLTggMy42LTggOHYxNTRIMjE0VjYzNGMwLTQuNC0zLjYtOC04LThoLTYwYy00LjQgMC04IDMuNi04IDh2MTk4YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDY4NGMxNy43IDAgMzItMTQuMyAzMi0zMlY2MzRjMC00LjQtMy42LTgtOC04elwiIH0gfV0gfSwgXCJuYW1lXCI6IFwiZG93bmxvYWRcIiwgXCJ0aGVtZVwiOiBcIm91dGxpbmVkXCIgfTtcbmV4cG9ydCBkZWZhdWx0IERvd25sb2FkT3V0bGluZWQ7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbi8vIEdFTkVSQVRFIEJZIC4vc2NyaXB0cy9nZW5lcmF0ZS50c1xuLy8gRE9OIE5PVCBFRElUIElUIE1BTlVBTExZXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEb3dubG9hZE91dGxpbmVkU3ZnIGZyb20gXCJAYW50LWRlc2lnbi9pY29ucy1zdmcvZXMvYXNuL0Rvd25sb2FkT3V0bGluZWRcIjtcbmltcG9ydCBBbnRkSWNvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9BbnRkSWNvblwiO1xudmFyIERvd25sb2FkT3V0bGluZWQgPSBmdW5jdGlvbiBEb3dubG9hZE91dGxpbmVkKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFudGRJY29uLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICByZWY6IHJlZixcbiAgICBpY29uOiBEb3dubG9hZE91dGxpbmVkU3ZnXG4gIH0pKTtcbn07XG5cbi8qKiFbZG93bmxvYWRdKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU5UQWlJR2hsYVdkb2REMGlOVEFpSUdacGJHdzlJaU5qWVdOaFkyRWlJSFpwWlhkQ2IzZzlJalkwSURZMElEZzVOaUE0T1RZaUlHWnZZM1Z6WVdKc1pUMGlabUZzYzJVaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BIQmhkR2dnWkQwaVRUVXdOUzQzSURZMk1XRTRJRGdnTUNBd01ERXlMallnTUd3eE1USXRNVFF4TGpkak5DNHhMVFV1TWk0MExURXlMamt0Tmk0ekxURXlMamxvTFRjMExqRldNVFk0WXpBdE5DNDBMVE11TmkwNExUZ3RPR2d0TmpCakxUUXVOQ0F3TFRnZ015NDJMVGdnT0hZek16Z3VNMGcwTURCakxUWXVOeUF3TFRFd0xqUWdOeTQzTFRZdU15QXhNaTQ1YkRFeE1pQXhOREV1T0hwTk9EYzRJRFl5Tm1ndE5qQmpMVFF1TkNBd0xUZ2dNeTQyTFRnZ09IWXhOVFJJTWpFMFZqWXpOR013TFRRdU5DMHpMall0T0MwNExUaG9MVFl3WXkwMExqUWdNQzA0SURNdU5pMDRJRGgyTVRrNFl6QWdNVGN1TnlBeE5DNHpJRE15SURNeUlETXlhRFk0TkdNeE55NDNJREFnTXpJdE1UUXVNeUF6TWkwek1sWTJNelJqTUMwMExqUXRNeTQyTFRndE9DMDRlaUlnTHo0OEwzTjJaejQ9KSAqL1xudmFyIFJlZkljb24gPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihEb3dubG9hZE91dGxpbmVkKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFJlZkljb24uZGlzcGxheU5hbWUgPSAnRG93bmxvYWRPdXRsaW5lZCc7XG59XG5leHBvcnQgZGVmYXVsdCBSZWZJY29uOyIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGVsZXRlT3V0bGluZWQgZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zL2VzL2ljb25zL0RlbGV0ZU91dGxpbmVkXCI7XG5pbXBvcnQgRG93bmxvYWRPdXRsaW5lZCBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnMvZXMvaWNvbnMvRG93bmxvYWRPdXRsaW5lZFwiO1xuaW1wb3J0IEV5ZU91dGxpbmVkIGZyb20gXCJAYW50LWRlc2lnbi9pY29ucy9lcy9pY29ucy9FeWVPdXRsaW5lZFwiO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgQ1NTTW90aW9uIGZyb20gJ3JjLW1vdGlvbic7XG5pbXBvcnQgeyBDb25maWdDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29uZmlnLXByb3ZpZGVyJztcbmltcG9ydCBQcm9ncmVzcyBmcm9tICcuLi8uLi9wcm9ncmVzcyc7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi8uLi90b29sdGlwJztcbmNvbnN0IExpc3RJdGVtID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoKF9yZWYsIHJlZikgPT4ge1xuICBsZXQge1xuICAgIHByZWZpeENscyxcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGUsXG4gICAgbG9jYWxlLFxuICAgIGxpc3RUeXBlLFxuICAgIGZpbGUsXG4gICAgaXRlbXMsXG4gICAgcHJvZ3Jlc3M6IHByb2dyZXNzUHJvcHMsXG4gICAgaWNvblJlbmRlcixcbiAgICBhY3Rpb25JY29uUmVuZGVyLFxuICAgIGl0ZW1SZW5kZXIsXG4gICAgaXNJbWdVcmwsXG4gICAgc2hvd1ByZXZpZXdJY29uLFxuICAgIHNob3dSZW1vdmVJY29uLFxuICAgIHNob3dEb3dubG9hZEljb24sXG4gICAgcHJldmlld0ljb246IGN1c3RvbVByZXZpZXdJY29uLFxuICAgIHJlbW92ZUljb246IGN1c3RvbVJlbW92ZUljb24sXG4gICAgZG93bmxvYWRJY29uOiBjdXN0b21Eb3dubG9hZEljb24sXG4gICAgZXh0cmE6IGN1c3RvbUV4dHJhLFxuICAgIG9uUHJldmlldyxcbiAgICBvbkRvd25sb2FkLFxuICAgIG9uQ2xvc2VcbiAgfSA9IF9yZWY7XG4gIHZhciBfYSwgX2I7XG4gIC8vIFN0YXR1czogd2hpY2ggd2lsbCBpZ25vcmUgYHJlbW92ZWRgIHN0YXR1c1xuICBjb25zdCB7XG4gICAgc3RhdHVzXG4gIH0gPSBmaWxlO1xuICBjb25zdCBbbWVyZ2VkU3RhdHVzLCBzZXRNZXJnZWRTdGF0dXNdID0gUmVhY3QudXNlU3RhdGUoc3RhdHVzKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3RhdHVzICE9PSAncmVtb3ZlZCcpIHtcbiAgICAgIHNldE1lcmdlZFN0YXR1cyhzdGF0dXMpO1xuICAgIH1cbiAgfSwgW3N0YXR1c10pO1xuICAvLyBEZWxheSB0byBzaG93IHRoZSBwcm9ncmVzcyBiYXJcbiAgY29uc3QgW3Nob3dQcm9ncmVzcywgc2V0U2hvd1Byb2dyZXNzXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0U2hvd1Byb2dyZXNzKHRydWUpO1xuICAgIH0sIDMwMCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCBpY29uTm9kZSA9IGljb25SZW5kZXIoZmlsZSk7XG4gIGxldCBpY29uID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS1pY29uYFxuICB9LCBpY29uTm9kZSk7XG4gIGlmIChsaXN0VHlwZSA9PT0gJ3BpY3R1cmUnIHx8IGxpc3RUeXBlID09PSAncGljdHVyZS1jYXJkJyB8fCBsaXN0VHlwZSA9PT0gJ3BpY3R1cmUtY2lyY2xlJykge1xuICAgIGlmIChtZXJnZWRTdGF0dXMgPT09ICd1cGxvYWRpbmcnIHx8ICFmaWxlLnRodW1iVXJsICYmICFmaWxlLnVybCkge1xuICAgICAgY29uc3QgdXBsb2FkaW5nQ2xhc3NOYW1lID0gY2xhc3NOYW1lcyhgJHtwcmVmaXhDbHN9LWxpc3QtaXRlbS10aHVtYm5haWxgLCB7XG4gICAgICAgIFtgJHtwcmVmaXhDbHN9LWxpc3QtaXRlbS1maWxlYF06IG1lcmdlZFN0YXR1cyAhPT0gJ3VwbG9hZGluZydcbiAgICAgIH0pO1xuICAgICAgaWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiB1cGxvYWRpbmdDbGFzc05hbWVcbiAgICAgIH0sIGljb25Ob2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGh1bWJuYWlsID0gKGlzSW1nVXJsID09PSBudWxsIHx8IGlzSW1nVXJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpc0ltZ1VybChmaWxlKSkgPyAoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgICAgICBzcmM6IGZpbGUudGh1bWJVcmwgfHwgZmlsZS51cmwsXG4gICAgICAgIGFsdDogZmlsZS5uYW1lLFxuICAgICAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tbGlzdC1pdGVtLWltYWdlYCxcbiAgICAgICAgY3Jvc3NPcmlnaW46IGZpbGUuY3Jvc3NPcmlnaW5cbiAgICAgIH0pKSA6IGljb25Ob2RlO1xuICAgICAgY29uc3QgYUNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoYCR7cHJlZml4Q2xzfS1saXN0LWl0ZW0tdGh1bWJuYWlsYCwge1xuICAgICAgICBbYCR7cHJlZml4Q2xzfS1saXN0LWl0ZW0tZmlsZWBdOiBpc0ltZ1VybCAmJiAhaXNJbWdVcmwoZmlsZSlcbiAgICAgIH0pO1xuICAgICAgaWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogYUNsYXNzTmFtZSxcbiAgICAgICAgb25DbGljazogZSA9PiBvblByZXZpZXcoZmlsZSwgZSksXG4gICAgICAgIGhyZWY6IGZpbGUudXJsIHx8IGZpbGUudGh1bWJVcmwsXG4gICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgfSwgdGh1bWJuYWlsKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgbGlzdEl0ZW1DbGFzc05hbWUgPSBjbGFzc05hbWVzKGAke3ByZWZpeENsc30tbGlzdC1pdGVtYCwgYCR7cHJlZml4Q2xzfS1saXN0LWl0ZW0tJHttZXJnZWRTdGF0dXN9YCk7XG4gIGNvbnN0IGxpbmtQcm9wcyA9IHR5cGVvZiBmaWxlLmxpbmtQcm9wcyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGZpbGUubGlua1Byb3BzKSA6IGZpbGUubGlua1Byb3BzO1xuICBjb25zdCByZW1vdmVJY29uID0gKHR5cGVvZiBzaG93UmVtb3ZlSWNvbiA9PT0gJ2Z1bmN0aW9uJyA/IHNob3dSZW1vdmVJY29uKGZpbGUpIDogc2hvd1JlbW92ZUljb24pID8gYWN0aW9uSWNvblJlbmRlcigodHlwZW9mIGN1c3RvbVJlbW92ZUljb24gPT09ICdmdW5jdGlvbicgPyBjdXN0b21SZW1vdmVJY29uKGZpbGUpIDogY3VzdG9tUmVtb3ZlSWNvbikgfHwgKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERlbGV0ZU91dGxpbmVkLCBudWxsKSksICgpID0+IG9uQ2xvc2UoZmlsZSksIHByZWZpeENscywgbG9jYWxlLnJlbW92ZUZpbGUsXG4gIC8vIGFjY2VwdFVwbG9hZERpc2FibGVkIGlzIHRydWUsIG9ubHkgcmVtb3ZlIGljb24gd2lsbCBmb2xsb3cgVXBsb2FkIGRpc2FibGVkIHByb3BcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNDYxNzFcbiAgdHJ1ZSkgOiBudWxsO1xuICBjb25zdCBkb3dubG9hZEljb24gPSAodHlwZW9mIHNob3dEb3dubG9hZEljb24gPT09ICdmdW5jdGlvbicgPyBzaG93RG93bmxvYWRJY29uKGZpbGUpIDogc2hvd0Rvd25sb2FkSWNvbikgJiYgbWVyZ2VkU3RhdHVzID09PSAnZG9uZScgPyBhY3Rpb25JY29uUmVuZGVyKCh0eXBlb2YgY3VzdG9tRG93bmxvYWRJY29uID09PSAnZnVuY3Rpb24nID8gY3VzdG9tRG93bmxvYWRJY29uKGZpbGUpIDogY3VzdG9tRG93bmxvYWRJY29uKSB8fCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEb3dubG9hZE91dGxpbmVkLCBudWxsKSwgKCkgPT4gb25Eb3dubG9hZChmaWxlKSwgcHJlZml4Q2xzLCBsb2NhbGUuZG93bmxvYWRGaWxlKSA6IG51bGw7XG4gIGNvbnN0IGRvd25sb2FkT3JEZWxldGUgPSBsaXN0VHlwZSAhPT0gJ3BpY3R1cmUtY2FyZCcgJiYgbGlzdFR5cGUgIT09ICdwaWN0dXJlLWNpcmNsZScgJiYgKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAga2V5OiBcImRvd25sb2FkLWRlbGV0ZVwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgJHtwcmVmaXhDbHN9LWxpc3QtaXRlbS1hY3Rpb25zYCwge1xuICAgICAgcGljdHVyZTogbGlzdFR5cGUgPT09ICdwaWN0dXJlJ1xuICAgIH0pXG4gIH0sIGRvd25sb2FkSWNvbiwgcmVtb3ZlSWNvbikpO1xuICBjb25zdCBleHRyYUNvbnRlbnQgPSB0eXBlb2YgY3VzdG9tRXh0cmEgPT09ICdmdW5jdGlvbicgPyBjdXN0b21FeHRyYShmaWxlKSA6IGN1c3RvbUV4dHJhO1xuICBjb25zdCBleHRyYSA9IGV4dHJhQ29udGVudCAmJiAoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tbGlzdC1pdGVtLWV4dHJhYFxuICB9LCBleHRyYUNvbnRlbnQpKTtcbiAgY29uc3QgbGlzdEl0ZW1OYW1lQ2xhc3MgPSBjbGFzc05hbWVzKGAke3ByZWZpeENsc30tbGlzdC1pdGVtLW5hbWVgKTtcbiAgY29uc3QgZmlsZU5hbWUgPSBmaWxlLnVybCA/ICgvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAga2V5OiBcInZpZXdcIixcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICBjbGFzc05hbWU6IGxpc3RJdGVtTmFtZUNsYXNzLFxuICAgIHRpdGxlOiBmaWxlLm5hbWVcbiAgfSwgbGlua1Byb3BzLCB7XG4gICAgaHJlZjogZmlsZS51cmwsXG4gICAgb25DbGljazogZSA9PiBvblByZXZpZXcoZmlsZSwgZSlcbiAgfSksIGZpbGUubmFtZSwgZXh0cmEpKSA6ICgvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGtleTogXCJ2aWV3XCIsXG4gICAgY2xhc3NOYW1lOiBsaXN0SXRlbU5hbWVDbGFzcyxcbiAgICBvbkNsaWNrOiBlID0+IG9uUHJldmlldyhmaWxlLCBlKSxcbiAgICB0aXRsZTogZmlsZS5uYW1lXG4gIH0sIGZpbGUubmFtZSwgZXh0cmEpKTtcbiAgY29uc3QgcHJldmlld0ljb24gPSAodHlwZW9mIHNob3dQcmV2aWV3SWNvbiA9PT0gJ2Z1bmN0aW9uJyA/IHNob3dQcmV2aWV3SWNvbihmaWxlKSA6IHNob3dQcmV2aWV3SWNvbikgJiYgKGZpbGUudXJsIHx8IGZpbGUudGh1bWJVcmwpID8gKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogZmlsZS51cmwgfHwgZmlsZS50aHVtYlVybCxcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICBvbkNsaWNrOiBlID0+IG9uUHJldmlldyhmaWxlLCBlKSxcbiAgICB0aXRsZTogbG9jYWxlLnByZXZpZXdGaWxlXG4gIH0sIHR5cGVvZiBjdXN0b21QcmV2aWV3SWNvbiA9PT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbVByZXZpZXdJY29uKGZpbGUpIDogY3VzdG9tUHJldmlld0ljb24gfHwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXllT3V0bGluZWQsIG51bGwpKSkgOiBudWxsO1xuICBjb25zdCBwaWN0dXJlQ2FyZEFjdGlvbnMgPSAobGlzdFR5cGUgPT09ICdwaWN0dXJlLWNhcmQnIHx8IGxpc3RUeXBlID09PSAncGljdHVyZS1jaXJjbGUnKSAmJiBtZXJnZWRTdGF0dXMgIT09ICd1cGxvYWRpbmcnICYmICgvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS1saXN0LWl0ZW0tYWN0aW9uc2BcbiAgfSwgcHJldmlld0ljb24sIG1lcmdlZFN0YXR1cyA9PT0gJ2RvbmUnICYmIGRvd25sb2FkSWNvbiwgcmVtb3ZlSWNvbikpO1xuICBjb25zdCB7XG4gICAgZ2V0UHJlZml4Q2xzXG4gIH0gPSBSZWFjdC51c2VDb250ZXh0KENvbmZpZ0NvbnRleHQpO1xuICBjb25zdCByb290UHJlZml4Q2xzID0gZ2V0UHJlZml4Q2xzKCk7XG4gIGNvbnN0IGRvbSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGxpc3RJdGVtQ2xhc3NOYW1lXG4gIH0sIGljb24sIGZpbGVOYW1lLCBkb3dubG9hZE9yRGVsZXRlLCBwaWN0dXJlQ2FyZEFjdGlvbnMsIHNob3dQcm9ncmVzcyAmJiAoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTTW90aW9uLCB7XG4gICAgbW90aW9uTmFtZTogYCR7cm9vdFByZWZpeENsc30tZmFkZWAsXG4gICAgdmlzaWJsZTogbWVyZ2VkU3RhdHVzID09PSAndXBsb2FkaW5nJyxcbiAgICBtb3Rpb25EZWFkbGluZTogMjAwMFxuICB9LCBfcmVmMiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNsYXNzTmFtZTogbW90aW9uQ2xhc3NOYW1lXG4gICAgfSA9IF9yZWYyO1xuICAgIC8vIHNob3cgbG9hZGluZyBpY29uIGlmIHVwbG9hZCBwcm9ncmVzcyBsaXN0ZW5lciBpcyBkaXNhYmxlZFxuICAgIGNvbnN0IGxvYWRpbmdQcm9ncmVzcyA9ICdwZXJjZW50JyBpbiBmaWxlID8gKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFByb2dyZXNzLCBPYmplY3QuYXNzaWduKHt9LCBwcm9ncmVzc1Byb3BzLCB7XG4gICAgICB0eXBlOiBcImxpbmVcIixcbiAgICAgIHBlcmNlbnQ6IGZpbGUucGVyY2VudCxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBmaWxlWydhcmlhLWxhYmVsJ10sXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBmaWxlWydhcmlhLWxhYmVsbGVkYnknXVxuICAgIH0pKSkgOiBudWxsO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7cHJlZml4Q2xzfS1saXN0LWl0ZW0tcHJvZ3Jlc3NgLCBtb3Rpb25DbGFzc05hbWUpXG4gICAgfSwgbG9hZGluZ1Byb2dyZXNzKTtcbiAgfSkpKTtcbiAgY29uc3QgbWVzc2FnZSA9IGZpbGUucmVzcG9uc2UgJiYgdHlwZW9mIGZpbGUucmVzcG9uc2UgPT09ICdzdHJpbmcnID8gZmlsZS5yZXNwb25zZSA6ICgoX2EgPSBmaWxlLmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhdHVzVGV4dCkgfHwgKChfYiA9IGZpbGUuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tZXNzYWdlKSB8fCBsb2NhbGUudXBsb2FkRXJyb3I7XG4gIGNvbnN0IGl0ZW0gPSBtZXJnZWRTdGF0dXMgPT09ICdlcnJvcicgPyAoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwge1xuICAgIHRpdGxlOiBtZXNzYWdlLFxuICAgIGdldFBvcHVwQ29udGFpbmVyOiBub2RlID0+IG5vZGUucGFyZW50Tm9kZVxuICB9LCBkb20pKSA6IGRvbTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoYCR7cHJlZml4Q2xzfS1saXN0LWl0ZW0tY29udGFpbmVyYCwgY2xhc3NOYW1lKSxcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgcmVmOiByZWZcbiAgfSwgaXRlbVJlbmRlciA/IGl0ZW1SZW5kZXIoaXRlbSwgZmlsZSwgaXRlbXMsIHtcbiAgICBkb3dubG9hZDogb25Eb3dubG9hZC5iaW5kKG51bGwsIGZpbGUpLFxuICAgIHByZXZpZXc6IG9uUHJldmlldy5iaW5kKG51bGwsIGZpbGUpLFxuICAgIHJlbW92ZTogb25DbG9zZS5iaW5kKG51bGwsIGZpbGUpXG4gIH0pIDogaXRlbSk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IExpc3RJdGVtOyIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheVwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZpbGVUd29Ub25lIGZyb20gXCJAYW50LWRlc2lnbi9pY29ucy9lcy9pY29ucy9GaWxlVHdvVG9uZVwiO1xuaW1wb3J0IExvYWRpbmdPdXRsaW5lZCBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnMvZXMvaWNvbnMvTG9hZGluZ091dGxpbmVkXCI7XG5pbXBvcnQgUGFwZXJDbGlwT3V0bGluZWQgZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zL2VzL2ljb25zL1BhcGVyQ2xpcE91dGxpbmVkXCI7XG5pbXBvcnQgUGljdHVyZVR3b1RvbmUgZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zL2VzL2ljb25zL1BpY3R1cmVUd29Ub25lXCI7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBDU1NNb3Rpb24sIHsgQ1NTTW90aW9uTGlzdCB9IGZyb20gJ3JjLW1vdGlvbic7XG5pbXBvcnQgb21pdCBmcm9tIFwicmMtdXRpbC9lcy9vbWl0XCI7XG5pbXBvcnQgdXNlRm9yY2VVcGRhdGUgZnJvbSAnLi4vLi4vX3V0aWwvaG9va3MvdXNlRm9yY2VVcGRhdGUnO1xuaW1wb3J0IGluaXRDb2xsYXBzZU1vdGlvbiBmcm9tICcuLi8uLi9fdXRpbC9tb3Rpb24nO1xuaW1wb3J0IHsgY2xvbmVFbGVtZW50IH0gZnJvbSAnLi4vLi4vX3V0aWwvcmVhY3ROb2RlJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vYnV0dG9uJztcbmltcG9ydCB7IENvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi8uLi9jb25maWctcHJvdmlkZXInO1xuaW1wb3J0IHsgaXNJbWFnZVVybCwgcHJldmlld0ltYWdlIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IExpc3RJdGVtIGZyb20gJy4vTGlzdEl0ZW0nO1xuY29uc3QgSW50ZXJuYWxVcGxvYWRMaXN0ID0gKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIGxpc3RUeXBlID0gJ3RleHQnLFxuICAgIHByZXZpZXdGaWxlID0gcHJldmlld0ltYWdlLFxuICAgIG9uUHJldmlldyxcbiAgICBvbkRvd25sb2FkLFxuICAgIG9uUmVtb3ZlLFxuICAgIGxvY2FsZSxcbiAgICBpY29uUmVuZGVyLFxuICAgIGlzSW1hZ2VVcmw6IGlzSW1nVXJsID0gaXNJbWFnZVVybCxcbiAgICBwcmVmaXhDbHM6IGN1c3RvbWl6ZVByZWZpeENscyxcbiAgICBpdGVtcyA9IFtdLFxuICAgIHNob3dQcmV2aWV3SWNvbiA9IHRydWUsXG4gICAgc2hvd1JlbW92ZUljb24gPSB0cnVlLFxuICAgIHNob3dEb3dubG9hZEljb24gPSBmYWxzZSxcbiAgICByZW1vdmVJY29uLFxuICAgIHByZXZpZXdJY29uLFxuICAgIGRvd25sb2FkSWNvbixcbiAgICBleHRyYSxcbiAgICBwcm9ncmVzcyA9IHtcbiAgICAgIHNpemU6IFstMSwgMl0sXG4gICAgICBzaG93SW5mbzogZmFsc2VcbiAgICB9LFxuICAgIGFwcGVuZEFjdGlvbixcbiAgICBhcHBlbmRBY3Rpb25WaXNpYmxlID0gdHJ1ZSxcbiAgICBpdGVtUmVuZGVyLFxuICAgIGRpc2FibGVkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICBjb25zdCBbbW90aW9uQXBwZWFyLCBzZXRNb3Rpb25BcHBlYXJdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBpc1BpY3R1cmVDYXJkT3JDaXJsZSA9IFsncGljdHVyZS1jYXJkJywgJ3BpY3R1cmUtY2lyY2xlJ10uaW5jbHVkZXMobGlzdFR5cGUpO1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBFZmZlY3QgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxpc3RUeXBlLnN0YXJ0c1dpdGgoJ3BpY3R1cmUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAoaXRlbXMgfHwgW10pLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBpZiAoIShmaWxlLm9yaWdpbkZpbGVPYmogaW5zdGFuY2VvZiBGaWxlIHx8IGZpbGUub3JpZ2luRmlsZU9iaiBpbnN0YW5jZW9mIEJsb2IpIHx8IGZpbGUudGh1bWJVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmaWxlLnRodW1iVXJsID0gJyc7XG4gICAgICBwcmV2aWV3RmlsZSA9PT0gbnVsbCB8fCBwcmV2aWV3RmlsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJldmlld0ZpbGUoZmlsZS5vcmlnaW5GaWxlT2JqKS50aGVuKHByZXZpZXdEYXRhVXJsID0+IHtcbiAgICAgICAgLy8gTmVlZCBhcHBlbmQgJycgdG8gYXZvaWQgZGVhZCBsb29wXG4gICAgICAgIGZpbGUudGh1bWJVcmwgPSBwcmV2aWV3RGF0YVVybCB8fCAnJztcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbbGlzdFR5cGUsIGl0ZW1zLCBwcmV2aWV3RmlsZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE1vdGlvbkFwcGVhcih0cnVlKTtcbiAgfSwgW10pO1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBFdmVudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgY29uc3Qgb25JbnRlcm5hbFByZXZpZXcgPSAoZmlsZSwgZSkgPT4ge1xuICAgIGlmICghb25QcmV2aWV3KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBvblByZXZpZXcoZmlsZSk7XG4gIH07XG4gIGNvbnN0IG9uSW50ZXJuYWxEb3dubG9hZCA9IGZpbGUgPT4ge1xuICAgIGlmICh0eXBlb2Ygb25Eb3dubG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25Eb3dubG9hZChmaWxlKTtcbiAgICB9IGVsc2UgaWYgKGZpbGUudXJsKSB7XG4gICAgICB3aW5kb3cub3BlbihmaWxlLnVybCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvbkludGVybmFsQ2xvc2UgPSBmaWxlID0+IHtcbiAgICBvblJlbW92ZSA9PT0gbnVsbCB8fCBvblJlbW92ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZW1vdmUoZmlsZSk7XG4gIH07XG4gIGNvbnN0IGludGVybmFsSWNvblJlbmRlciA9IGZpbGUgPT4ge1xuICAgIGlmIChpY29uUmVuZGVyKSB7XG4gICAgICByZXR1cm4gaWNvblJlbmRlcihmaWxlLCBsaXN0VHlwZSk7XG4gICAgfVxuICAgIGNvbnN0IGlzTG9hZGluZyA9IGZpbGUuc3RhdHVzID09PSAndXBsb2FkaW5nJztcbiAgICBpZiAobGlzdFR5cGUuc3RhcnRzV2l0aCgncGljdHVyZScpKSB7XG4gICAgICBjb25zdCBsb2FkaW5nSWNvbiA9IGxpc3RUeXBlID09PSAncGljdHVyZScgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nT3V0bGluZWQsIG51bGwpIDogbG9jYWxlLnVwbG9hZGluZztcbiAgICAgIGNvbnN0IGZpbGVJY29uID0gKGlzSW1nVXJsID09PSBudWxsIHx8IGlzSW1nVXJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpc0ltZ1VybChmaWxlKSkgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQaWN0dXJlVHdvVG9uZSwgbnVsbCkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaWxlVHdvVG9uZSwgbnVsbCk7XG4gICAgICByZXR1cm4gaXNMb2FkaW5nID8gbG9hZGluZ0ljb24gOiBmaWxlSWNvbjtcbiAgICB9XG4gICAgcmV0dXJuIGlzTG9hZGluZyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdPdXRsaW5lZCwgbnVsbCkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYXBlckNsaXBPdXRsaW5lZCwgbnVsbCk7XG4gIH07XG4gIGNvbnN0IGFjdGlvbkljb25SZW5kZXIgPSAoY3VzdG9tSWNvbiwgY2FsbGJhY2ssIHByZWZpeENscywgdGl0bGUsIGFjY2VwdFVwbG9hZERpc2FibGVkKSA9PiB7XG4gICAgY29uc3QgYnRuUHJvcHMgPSB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgdGl0bGUsXG4gICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgaWYgKC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChjdXN0b21JY29uKSkge1xuICAgICAgICAgIChfYiA9IChfYSA9IGN1c3RvbUljb24ucHJvcHMpLm9uQ2xpY2spID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS1saXN0LWl0ZW0tYWN0aW9uYFxuICAgIH07XG4gICAgaWYgKGFjY2VwdFVwbG9hZERpc2FibGVkKSB7XG4gICAgICBidG5Qcm9wcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGN1c3RvbUljb24pID8gKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7fSwgYnRuUHJvcHMsIHtcbiAgICAgIGljb246IGNsb25lRWxlbWVudChjdXN0b21JY29uLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGN1c3RvbUljb24ucHJvcHMpLCB7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHt9XG4gICAgICB9KSlcbiAgICB9KSkpIDogKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7fSwgYnRuUHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgY3VzdG9tSWNvbikpKTtcbiAgfTtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFJlZiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFRlc3QgbmVlZHNcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgaGFuZGxlUHJldmlldzogb25JbnRlcm5hbFByZXZpZXcsXG4gICAgaGFuZGxlRG93bmxvYWQ6IG9uSW50ZXJuYWxEb3dubG9hZFxuICB9KSk7XG4gIGNvbnN0IHtcbiAgICBnZXRQcmVmaXhDbHNcbiAgfSA9IFJlYWN0LnVzZUNvbnRleHQoQ29uZmlnQ29udGV4dCk7XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFJlbmRlciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBjb25zdCBwcmVmaXhDbHMgPSBnZXRQcmVmaXhDbHMoJ3VwbG9hZCcsIGN1c3RvbWl6ZVByZWZpeENscyk7XG4gIGNvbnN0IHJvb3RQcmVmaXhDbHMgPSBnZXRQcmVmaXhDbHMoKTtcbiAgY29uc3QgbGlzdENsYXNzTmFtZXMgPSBjbGFzc05hbWVzKGAke3ByZWZpeENsc30tbGlzdGAsIGAke3ByZWZpeENsc30tbGlzdC0ke2xpc3RUeXBlfWApO1xuICBjb25zdCBsaXN0SXRlbU1vdGlvbiA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gb21pdChpbml0Q29sbGFwc2VNb3Rpb24ocm9vdFByZWZpeENscyksIFsnb25BcHBlYXJFbmQnLCAnb25FbnRlckVuZCcsICdvbkxlYXZlRW5kJ10pLCBbcm9vdFByZWZpeENsc10pO1xuICBjb25zdCBtb3Rpb25Db25maWcgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGlzUGljdHVyZUNhcmRPckNpcmxlID8ge30gOiBsaXN0SXRlbU1vdGlvbiksIHtcbiAgICBtb3Rpb25EZWFkbGluZTogMjAwMCxcbiAgICBtb3Rpb25OYW1lOiBgJHtwcmVmaXhDbHN9LSR7aXNQaWN0dXJlQ2FyZE9yQ2lybGUgPyAnYW5pbWF0ZS1pbmxpbmUnIDogJ2FuaW1hdGUnfWAsXG4gICAga2V5czogX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW1zLm1hcChmaWxlID0+ICh7XG4gICAgICBrZXk6IGZpbGUudWlkLFxuICAgICAgZmlsZVxuICAgIH0pKSksXG4gICAgbW90aW9uQXBwZWFyXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogbGlzdENsYXNzTmFtZXNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTTW90aW9uTGlzdCwgT2JqZWN0LmFzc2lnbih7fSwgbW90aW9uQ29uZmlnLCB7XG4gICAgY29tcG9uZW50OiBmYWxzZVxuICB9KSwgX3JlZiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGtleSxcbiAgICAgIGZpbGUsXG4gICAgICBjbGFzc05hbWU6IG1vdGlvbkNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBtb3Rpb25TdHlsZVxuICAgIH0gPSBfcmVmO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbSwge1xuICAgICAga2V5OiBrZXksXG4gICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgY2xhc3NOYW1lOiBtb3Rpb25DbGFzc05hbWUsXG4gICAgICBzdHlsZTogbW90aW9uU3R5bGUsXG4gICAgICBmaWxlOiBmaWxlLFxuICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgbGlzdFR5cGU6IGxpc3RUeXBlLFxuICAgICAgaXNJbWdVcmw6IGlzSW1nVXJsLFxuICAgICAgc2hvd1ByZXZpZXdJY29uOiBzaG93UHJldmlld0ljb24sXG4gICAgICBzaG93UmVtb3ZlSWNvbjogc2hvd1JlbW92ZUljb24sXG4gICAgICBzaG93RG93bmxvYWRJY29uOiBzaG93RG93bmxvYWRJY29uLFxuICAgICAgcmVtb3ZlSWNvbjogcmVtb3ZlSWNvbixcbiAgICAgIHByZXZpZXdJY29uOiBwcmV2aWV3SWNvbixcbiAgICAgIGRvd25sb2FkSWNvbjogZG93bmxvYWRJY29uLFxuICAgICAgZXh0cmE6IGV4dHJhLFxuICAgICAgaWNvblJlbmRlcjogaW50ZXJuYWxJY29uUmVuZGVyLFxuICAgICAgYWN0aW9uSWNvblJlbmRlcjogYWN0aW9uSWNvblJlbmRlcixcbiAgICAgIGl0ZW1SZW5kZXI6IGl0ZW1SZW5kZXIsXG4gICAgICBvblByZXZpZXc6IG9uSW50ZXJuYWxQcmV2aWV3LFxuICAgICAgb25Eb3dubG9hZDogb25JbnRlcm5hbERvd25sb2FkLFxuICAgICAgb25DbG9zZTogb25JbnRlcm5hbENsb3NlXG4gICAgfSk7XG4gIH0pLCBhcHBlbmRBY3Rpb24gJiYgKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTU01vdGlvbiwgT2JqZWN0LmFzc2lnbih7fSwgbW90aW9uQ29uZmlnLCB7XG4gICAgdmlzaWJsZTogYXBwZW5kQWN0aW9uVmlzaWJsZSxcbiAgICBmb3JjZVJlbmRlcjogdHJ1ZVxuICB9KSwgX3JlZjIgPT4ge1xuICAgIGxldCB7XG4gICAgICBjbGFzc05hbWU6IG1vdGlvbkNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBtb3Rpb25TdHlsZVxuICAgIH0gPSBfcmVmMjtcbiAgICByZXR1cm4gY2xvbmVFbGVtZW50KGFwcGVuZEFjdGlvbiwgb3JpUHJvcHMgPT4gKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhvcmlQcm9wcy5jbGFzc05hbWUsIG1vdGlvbkNsYXNzTmFtZSksXG4gICAgICBzdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1vdGlvblN0eWxlKSwge1xuICAgICAgICAvLyBwcmV2ZW50IHRoZSBlbGVtZW50IGhhcyBob3ZlciBjc3MgcHNldWRvLWNsYXNzIHRoYXQgbWF5IGNhdXNlIGFuaW1hdGlvbiB0byBlbmQgcHJlbWF0dXJlbHkuXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IG1vdGlvbkNsYXNzTmFtZSA/ICdub25lJyA6IHVuZGVmaW5lZFxuICAgICAgfSksIG9yaVByb3BzLnN0eWxlKVxuICAgIH0pKTtcbiAgfSkpKTtcbn07XG5jb25zdCBVcGxvYWRMaXN0ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoSW50ZXJuYWxVcGxvYWRMaXN0KTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFVwbG9hZExpc3QuZGlzcGxheU5hbWUgPSAnVXBsb2FkTGlzdCc7XG59XG5leHBvcnQgZGVmYXVsdCBVcGxvYWRMaXN0OyIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheVwiO1xudmFyIF9fYXdhaXRlciA9IHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmbHVzaFN5bmMgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmNVcGxvYWQgZnJvbSAncmMtdXBsb2FkJztcbmltcG9ydCB1c2VNZXJnZWRTdGF0ZSBmcm9tIFwicmMtdXRpbC9lcy9ob29rcy91c2VNZXJnZWRTdGF0ZVwiO1xuaW1wb3J0IHsgZGV2VXNlV2FybmluZyB9IGZyb20gJy4uL191dGlsL3dhcm5pbmcnO1xuaW1wb3J0IHsgQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uL2NvbmZpZy1wcm92aWRlcic7XG5pbXBvcnQgRGlzYWJsZWRDb250ZXh0IGZyb20gJy4uL2NvbmZpZy1wcm92aWRlci9EaXNhYmxlZENvbnRleHQnO1xuaW1wb3J0IHsgdXNlTG9jYWxlIH0gZnJvbSAnLi4vbG9jYWxlJztcbmltcG9ydCBkZWZhdWx0TG9jYWxlIGZyb20gJy4uL2xvY2FsZS9lbl9VUyc7XG5pbXBvcnQgdXNlU3R5bGUgZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQgVXBsb2FkTGlzdCBmcm9tICcuL1VwbG9hZExpc3QnO1xuaW1wb3J0IHsgZmlsZTJPYmosIGdldEZpbGVJdGVtLCByZW1vdmVGaWxlSXRlbSwgdXBkYXRlRmlsZUxpc3QgfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCBjb25zdCBMSVNUX0lHTk9SRSA9IGBfX0xJU1RfSUdOT1JFXyR7RGF0ZS5ub3coKX1fX2A7XG5jb25zdCBJbnRlcm5hbFVwbG9hZCA9IChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBmaWxlTGlzdCxcbiAgICBkZWZhdWx0RmlsZUxpc3QsXG4gICAgb25SZW1vdmUsXG4gICAgc2hvd1VwbG9hZExpc3QgPSB0cnVlLFxuICAgIGxpc3RUeXBlID0gJ3RleHQnLFxuICAgIG9uUHJldmlldyxcbiAgICBvbkRvd25sb2FkLFxuICAgIG9uQ2hhbmdlLFxuICAgIG9uRHJvcCxcbiAgICBwcmV2aWV3RmlsZSxcbiAgICBkaXNhYmxlZDogY3VzdG9tRGlzYWJsZWQsXG4gICAgbG9jYWxlOiBwcm9wTG9jYWxlLFxuICAgIGljb25SZW5kZXIsXG4gICAgaXNJbWFnZVVybCxcbiAgICBwcm9ncmVzcyxcbiAgICBwcmVmaXhDbHM6IGN1c3RvbWl6ZVByZWZpeENscyxcbiAgICBjbGFzc05hbWUsXG4gICAgdHlwZSA9ICdzZWxlY3QnLFxuICAgIGNoaWxkcmVuLFxuICAgIHN0eWxlLFxuICAgIGl0ZW1SZW5kZXIsXG4gICAgbWF4Q291bnQsXG4gICAgZGF0YSA9IHt9LFxuICAgIG11bHRpcGxlID0gZmFsc2UsXG4gICAgaGFzQ29udHJvbEluc2lkZSA9IHRydWUsXG4gICAgYWN0aW9uID0gJycsXG4gICAgYWNjZXB0ID0gJycsXG4gICAgc3VwcG9ydFNlcnZlclJlbmRlciA9IHRydWUsXG4gICAgcm9vdENsYXNzTmFtZVxuICB9ID0gcHJvcHM7XG4gIC8vID09PT09PT09PT09PT09PT09PT09PSBEaXNhYmxlZCA9PT09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgZGlzYWJsZWQgPSBSZWFjdC51c2VDb250ZXh0KERpc2FibGVkQ29udGV4dCk7XG4gIGNvbnN0IG1lcmdlZERpc2FibGVkID0gY3VzdG9tRGlzYWJsZWQgIT09IG51bGwgJiYgY3VzdG9tRGlzYWJsZWQgIT09IHZvaWQgMCA/IGN1c3RvbURpc2FibGVkIDogZGlzYWJsZWQ7XG4gIGNvbnN0IFttZXJnZWRGaWxlTGlzdCwgc2V0TWVyZ2VkRmlsZUxpc3RdID0gdXNlTWVyZ2VkU3RhdGUoZGVmYXVsdEZpbGVMaXN0IHx8IFtdLCB7XG4gICAgdmFsdWU6IGZpbGVMaXN0LFxuICAgIHBvc3RTdGF0ZTogbGlzdCA9PiBsaXN0ICE9PSBudWxsICYmIGxpc3QgIT09IHZvaWQgMCA/IGxpc3QgOiBbXVxuICB9KTtcbiAgY29uc3QgW2RyYWdTdGF0ZSwgc2V0RHJhZ1N0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKCdkcm9wJyk7XG4gIGNvbnN0IHVwbG9hZCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3Qgd3JhcFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjb25zdCB3YXJuaW5nID0gZGV2VXNlV2FybmluZygnVXBsb2FkJyk7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZygnZmlsZUxpc3QnIGluIHByb3BzIHx8ICEoJ3ZhbHVlJyBpbiBwcm9wcyksICd1c2FnZScsICdgdmFsdWVgIGlzIG5vdCBhIHZhbGlkIHByb3AsIGRvIHlvdSBtZWFuIGBmaWxlTGlzdGA/JykgOiB2b2lkIDA7XG4gICAgd2FybmluZy5kZXByZWNhdGVkKCEoJ3RyYW5zZm9ybUZpbGUnIGluIHByb3BzKSwgJ3RyYW5zZm9ybUZpbGUnLCAnYmVmb3JlVXBsb2FkJyk7XG4gIH1cbiAgLy8gQ29udHJvbCBtb2RlIHdpbGwgYXV0byBmaWxsIGZpbGUgdWlkIGlmIG5vdCBwcm92aWRlZFxuICBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIChmaWxlTGlzdCB8fCBbXSkuZm9yRWFjaCgoZmlsZSwgaW5kZXgpID0+IHtcbiAgICAgIGlmICghZmlsZS51aWQgJiYgIU9iamVjdC5pc0Zyb3plbihmaWxlKSkge1xuICAgICAgICBmaWxlLnVpZCA9IGBfX0FVVE9fXyR7dGltZXN0YW1wfV8ke2luZGV4fV9fYDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2ZpbGVMaXN0XSk7XG4gIGNvbnN0IG9uSW50ZXJuYWxDaGFuZ2UgPSAoZmlsZSwgY2hhbmdlZEZpbGVMaXN0LCBldmVudCkgPT4ge1xuICAgIGxldCBjbG9uZUxpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkoY2hhbmdlZEZpbGVMaXN0KTtcbiAgICBsZXQgZXhjZWVkTWF4Q291bnQgPSBmYWxzZTtcbiAgICAvLyBDdXQgdG8gbWF0Y2ggY291bnRcbiAgICBpZiAobWF4Q291bnQgPT09IDEpIHtcbiAgICAgIGNsb25lTGlzdCA9IGNsb25lTGlzdC5zbGljZSgtMSk7XG4gICAgfSBlbHNlIGlmIChtYXhDb3VudCkge1xuICAgICAgZXhjZWVkTWF4Q291bnQgPSBjbG9uZUxpc3QubGVuZ3RoID4gbWF4Q291bnQ7XG4gICAgICBjbG9uZUxpc3QgPSBjbG9uZUxpc3Quc2xpY2UoMCwgbWF4Q291bnQpO1xuICAgIH1cbiAgICAvLyBQcmV2ZW50IFJlYWN0MTggYXV0byBiYXRjaCBzaW5jZSBpbnB1dFt1cGxvYWRdIHRyaWdnZXIgcHJvY2VzcyBhdCBzYW1lIHRpbWVcbiAgICAvLyB3aGljaCBtYWtlcyBmaWxlTGlzdCBjbG9zdXJlIHByb2JsZW1cbiAgICBmbHVzaFN5bmMoKCkgPT4ge1xuICAgICAgc2V0TWVyZ2VkRmlsZUxpc3QoY2xvbmVMaXN0KTtcbiAgICB9KTtcbiAgICBjb25zdCBjaGFuZ2VJbmZvID0ge1xuICAgICAgZmlsZTogZmlsZSxcbiAgICAgIGZpbGVMaXN0OiBjbG9uZUxpc3RcbiAgICB9O1xuICAgIGlmIChldmVudCkge1xuICAgICAgY2hhbmdlSW5mby5ldmVudCA9IGV2ZW50O1xuICAgIH1cbiAgICBpZiAoIWV4Y2VlZE1heENvdW50IHx8IGZpbGUuc3RhdHVzID09PSAncmVtb3ZlZCcgfHxcbiAgICAvLyBXZSBzaG91bGQgaWdub3JlIGV2ZW50IGlmIGN1cnJlbnQgZmlsZSBpcyBleGNlZWQgYG1heENvdW50YFxuICAgIGNsb25lTGlzdC5zb21lKGYgPT4gZi51aWQgPT09IGZpbGUudWlkKSkge1xuICAgICAgZmx1c2hTeW5jKCgpID0+IHtcbiAgICAgICAgb25DaGFuZ2UgPT09IG51bGwgfHwgb25DaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ2hhbmdlKGNoYW5nZUluZm8pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtZXJnZWRCZWZvcmVVcGxvYWQgPSAoZmlsZSwgZmlsZUxpc3RBcmdzKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB7XG4gICAgICBiZWZvcmVVcGxvYWQsXG4gICAgICB0cmFuc2Zvcm1GaWxlXG4gICAgfSA9IHByb3BzO1xuICAgIGxldCBwYXJzZWRGaWxlID0gZmlsZTtcbiAgICBpZiAoYmVmb3JlVXBsb2FkKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCBiZWZvcmVVcGxvYWQoZmlsZSwgZmlsZUxpc3RBcmdzKTtcbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEhhY2sgZm9yIExJU1RfSUdOT1JFLCB3ZSBhZGQgYWRkaXRpb25hbCBpbmZvIHRvIHJlbW92ZSBmcm9tIHRoZSBsaXN0XG4gICAgICBkZWxldGUgZmlsZVtMSVNUX0lHTk9SRV07XG4gICAgICBpZiAocmVzdWx0ID09PSBMSVNUX0lHTk9SRSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmlsZSwgTElTVF9JR05PUkUsIHtcbiAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiByZXN1bHQpIHtcbiAgICAgICAgcGFyc2VkRmlsZSA9IHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybUZpbGUpIHtcbiAgICAgIHBhcnNlZEZpbGUgPSB5aWVsZCB0cmFuc2Zvcm1GaWxlKHBhcnNlZEZpbGUpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkRmlsZTtcbiAgfSk7XG4gIGNvbnN0IG9uQmF0Y2hTdGFydCA9IGJhdGNoRmlsZUluZm9MaXN0ID0+IHtcbiAgICAvLyBTa2lwIGZpbGUgd2hpY2ggbWFya2VkIGFzIGBMSVNUX0lHTk9SRWAsIHRoZXNlIGZpbGUgd2lsbCBub3QgYWRkIHRvIGZpbGUgbGlzdFxuICAgIGNvbnN0IGZpbHRlcmVkRmlsZUluZm9MaXN0ID0gYmF0Y2hGaWxlSW5mb0xpc3QuZmlsdGVyKGluZm8gPT4gIWluZm8uZmlsZVtMSVNUX0lHTk9SRV0pO1xuICAgIC8vIE5vdGhpbmcgdG8gZG8gc2luY2Ugbm8gZmlsZSBuZWVkIHVwbG9hZFxuICAgIGlmICghZmlsdGVyZWRGaWxlSW5mb0xpc3QubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9iamVjdEZpbGVMaXN0ID0gZmlsdGVyZWRGaWxlSW5mb0xpc3QubWFwKGluZm8gPT4gZmlsZTJPYmooaW5mby5maWxlKSk7XG4gICAgLy8gQ29uY2F0IG5ldyBmaWxlcyB3aXRoIHByZXYgZmlsZXNcbiAgICBsZXQgbmV3RmlsZUxpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkobWVyZ2VkRmlsZUxpc3QpO1xuICAgIG9iamVjdEZpbGVMaXN0LmZvckVhY2goZmlsZU9iaiA9PiB7XG4gICAgICAvLyBSZXBsYWNlIGZpbGUgaWYgZXhpc3RcbiAgICAgIG5ld0ZpbGVMaXN0ID0gdXBkYXRlRmlsZUxpc3QoZmlsZU9iaiwgbmV3RmlsZUxpc3QpO1xuICAgIH0pO1xuICAgIG9iamVjdEZpbGVMaXN0LmZvckVhY2goKGZpbGVPYmosIGluZGV4KSA9PiB7XG4gICAgICAvLyBSZXBlYXQgdHJpZ2dlciBgb25DaGFuZ2VgIGV2ZW50IGZvciBjb21wYXRpYmxlXG4gICAgICBsZXQgdHJpZ2dlckZpbGVPYmogPSBmaWxlT2JqO1xuICAgICAgaWYgKCFmaWx0ZXJlZEZpbGVJbmZvTGlzdFtpbmRleF0ucGFyc2VkRmlsZSkge1xuICAgICAgICAvLyBgYmVmb3JlVXBsb2FkYCByZXR1cm4gZmFsc2VcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIG9yaWdpbkZpbGVPYmpcbiAgICAgICAgfSA9IGZpbGVPYmo7XG4gICAgICAgIGxldCBjbG9uZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjbG9uZSA9IG5ldyBGaWxlKFtvcmlnaW5GaWxlT2JqXSwgb3JpZ2luRmlsZU9iai5uYW1lLCB7XG4gICAgICAgICAgICB0eXBlOiBvcmlnaW5GaWxlT2JqLnR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoX2EpIHtcbiAgICAgICAgICBjbG9uZSA9IG5ldyBCbG9iKFtvcmlnaW5GaWxlT2JqXSwge1xuICAgICAgICAgICAgdHlwZTogb3JpZ2luRmlsZU9iai50eXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY2xvbmUubmFtZSA9IG9yaWdpbkZpbGVPYmoubmFtZTtcbiAgICAgICAgICBjbG9uZS5sYXN0TW9kaWZpZWREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICBjbG9uZS5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9uZS51aWQgPSBmaWxlT2JqLnVpZDtcbiAgICAgICAgdHJpZ2dlckZpbGVPYmogPSBjbG9uZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEluamVjdCBgdXBsb2FkaW5nYCBzdGF0dXNcbiAgICAgICAgZmlsZU9iai5zdGF0dXMgPSAndXBsb2FkaW5nJztcbiAgICAgIH1cbiAgICAgIG9uSW50ZXJuYWxDaGFuZ2UodHJpZ2dlckZpbGVPYmosIG5ld0ZpbGVMaXN0KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgb25TdWNjZXNzID0gKHJlc3BvbnNlLCBmaWxlLCB4aHIpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiByZXNwb25zZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3R5bGUvbm9QYXJhbWV0ZXJBc3NpZ246IHdlIG5lZWQgdG8gbW9kaWZ5IHJlc3BvbnNlXG4gICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoX2EpIHtcbiAgICAgIC8qIGRvIG5vdGhpbmcgKi9cbiAgICB9XG4gICAgLy8gcmVtb3ZlZFxuICAgIGlmICghZ2V0RmlsZUl0ZW0oZmlsZSwgbWVyZ2VkRmlsZUxpc3QpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldEl0ZW0gPSBmaWxlMk9iaihmaWxlKTtcbiAgICB0YXJnZXRJdGVtLnN0YXR1cyA9ICdkb25lJztcbiAgICB0YXJnZXRJdGVtLnBlcmNlbnQgPSAxMDA7XG4gICAgdGFyZ2V0SXRlbS5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRhcmdldEl0ZW0ueGhyID0geGhyO1xuICAgIGNvbnN0IG5leHRGaWxlTGlzdCA9IHVwZGF0ZUZpbGVMaXN0KHRhcmdldEl0ZW0sIG1lcmdlZEZpbGVMaXN0KTtcbiAgICBvbkludGVybmFsQ2hhbmdlKHRhcmdldEl0ZW0sIG5leHRGaWxlTGlzdCk7XG4gIH07XG4gIGNvbnN0IG9uUHJvZ3Jlc3MgPSAoZSwgZmlsZSkgPT4ge1xuICAgIC8vIHJlbW92ZWRcbiAgICBpZiAoIWdldEZpbGVJdGVtKGZpbGUsIG1lcmdlZEZpbGVMaXN0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRJdGVtID0gZmlsZTJPYmooZmlsZSk7XG4gICAgdGFyZ2V0SXRlbS5zdGF0dXMgPSAndXBsb2FkaW5nJztcbiAgICB0YXJnZXRJdGVtLnBlcmNlbnQgPSBlLnBlcmNlbnQ7XG4gICAgY29uc3QgbmV4dEZpbGVMaXN0ID0gdXBkYXRlRmlsZUxpc3QodGFyZ2V0SXRlbSwgbWVyZ2VkRmlsZUxpc3QpO1xuICAgIG9uSW50ZXJuYWxDaGFuZ2UodGFyZ2V0SXRlbSwgbmV4dEZpbGVMaXN0LCBlKTtcbiAgfTtcbiAgY29uc3Qgb25FcnJvciA9IChlcnJvciwgcmVzcG9uc2UsIGZpbGUpID0+IHtcbiAgICAvLyByZW1vdmVkXG4gICAgaWYgKCFnZXRGaWxlSXRlbShmaWxlLCBtZXJnZWRGaWxlTGlzdCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0SXRlbSA9IGZpbGUyT2JqKGZpbGUpO1xuICAgIHRhcmdldEl0ZW0uZXJyb3IgPSBlcnJvcjtcbiAgICB0YXJnZXRJdGVtLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGFyZ2V0SXRlbS5zdGF0dXMgPSAnZXJyb3InO1xuICAgIGNvbnN0IG5leHRGaWxlTGlzdCA9IHVwZGF0ZUZpbGVMaXN0KHRhcmdldEl0ZW0sIG1lcmdlZEZpbGVMaXN0KTtcbiAgICBvbkludGVybmFsQ2hhbmdlKHRhcmdldEl0ZW0sIG5leHRGaWxlTGlzdCk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVJlbW92ZSA9IGZpbGUgPT4ge1xuICAgIGxldCBjdXJyZW50RmlsZTtcbiAgICBQcm9taXNlLnJlc29sdmUodHlwZW9mIG9uUmVtb3ZlID09PSAnZnVuY3Rpb24nID8gb25SZW1vdmUoZmlsZSkgOiBvblJlbW92ZSkudGhlbihyZXQgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgLy8gUHJldmVudCByZW1vdmluZyBmaWxlXG4gICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW1vdmVkRmlsZUxpc3QgPSByZW1vdmVGaWxlSXRlbShmaWxlLCBtZXJnZWRGaWxlTGlzdCk7XG4gICAgICBpZiAocmVtb3ZlZEZpbGVMaXN0KSB7XG4gICAgICAgIGN1cnJlbnRGaWxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBmaWxlKSwge1xuICAgICAgICAgIHN0YXR1czogJ3JlbW92ZWQnXG4gICAgICAgIH0pO1xuICAgICAgICBtZXJnZWRGaWxlTGlzdCA9PT0gbnVsbCB8fCBtZXJnZWRGaWxlTGlzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVyZ2VkRmlsZUxpc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBjb25zdCBtYXRjaEtleSA9IGN1cnJlbnRGaWxlLnVpZCAhPT0gdW5kZWZpbmVkID8gJ3VpZCcgOiAnbmFtZSc7XG4gICAgICAgICAgaWYgKGl0ZW1bbWF0Y2hLZXldID09PSBjdXJyZW50RmlsZVttYXRjaEtleV0gJiYgIU9iamVjdC5pc0Zyb3plbihpdGVtKSkge1xuICAgICAgICAgICAgaXRlbS5zdGF0dXMgPSAncmVtb3ZlZCc7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgKF9hID0gdXBsb2FkLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hYm9ydChjdXJyZW50RmlsZSk7XG4gICAgICAgIG9uSW50ZXJuYWxDaGFuZ2UoY3VycmVudEZpbGUsIHJlbW92ZWRGaWxlTGlzdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uRmlsZURyb3AgPSBlID0+IHtcbiAgICBzZXREcmFnU3RhdGUoZS50eXBlKTtcbiAgICBpZiAoZS50eXBlID09PSAnZHJvcCcpIHtcbiAgICAgIG9uRHJvcCA9PT0gbnVsbCB8fCBvbkRyb3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRHJvcChlKTtcbiAgICB9XG4gIH07XG4gIC8vIFRlc3QgbmVlZHNcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgb25CYXRjaFN0YXJ0LFxuICAgIG9uU3VjY2VzcyxcbiAgICBvblByb2dyZXNzLFxuICAgIG9uRXJyb3IsXG4gICAgZmlsZUxpc3Q6IG1lcmdlZEZpbGVMaXN0LFxuICAgIHVwbG9hZDogdXBsb2FkLmN1cnJlbnQsXG4gICAgbmF0aXZlRWxlbWVudDogd3JhcFJlZi5jdXJyZW50XG4gIH0pKTtcbiAgY29uc3Qge1xuICAgIGdldFByZWZpeENscyxcbiAgICBkaXJlY3Rpb24sXG4gICAgdXBsb2FkOiBjdHhVcGxvYWRcbiAgfSA9IFJlYWN0LnVzZUNvbnRleHQoQ29uZmlnQ29udGV4dCk7XG4gIGNvbnN0IHByZWZpeENscyA9IGdldFByZWZpeENscygndXBsb2FkJywgY3VzdG9taXplUHJlZml4Q2xzKTtcbiAgY29uc3QgcmNVcGxvYWRQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7XG4gICAgb25CYXRjaFN0YXJ0LFxuICAgIG9uRXJyb3IsXG4gICAgb25Qcm9ncmVzcyxcbiAgICBvblN1Y2Nlc3NcbiAgfSwgcHJvcHMpLCB7XG4gICAgZGF0YSxcbiAgICBtdWx0aXBsZSxcbiAgICBhY3Rpb24sXG4gICAgYWNjZXB0LFxuICAgIHN1cHBvcnRTZXJ2ZXJSZW5kZXIsXG4gICAgcHJlZml4Q2xzLFxuICAgIGRpc2FibGVkOiBtZXJnZWREaXNhYmxlZCxcbiAgICBiZWZvcmVVcGxvYWQ6IG1lcmdlZEJlZm9yZVVwbG9hZCxcbiAgICBvbkNoYW5nZTogdW5kZWZpbmVkLFxuICAgIGhhc0NvbnRyb2xJbnNpZGVcbiAgfSk7XG4gIGRlbGV0ZSByY1VwbG9hZFByb3BzLmNsYXNzTmFtZTtcbiAgZGVsZXRlIHJjVXBsb2FkUHJvcHMuc3R5bGU7XG4gIC8vIFJlbW92ZSBpZCB0byBhdm9pZCBvcGVuIGJ5IGxhYmVsIHdoZW4gdHJpZ2dlciBpcyBoaWRkZW5cbiAgLy8gIWNoaWxkcmVuOiBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy8xNDI5OFxuICAvLyBkaXNhYmxlZDogaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvMTY0NzhcbiAgLy8gICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzI0MTk3XG4gIGlmICghY2hpbGRyZW4gfHwgbWVyZ2VkRGlzYWJsZWQpIHtcbiAgICBkZWxldGUgcmNVcGxvYWRQcm9wcy5pZDtcbiAgfVxuICBjb25zdCB3cmFwcGVyQ2xzID0gYCR7cHJlZml4Q2xzfS13cmFwcGVyYDtcbiAgY29uc3QgW3dyYXBDU1NWYXIsIGhhc2hJZCwgY3NzVmFyQ2xzXSA9IHVzZVN0eWxlKHByZWZpeENscywgd3JhcHBlckNscyk7XG4gIGNvbnN0IFtjb250ZXh0TG9jYWxlXSA9IHVzZUxvY2FsZSgnVXBsb2FkJywgZGVmYXVsdExvY2FsZS5VcGxvYWQpO1xuICBjb25zdCB7XG4gICAgc2hvd1JlbW92ZUljb24sXG4gICAgc2hvd1ByZXZpZXdJY29uLFxuICAgIHNob3dEb3dubG9hZEljb24sXG4gICAgcmVtb3ZlSWNvbixcbiAgICBwcmV2aWV3SWNvbixcbiAgICBkb3dubG9hZEljb24sXG4gICAgZXh0cmFcbiAgfSA9IHR5cGVvZiBzaG93VXBsb2FkTGlzdCA9PT0gJ2Jvb2xlYW4nID8ge30gOiBzaG93VXBsb2FkTGlzdDtcbiAgLy8gdXNlIHNob3dSZW1vdmVJY29uIGlmIGl0IGlzIHNwZWNpZmllZCBleHBsaWNpdGx5XG4gIGNvbnN0IHJlYWxTaG93UmVtb3ZlSWNvbiA9IHR5cGVvZiBzaG93UmVtb3ZlSWNvbiA9PT0gJ3VuZGVmaW5lZCcgPyAhbWVyZ2VkRGlzYWJsZWQgOiBzaG93UmVtb3ZlSWNvbjtcbiAgY29uc3QgcmVuZGVyVXBsb2FkTGlzdCA9IChidXR0b24sIGJ1dHRvblZpc2libGUpID0+IHtcbiAgICBpZiAoIXNob3dVcGxvYWRMaXN0KSB7XG4gICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVXBsb2FkTGlzdCwge1xuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICBsaXN0VHlwZTogbGlzdFR5cGUsXG4gICAgICBpdGVtczogbWVyZ2VkRmlsZUxpc3QsXG4gICAgICBwcmV2aWV3RmlsZTogcHJldmlld0ZpbGUsXG4gICAgICBvblByZXZpZXc6IG9uUHJldmlldyxcbiAgICAgIG9uRG93bmxvYWQ6IG9uRG93bmxvYWQsXG4gICAgICBvblJlbW92ZTogaGFuZGxlUmVtb3ZlLFxuICAgICAgc2hvd1JlbW92ZUljb246IHJlYWxTaG93UmVtb3ZlSWNvbixcbiAgICAgIHNob3dQcmV2aWV3SWNvbjogc2hvd1ByZXZpZXdJY29uLFxuICAgICAgc2hvd0Rvd25sb2FkSWNvbjogc2hvd0Rvd25sb2FkSWNvbixcbiAgICAgIHJlbW92ZUljb246IHJlbW92ZUljb24sXG4gICAgICBwcmV2aWV3SWNvbjogcHJldmlld0ljb24sXG4gICAgICBkb3dubG9hZEljb246IGRvd25sb2FkSWNvbixcbiAgICAgIGljb25SZW5kZXI6IGljb25SZW5kZXIsXG4gICAgICBleHRyYTogZXh0cmEsXG4gICAgICBsb2NhbGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29udGV4dExvY2FsZSksIHByb3BMb2NhbGUpLFxuICAgICAgaXNJbWFnZVVybDogaXNJbWFnZVVybCxcbiAgICAgIHByb2dyZXNzOiBwcm9ncmVzcyxcbiAgICAgIGFwcGVuZEFjdGlvbjogYnV0dG9uLFxuICAgICAgYXBwZW5kQWN0aW9uVmlzaWJsZTogYnV0dG9uVmlzaWJsZSxcbiAgICAgIGl0ZW1SZW5kZXI6IGl0ZW1SZW5kZXIsXG4gICAgICBkaXNhYmxlZDogbWVyZ2VkRGlzYWJsZWRcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgbWVyZ2VkQ2xzID0gY2xhc3NOYW1lcyh3cmFwcGVyQ2xzLCBjbGFzc05hbWUsIHJvb3RDbGFzc05hbWUsIGhhc2hJZCwgY3NzVmFyQ2xzLCBjdHhVcGxvYWQgPT09IG51bGwgfHwgY3R4VXBsb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdHhVcGxvYWQuY2xhc3NOYW1lLCB7XG4gICAgW2Ake3ByZWZpeENsc30tcnRsYF06IGRpcmVjdGlvbiA9PT0gJ3J0bCcsXG4gICAgW2Ake3ByZWZpeENsc30tcGljdHVyZS1jYXJkLXdyYXBwZXJgXTogbGlzdFR5cGUgPT09ICdwaWN0dXJlLWNhcmQnLFxuICAgIFtgJHtwcmVmaXhDbHN9LXBpY3R1cmUtY2lyY2xlLXdyYXBwZXJgXTogbGlzdFR5cGUgPT09ICdwaWN0dXJlLWNpcmNsZSdcbiAgfSk7XG4gIGNvbnN0IG1lcmdlZFN0eWxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjdHhVcGxvYWQgPT09IG51bGwgfHwgY3R4VXBsb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdHhVcGxvYWQuc3R5bGUpLCBzdHlsZSk7XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PSBSZW5kZXIgPT09PT09PT09PT09PT09PT09PT09PT09XG4gIGlmICh0eXBlID09PSAnZHJhZycpIHtcbiAgICBjb25zdCBkcmFnQ2xzID0gY2xhc3NOYW1lcyhoYXNoSWQsIHByZWZpeENscywgYCR7cHJlZml4Q2xzfS1kcmFnYCwge1xuICAgICAgW2Ake3ByZWZpeENsc30tZHJhZy11cGxvYWRpbmdgXTogbWVyZ2VkRmlsZUxpc3Quc29tZShmaWxlID0+IGZpbGUuc3RhdHVzID09PSAndXBsb2FkaW5nJyksXG4gICAgICBbYCR7cHJlZml4Q2xzfS1kcmFnLWhvdmVyYF06IGRyYWdTdGF0ZSA9PT0gJ2RyYWdvdmVyJyxcbiAgICAgIFtgJHtwcmVmaXhDbHN9LWRpc2FibGVkYF06IG1lcmdlZERpc2FibGVkLFxuICAgICAgW2Ake3ByZWZpeENsc30tcnRsYF06IGRpcmVjdGlvbiA9PT0gJ3J0bCdcbiAgICB9KTtcbiAgICByZXR1cm4gd3JhcENTU1ZhcigvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBtZXJnZWRDbHMsXG4gICAgICByZWY6IHdyYXBSZWZcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGRyYWdDbHMsXG4gICAgICBzdHlsZTogbWVyZ2VkU3R5bGUsXG4gICAgICBvbkRyb3A6IG9uRmlsZURyb3AsXG4gICAgICBvbkRyYWdPdmVyOiBvbkZpbGVEcm9wLFxuICAgICAgb25EcmFnTGVhdmU6IG9uRmlsZURyb3BcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSY1VwbG9hZCwgT2JqZWN0LmFzc2lnbih7fSwgcmNVcGxvYWRQcm9wcywge1xuICAgICAgcmVmOiB1cGxvYWQsXG4gICAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tYnRuYFxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tZHJhZy1jb250YWluZXJgXG4gICAgfSwgY2hpbGRyZW4pKSksIHJlbmRlclVwbG9hZExpc3QoKSkpO1xuICB9XG4gIGNvbnN0IHVwbG9hZEJ0bkNscyA9IGNsYXNzTmFtZXMocHJlZml4Q2xzLCBgJHtwcmVmaXhDbHN9LXNlbGVjdGAsIHtcbiAgICBbYCR7cHJlZml4Q2xzfS1kaXNhYmxlZGBdOiBtZXJnZWREaXNhYmxlZCxcbiAgICBbYCR7cHJlZml4Q2xzfS1oaWRkZW5gXTogIWNoaWxkcmVuXG4gIH0pO1xuICBjb25zdCB1cGxvYWRCdXR0b24gPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiB1cGxvYWRCdG5DbHNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmNVcGxvYWQsIE9iamVjdC5hc3NpZ24oe30sIHJjVXBsb2FkUHJvcHMsIHtcbiAgICByZWY6IHVwbG9hZFxuICB9KSkpO1xuICBpZiAobGlzdFR5cGUgPT09ICdwaWN0dXJlLWNhcmQnIHx8IGxpc3RUeXBlID09PSAncGljdHVyZS1jaXJjbGUnKSB7XG4gICAgcmV0dXJuIHdyYXBDU1NWYXIoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogbWVyZ2VkQ2xzLFxuICAgICAgcmVmOiB3cmFwUmVmXG4gICAgfSwgcmVuZGVyVXBsb2FkTGlzdCh1cGxvYWRCdXR0b24sICEhY2hpbGRyZW4pKSk7XG4gIH1cbiAgcmV0dXJuIHdyYXBDU1NWYXIoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IG1lcmdlZENscyxcbiAgICByZWY6IHdyYXBSZWZcbiAgfSwgdXBsb2FkQnV0dG9uLCByZW5kZXJVcGxvYWRMaXN0KCkpKTtcbn07XG5jb25zdCBVcGxvYWQgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihJbnRlcm5hbFVwbG9hZCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBVcGxvYWQuZGlzcGxheU5hbWUgPSAnVXBsb2FkJztcbn1cbmV4cG9ydCBkZWZhdWx0IFVwbG9hZDsiLCJcInVzZSBjbGllbnRcIjtcblxudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBVcGxvYWQgZnJvbSAnLi9VcGxvYWQnO1xuY29uc3QgRHJhZ2dlciA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKChfYSwgcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgICBzdHlsZSxcbiAgICAgIGhlaWdodCxcbiAgICAgIGhhc0NvbnRyb2xJbnNpZGUgPSBmYWxzZVxuICAgIH0gPSBfYSxcbiAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInN0eWxlXCIsIFwiaGVpZ2h0XCIsIFwiaGFzQ29udHJvbEluc2lkZVwiXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChVcGxvYWQsIE9iamVjdC5hc3NpZ24oe1xuICAgIHJlZjogcmVmLFxuICAgIGhhc0NvbnRyb2xJbnNpZGU6IGhhc0NvbnRyb2xJbnNpZGVcbiAgfSwgcmVzdFByb3BzLCB7XG4gICAgdHlwZTogXCJkcmFnXCIsXG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUpLCB7XG4gICAgICBoZWlnaHRcbiAgICB9KVxuICB9KSk7XG59KTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIERyYWdnZXIuZGlzcGxheU5hbWUgPSAnRHJhZ2dlcic7XG59XG5leHBvcnQgZGVmYXVsdCBEcmFnZ2VyOyIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgRHJhZ2dlciBmcm9tICcuL0RyYWdnZXInO1xuaW1wb3J0IEludGVybmFsVXBsb2FkLCB7IExJU1RfSUdOT1JFIH0gZnJvbSAnLi9VcGxvYWQnO1xuY29uc3QgVXBsb2FkID0gSW50ZXJuYWxVcGxvYWQ7XG5VcGxvYWQuRHJhZ2dlciA9IERyYWdnZXI7XG5VcGxvYWQuTElTVF9JR05PUkUgPSBMSVNUX0lHTk9SRTtcbmV4cG9ydCBkZWZhdWx0IFVwbG9hZDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=webpack-internal:///2058
`)}}]);
